function MediumEditor(t,e){"use strict";return this.init(t,e)}!function(t,e){function n(t){var e=t.length,n=ue.type(t);return ue.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t){var e=Te[t]={};return ue.each(t.match(de)||[],function(t,n){e[n]=!0}),e}function r(t,n,i,r){if(ue.acceptData(t)){var s,o,a=ue.expando,l=t.nodeType,c=l?ue.cache:t,u=l?t[a]:t[a]&&a;if(u&&c[u]&&(r||c[u].data)||i!==e||"string"!=typeof n)return u||(u=l?t[a]=ee.pop()||ue.guid++:a),c[u]||(c[u]=l?{}:{toJSON:ue.noop}),("object"==typeof n||"function"==typeof n)&&(r?c[u]=ue.extend(c[u],n):c[u].data=ue.extend(c[u].data,n)),o=c[u],r||(o.data||(o.data={}),o=o.data),i!==e&&(o[ue.camelCase(n)]=i),"string"==typeof n?(s=o[n],null==s&&(s=o[ue.camelCase(n)])):s=o,s}}function s(t,e,n){if(ue.acceptData(t)){var i,r,s=t.nodeType,o=s?ue.cache:t,l=s?t[ue.expando]:ue.expando;if(o[l]){if(e&&(i=n?o[l]:o[l].data)){ue.isArray(e)?e=e.concat(ue.map(e,ue.camelCase)):e in i?e=[e]:(e=ue.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!a(i):!ue.isEmptyObject(i))return}(n||(delete o[l].data,a(o[l])))&&(s?ue.cleanData([t],!0):ue.support.deleteExpando||o!=o.window?delete o[l]:o[l]=null)}}}function o(t,n,i){if(i===e&&1===t.nodeType){var r="data-"+n.replace(Ee,"-$1").toLowerCase();if(i=t.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Se.test(i)?ue.parseJSON(i):i}catch(s){}ue.data(t,n,i)}else i=e}return i}function a(t){var e;for(e in t)if(("data"!==e||!ue.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return Y.activeElement}catch(t){}}function h(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function d(t,e,n){if(ue.isFunction(e))return ue.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ue.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Oe.test(e))return ue.filter(e,t,n);e=ue.filter(e,t)}return ue.grep(t,function(t){return ue.inArray(t,e)>=0!==n})}function p(t){var e=Ve.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function f(t,e){return ue.nodeName(t,"table")&&ue.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function m(t){return t.type=(null!==ue.find.attr(t,"type"))+"/"+t.type,t}function g(t){var e=sn.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var n,i=0;null!=(n=t[i]);i++)ue._data(n,"globalEval",!e||ue._data(e[i],"globalEval"))}function y(t,e){if(1===e.nodeType&&ue.hasData(t)){var n,i,r,s=ue._data(t),o=ue._data(e,s),a=s.events;if(a){delete o.handle,o.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)ue.event.add(e,n,a[n][i])}o.data&&(o.data=ue.extend({},o.data))}}function b(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ue.support.noCloneEvent&&e[ue.expando]){r=ue._data(e);for(i in r.events)ue.removeEvent(e,i,r.handle);e.removeAttribute(ue.expando)}"script"===n&&e.text!==t.text?(m(e).text=t.text,g(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ue.support.html5Clone&&t.innerHTML&&!ue.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&en.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function _(t,n){var i,r,s=0,o=typeof t.getElementsByTagName!==Q?t.getElementsByTagName(n||"*"):typeof t.querySelectorAll!==Q?t.querySelectorAll(n||"*"):e;if(!o)for(o=[],i=t.childNodes||t;null!=(r=i[s]);s++)!n||ue.nodeName(r,n)?o.push(r):ue.merge(o,_(r,n));return n===e||n&&ue.nodeName(t,n)?ue.merge([t],o):o}function w(t){en.test(t.type)&&(t.defaultChecked=t.checked)}function x(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=Tn.length;r--;)if(e=Tn[r]+n,e in t)return e;return i}function k(t,e){return t=e||t,"none"===ue.css(t,"display")||!ue.contains(t.ownerDocument,t)}function C(t,e){for(var n,i,r,s=[],o=0,a=t.length;a>o;o++)i=t[o],i.style&&(s[o]=ue._data(i,"olddisplay"),n=i.style.display,e?(s[o]||"none"!==n||(i.style.display=""),""===i.style.display&&k(i)&&(s[o]=ue._data(i,"olddisplay",$(i.nodeName)))):s[o]||(r=k(i),(n&&"none"!==n||!r)&&ue._data(i,"olddisplay",r?n:ue.css(i,"display"))));for(o=0;a>o;o++)i=t[o],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?s[o]||"":"none"));return t}function T(t,e,n){var i=yn.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function S(t,e,n,i,r){for(var s=n===(i?"border":"content")?4:"width"===e?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=ue.css(t,n+Cn[s],!0,r)),i?("content"===n&&(o-=ue.css(t,"padding"+Cn[s],!0,r)),"margin"!==n&&(o-=ue.css(t,"border"+Cn[s]+"Width",!0,r))):(o+=ue.css(t,"padding"+Cn[s],!0,r),"padding"!==n&&(o+=ue.css(t,"border"+Cn[s]+"Width",!0,r)));return o}function E(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,s=hn(t),o=ue.support.boxSizing&&"border-box"===ue.css(t,"boxSizing",!1,s);if(0>=r||null==r){if(r=dn(t,e,s),(0>r||null==r)&&(r=t.style[e]),bn.test(r))return r;i=o&&(ue.support.boxSizingReliable||r===t.style[e]),r=parseFloat(r)||0}return r+S(t,e,n||(o?"border":"content"),i,s)+"px"}function $(t){var e=Y,n=wn[t];return n||(n=D(t,e),"none"!==n&&n||(un=(un||ue("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(un[0].contentWindow||un[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=D(t,e),un.detach()),wn[t]=n),n}function D(t,e){var n=ue(e.createElement(t)).appendTo(e.body),i=ue.css(n[0],"display");return n.remove(),i}function A(t,e,n,i){var r;if(ue.isArray(e))ue.each(e,function(e,r){n||En.test(t)?i(t,r):A(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==ue.type(e))i(t,e);else for(r in e)A(t+"["+r+"]",e[r],n,i)}function N(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,s=e.toLowerCase().match(de)||[];if(ue.isFunction(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function j(t,e,n,i){function r(a){var l;return s[a]=!0,ue.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||o||s[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var s={},o=t===zn;return r(e.dataTypes[0])||!s["*"]&&r("*")}function I(t,n){var i,r,s=ue.ajaxSettings.flatOptions||{};for(r in n)n[r]!==e&&((s[r]?t:i||(i={}))[r]=n[r]);return i&&ue.extend(!0,t,i),t}function P(t,n,i){for(var r,s,o,a,l=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),s===e&&(s=t.mimeType||n.getResponseHeader("Content-Type"));if(s)for(a in l)if(l[a]&&l[a].test(s)){c.unshift(a);break}if(c[0]in i)o=c[0];else{for(a in i){if(!c[0]||t.converters[a+" "+c[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==c[0]&&c.unshift(o),i[o]):void 0}function L(t,e,n,i){var r,s,o,a,l,c={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(s=u.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=c[l+" "+s]||c["* "+s],!o)for(r in c)if(a=r.split(" "),a[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){o===!0?o=c[r]:c[r]!==!0&&(s=a[0],u.unshift(a[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(h){return{state:"parsererror",error:o?h:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}function H(){try{return new t.XMLHttpRequest}catch(e){}}function M(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function B(){return setTimeout(function(){Zn=e}),Zn=ue.now()}function F(t,e,n){for(var i,r=(si[e]||[]).concat(si["*"]),s=0,o=r.length;o>s;s++)if(i=r[s].call(n,e,t))return i}function R(t,e,n){var i,r,s=0,o=ri.length,a=ue.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Zn||B(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,s=1-i,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(s);return a.notifyWith(t,[c,s,n]),1>s&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ue.extend({},e),opts:ue.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Zn||B(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ue.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(q(u,c.opts.specialEasing);o>s;s++)if(i=ri[s].call(c,t,u,c.opts))return i;return ue.map(u,F,c),ue.isFunction(c.opts.start)&&c.opts.start.call(t,c),ue.fx.timer(ue.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function q(t,e){var n,i,r,s,o;for(n in t)if(i=ue.camelCase(n),r=e[i],s=t[n],ue.isArray(s)&&(r=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),o=ue.cssHooks[i],o&&"expand"in o){s=o.expand(s),delete t[i];for(n in s)n in t||(t[n]=s[n],e[n]=r)}else e[i]=r}function O(t,e,n){var i,r,s,o,a,l,c=this,u={},h=t.style,d=t.nodeType&&k(t),p=ue._data(t,"fxshow");n.queue||(a=ue._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ue.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===ue.css(t,"display")&&"none"===ue.css(t,"float")&&(ue.support.inlineBlockNeedsLayout&&"inline"!==$(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",ue.support.shrinkWrapBlocks||c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],ei.exec(r)){if(delete e[i],s=s||"toggle"===r,r===(d?"hide":"show"))continue;u[i]=p&&p[i]||ue.style(t,i)}if(!ue.isEmptyObject(u)){p?"hidden"in p&&(d=p.hidden):p=ue._data(t,"fxshow",{}),s&&(p.hidden=!d),d?ue(t).show():c.done(function(){ue(t).hide()}),c.done(function(){var e;ue._removeData(t,"fxshow");for(e in u)ue.style(t,e,u[e])});for(i in u)o=F(d?p[i]:0,i,c),i in p||(p[i]=o.start,d&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function U(t,e,n,i,r){return new U.prototype.init(t,e,n,i,r)}function z(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=Cn[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function W(t){return ue.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var V,K,Q=typeof e,X=t.location,Y=t.document,G=Y.documentElement,J=t.jQuery,Z=t.$,te={},ee=[],ne="1.10.2",ie=ee.concat,re=ee.push,se=ee.slice,oe=ee.indexOf,ae=te.toString,le=te.hasOwnProperty,ce=ne.trim,ue=function(t,e){return new ue.fn.init(t,e,K)},he=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,me=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ge=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,ye=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,_e=/^-ms-/,we=/-([\da-z])/gi,xe=function(t,e){return e.toUpperCase()},ke=function(t){(Y.addEventListener||"load"===t.type||"complete"===Y.readyState)&&(Ce(),ue.ready())},Ce=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",ke,!1),t.removeEventListener("load",ke,!1)):(Y.detachEvent("onreadystatechange",ke),t.detachEvent("onload",ke))};ue.fn=ue.prototype={jquery:ne,constructor:ue,init:function(t,n,i){var r,s;if(!t)return this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:fe.exec(t),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t);if(r[1]){if(n=n instanceof ue?n[0]:n,ue.merge(this,ue.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:Y,!0)),me.test(r[1])&&ue.isPlainObject(n))for(r in n)ue.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(s=Y.getElementById(r[2]),s&&s.parentNode){if(s.id!==r[2])return i.find(t);this.length=1,this[0]=s}return this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ue.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),ue.makeArray(t,this))},selector:"",length:0,toArray:function(){return se.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=ue.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ue.each(this,t,e)},ready:function(t){return ue.ready.promise().done(t),this},slice:function(){return this.pushStack(se.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(ue.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:re,sort:[].sort,splice:[].splice},ue.fn.init.prototype=ue.fn,ue.extend=ue.fn.extend=function(){var t,n,i,r,s,o,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||ue.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(s=arguments[l]))for(r in s)t=a[r],i=s[r],a!==i&&(u&&i&&(ue.isPlainObject(i)||(n=ue.isArray(i)))?(n?(n=!1,o=t&&ue.isArray(t)?t:[]):o=t&&ue.isPlainObject(t)?t:{},a[r]=ue.extend(u,o,i)):i!==e&&(a[r]=i));return a},ue.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===ue&&(t.$=Z),e&&t.jQuery===ue&&(t.jQuery=J),ue},isReady:!1,readyWait:1,holdReady:function(t){t?ue.readyWait++:ue.ready(!0)},ready:function(t){if(t===!0?!--ue.readyWait:!ue.isReady){if(!Y.body)return setTimeout(ue.ready);ue.isReady=!0,t!==!0&&--ue.readyWait>0||(V.resolveWith(Y,[ue]),ue.fn.trigger&&ue(Y).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===ue.type(t)},isArray:Array.isArray||function(t){return"array"===ue.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?te[ae.call(t)]||"object":typeof t},isPlainObject:function(t){var n;if(!t||"object"!==ue.type(t)||t.nodeType||ue.isWindow(t))return!1;try{if(t.constructor&&!le.call(t,"constructor")&&!le.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ue.support.ownLast)for(n in t)return le.call(t,n);for(n in t);return n===e||le.call(t,n)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Y;var i=me.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=ue.buildFragment([t],e,r),r&&ue(r).remove(),ue.merge([],i.childNodes))},parseJSON:function(e){return t.JSON&&t.JSON.parse?t.JSON.parse(e):null===e?e:"string"==typeof e&&(e=ue.trim(e),e&&ge.test(e.replace(ye,"@").replace(be,"]").replace(ve,"")))?new Function("return "+e)():(ue.error("Invalid JSON: "+e),void 0)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{t.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(s){i=e}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(e){e&&ue.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(_e,"ms-").replace(we,xe)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,s=0,o=t.length,a=n(t);if(i){if(a)for(;o>s&&(r=e.apply(t[s],i),r!==!1);s++);else for(s in t)if(r=e.apply(t[s],i),r===!1)break}else if(a)for(;o>s&&(r=e.call(t[s],s,t[s]),r!==!1);s++);else for(s in t)if(r=e.call(t[s],s,t[s]),r===!1)break;return t},trim:ce&&!ce.call("﻿ ")?function(t){return null==t?"":ce.call(t)}:function(t){return null==t?"":(t+"").replace(pe,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ue.merge(i,"string"==typeof t?[t]:t):re.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(oe)return oe.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var i=n.length,r=t.length,s=0;if("number"==typeof i)for(;i>s;s++)t[r++]=n[s];else for(;n[s]!==e;)t[r++]=n[s++];return t.length=r,t},grep:function(t,e,n){var i,r=[],s=0,o=t.length;for(n=!!n;o>s;s++)i=!!e(t[s],s),n!==i&&r.push(t[s]);return r},map:function(t,e,i){var r,s=0,o=t.length,a=n(t),l=[];if(a)for(;o>s;s++)r=e(t[s],s,i),null!=r&&(l[l.length]=r);else for(s in t)r=e(t[s],s,i),null!=r&&(l[l.length]=r);return ie.apply([],l)},guid:1,proxy:function(t,n){var i,r,s;return"string"==typeof n&&(s=t[n],n=t,t=s),ue.isFunction(t)?(i=se.call(arguments,2),r=function(){return t.apply(n||this,i.concat(se.call(arguments)))},r.guid=t.guid=t.guid||ue.guid++,r):e},access:function(t,n,i,r,s,o,a){var l=0,c=t.length,u=null==i;if("object"===ue.type(i)){s=!0;for(l in i)ue.access(t,n,l,i[l],!0,o,a)}else if(r!==e&&(s=!0,ue.isFunction(r)||(a=!0),u&&(a?(n.call(t,r),n=null):(u=n,n=function(t,e,n){return u.call(ue(t),n)})),n))for(;c>l;l++)n(t[l],i,a?r:r.call(t[l],l,n(t[l],i)));return s?t:u?n.call(t):c?n(t[0],i):o},now:function(){return(new Date).getTime()},swap:function(t,e,n,i){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];r=n.apply(t,i||[]);for(s in e)t.style[s]=o[s];return r}}),ue.ready.promise=function(e){if(!V)if(V=ue.Deferred(),"complete"===Y.readyState)setTimeout(ue.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",ke,!1),t.addEventListener("load",ke,!1);else{Y.attachEvent("onreadystatechange",ke),t.attachEvent("onload",ke);var n=!1;try{n=null==t.frameElement&&Y.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!ue.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}Ce(),ue.ready()}}()}return V.promise(e)},ue.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()}),K=ue(Y),function(t,e){function n(t,e,n,i){var r,s,o,a,l,c,u,h,f,m;if((e?e.ownerDocument||e:R)!==j&&N(e),e=e||j,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(P&&!i){if(r=be.exec(t))if(o=r[1]){if(9===a){if(s=e.getElementById(o),!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(o))&&B(e,s)&&s.id===o)return n.push(s),n}else{if(r[2])return te.apply(n,e.getElementsByTagName(t)),n;if((o=r[3])&&k.getElementsByClassName&&e.getElementsByClassName)return te.apply(n,e.getElementsByClassName(o)),n}if(k.qsa&&(!L||!L.test(t))){if(h=u=F,f=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=d(t),(u=e.getAttribute("id"))?h=u.replace(xe,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+p(c[l]);f=pe.test(t)&&e.parentNode||e,m=c.join(",")}if(m)try{return te.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{u||e.removeAttribute("id")}}}return w(t.replace(ce,"$1"),e,n,i)}function i(){function t(n,i){return e.push(n+=" ")>T.cacheLength&&delete t[e.shift()],t[n]=i}var e=[];return t}function r(t){return t[F]=!0,t}function s(t){var e=j.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)T.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return r(function(e){return e=+e,r(function(n,i){for(var r,s=t([],n.length,e),o=s.length;o--;)n[r=s[o]]&&(n[r]=!(i[r]=n[r]))})})}function h(){}function d(t,e){var i,r,s,o,a,l,c,u=z[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=T.preFilter;a;){(!i||(r=he.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),i=!1,(r=de.exec(a))&&(i=r.shift(),s.push({value:i,type:r[0].replace(ce," ")}),a=a.slice(i.length));for(o in T.filter)!(r=ve[o].exec(a))||c[o]&&!(r=c[o](r))||(i=r.shift(),s.push({value:i,type:o,matches:r}),a=a.slice(i.length));if(!i)break}return e?a.length:a?n.error(t):z(t,l).slice(0)}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,s=O++;return e.first?function(e,n,s){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,s)}:function(e,n,o){var a,l,c,u=q+" "+s;if(o){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,o))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(c=e[F]||(e[F]={}),(l=c[i])&&l[0]===u){if((a=l[1])===!0||a===C)return a===!0}else if(l=c[i]=[u],l[1]=t(e,n,o)||C,l[1]===!0)return!0}}function m(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,e,n,i,r){for(var s,o=[],a=0,l=t.length,c=null!=e;l>a;a++)(s=t[a])&&(!n||n(s,i,r))&&(o.push(s),c&&e.push(a));return o}function v(t,e,n,i,s,o){return i&&!i[F]&&(i=v(i)),s&&!s[F]&&(s=v(s,o)),r(function(r,o,a,l){var c,u,h,d=[],p=[],f=o.length,m=r||_(e||"*",a.nodeType?[a]:a,[]),v=!t||!r&&e?m:g(m,d,t,a,l),y=n?s||(r?t:f||i)?[]:o:v;if(n&&n(v,y,a,l),i)for(c=g(y,p),i(c,[],a,l),u=c.length;u--;)(h=c[u])&&(y[p[u]]=!(v[p[u]]=h));if(r){if(s||t){if(s){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(v[u]=h);s(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=s?ne.call(r,h):d[u])>-1&&(r[c]=!(o[c]=h))}}else y=g(y===o?y.splice(f,y.length):y),s?s(null,o,y,l):te.apply(o,y)})}function y(t){for(var e,n,i,r=t.length,s=T.relative[t[0].type],o=s||T.relative[" "],a=s?1:0,l=f(function(t){return t===e},o,!0),c=f(function(t){return ne.call(e,t)>-1},o,!0),u=[function(t,n,i){return!s&&(i||n!==D)||((e=n).nodeType?l(t,n,i):c(t,n,i))}];r>a;a++)if(n=T.relative[t[a].type])u=[f(m(u),n)];else{if(n=T.filter[t[a].type].apply(null,t[a].matches),n[F]){for(i=++a;r>i&&!T.relative[t[i].type];i++);return v(a>1&&m(u),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ce,"$1"),n,i>a&&y(t.slice(a,i)),r>i&&y(t=t.slice(i)),r>i&&p(t))}u.push(n)}return m(u)}function b(t,e){var i=0,s=e.length>0,o=t.length>0,a=function(r,a,l,c,u){var h,d,p,f=[],m=0,v="0",y=r&&[],b=null!=u,_=D,w=r||o&&T.find.TAG("*",u&&a.parentNode||a),x=q+=null==_?1:Math.random()||.1;for(b&&(D=a!==j&&a,C=i);null!=(h=w[v]);v++){if(o&&h){for(d=0;p=t[d++];)if(p(h,a,l)){c.push(h);break}b&&(q=x,C=++i)}s&&((h=!p&&h)&&m--,r&&y.push(h))}if(m+=v,s&&v!==m){for(d=0;p=e[d++];)p(y,f,a,l);if(r){if(m>0)for(;v--;)y[v]||f[v]||(f[v]=J.call(c));f=g(f)}te.apply(c,f),b&&!r&&f.length>0&&m+e.length>1&&n.uniqueSort(c)}return b&&(q=x,D=_),y};return s?r(a):a}function _(t,e,i){for(var r=0,s=e.length;s>r;r++)n(t,e[r],i);return i}function w(t,e,n,i){var r,s,o,a,l,c=d(t);if(!i&&1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&k.getById&&9===e.nodeType&&P&&T.relative[s[1].type]){if(e=(T.find.ID(o.matches[0].replace(ke,Ce),e)||[])[0],!e)return n;t=t.slice(s.shift().value.length)}for(r=ve.needsContext.test(t)?0:s.length;r--&&(o=s[r],!T.relative[a=o.type]);)if((l=T.find[a])&&(i=l(o.matches[0].replace(ke,Ce),pe.test(s[0].type)&&e.parentNode||e))){if(s.splice(r,1),t=i.length&&p(s),!t)return te.apply(n,i),n;break}}return $(t,c)(i,e,!P,n,pe.test(t)),n}var x,k,C,T,S,E,$,D,A,N,j,I,P,L,H,M,B,F="sizzle"+-new Date,R=t.document,q=0,O=0,U=i(),z=i(),W=i(),V=!1,K=function(t,e){return t===e?(V=!0,0):0},Q=typeof e,X=1<<31,Y={}.hasOwnProperty,G=[],J=G.pop,Z=G.push,te=G.push,ee=G.slice,ne=G.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",se="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=se.replace("w","w#"),ae="\\["+re+"*("+se+")"+re+"*(?:([*^$|!~]?=)"+re+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+oe+")|)|)"+re+"*\\]",le=":("+se+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ae.replace(3,8)+")*)|.*)\\)|)",ce=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),he=new RegExp("^"+re+"*,"+re+"*"),de=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),pe=new RegExp(re+"*[+~]"),fe=new RegExp("="+re+"*([^\\]'\"]*)"+re+"*\\]","g"),me=new RegExp(le),ge=new RegExp("^"+oe+"$"),ve={ID:new RegExp("^#("+se+")"),CLASS:new RegExp("^\\.("+se+")"),TAG:new RegExp("^("+se.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+le),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/^(?:input|select|textarea|button)$/i,we=/^h\d$/i,xe=/'|\\/g,ke=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Ce=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{te.apply(G=ee.call(R.childNodes),R.childNodes),G[R.childNodes.length].nodeType}catch(Te){te={apply:G.length?function(t,e){Z.apply(t,ee.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}E=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},k=n.support={},N=n.setDocument=function(t){var e=t?t.ownerDocument||t:R,n=e.defaultView;return e!==j&&9===e.nodeType&&e.documentElement?(j=e,I=e.documentElement,P=!E(e),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){N()}),k.attributes=s(function(t){return t.className="i",!t.getAttribute("className")}),k.getElementsByTagName=s(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),k.getElementsByClassName=s(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),k.getById=s(function(t){return I.appendChild(t).id=F,!e.getElementsByName||!e.getElementsByName(F).length}),k.getById?(T.find.ID=function(t,e){if(typeof e.getElementById!==Q&&P){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(t){var e=t.replace(ke,Ce);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var e=t.replace(ke,Ce);return function(t){var n=typeof t.getAttributeNode!==Q&&t.getAttributeNode("id");return n&&n.value===e}}),T.find.TAG=k.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==Q?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},T.find.CLASS=k.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==Q&&P?e.getElementsByClassName(t):void 0},H=[],L=[],(k.qsa=ye.test(e.querySelectorAll))&&(s(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||L.push("\\["+re+"*(?:value|"+ie+")"),t.querySelectorAll(":checked").length||L.push(":checked")}),s(function(t){var n=e.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&L.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(k.matchesSelector=ye.test(M=I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&s(function(t){k.disconnectedMatch=M.call(t,"div"),M.call(t,"[s!='']:x"),H.push("!=",le)}),L=L.length&&new RegExp(L.join("|")),H=H.length&&new RegExp(H.join("|")),B=ye.test(I.contains)||I.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},K=I.compareDocumentPosition?function(t,n){if(t===n)return V=!0,0;var i=n.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(n);return i?1&i||!k.sortDetached&&n.compareDocumentPosition(t)===i?t===e||B(R,t)?-1:n===e||B(R,n)?1:A?ne.call(A,t)-ne.call(A,n):0:4&i?-1:1:t.compareDocumentPosition?-1:1}:function(t,n){var i,r=0,s=t.parentNode,o=n.parentNode,l=[t],c=[n];if(t===n)return V=!0,0;if(!s||!o)return t===e?-1:n===e?1:s?-1:o?1:A?ne.call(A,t)-ne.call(A,n):0;if(s===o)return a(t,n);for(i=t;i=i.parentNode;)l.unshift(i);for(i=n;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===R?-1:c[r]===R?1:0},e):j},n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if((t.ownerDocument||t)!==j&&N(t),e=e.replace(fe,"='$1']"),!(!k.matchesSelector||!P||H&&H.test(e)||L&&L.test(e)))try{var i=M.call(t,e);if(i||k.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return n(e,j,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!==j&&N(t),B(t,e)},n.attr=function(t,n){(t.ownerDocument||t)!==j&&N(t);var i=T.attrHandle[n.toLowerCase()],r=i&&Y.call(T.attrHandle,n.toLowerCase())?i(t,n,!P):e;return r===e?k.attributes||!P?t.getAttribute(n):(r=t.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},n.uniqueSort=function(t){var e,n=[],i=0,r=0;if(V=!k.detectDuplicates,A=!k.sortStable&&t.slice(0),t.sort(K),V){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return t},S=n.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i];i++)n+=S(e);return n},T=n.selectors={cacheLength:50,createPseudo:r,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ke,Ce),t[3]=(t[4]||t[5]||"").replace(ke,Ce),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var n,i=!t[5]&&t[2];return ve.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:i&&me.test(i)&&(n=d(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(t[0]=t[0].slice(0,n),t[2]=i.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(ke,Ce).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Q&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(r){var s=n.attr(r,t);return null==s?"!="===e:e?(s+="","="===e?s===i:"!="===e?s!==i:"^="===e?i&&0===s.indexOf(i):"*="===e?i&&s.indexOf(i)>-1:"$="===e?i&&s.slice(-i.length)===i:"~="===e?(" "+s+" ").indexOf(i)>-1:"|="===e?s===i||s.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,p,f,m=s!==o?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(s){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&y){for(u=g[F]||(g[F]={}),c=u[t]||[],p=c[0]===q&&c[1],d=c[0]===q&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[q,p,d];break}}else if(y&&(c=(e[F]||(e[F]={}))[t])&&c[0]===q)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[F]||(h[F]={}))[t]=[q,d]),h!==e)););return d-=r,d===i||d%i===0&&d/i>=0
}}},PSEUDO:function(t,e){var i,s=T.pseudos[t]||T.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return s[F]?s(e):s.length>1?(i=[t,t,"",e],T.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,n){for(var i,r=s(t,e),o=r.length;o--;)i=ne.call(t,r[o]),t[i]=!(n[i]=r[o])}):function(t){return s(t,0,i)}):s}},pseudos:{not:r(function(t){var e=[],n=[],i=$(t.replace(ce,"$1"));return i[F]?r(function(t,e,n,r){for(var s,o=i(t,null,r,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,r,s){return e[0]=t,i(e,null,s,n),!n.pop()}}),has:r(function(t){return function(e){return n(t,e).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:r(function(t){return ge.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(ke,Ce).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return we.test(t.nodeName)},input:function(t){return _e.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=c(x);h.prototype=T.filters=T.pseudos,T.setFilters=new h,$=n.compile=function(t,e){var n,i=[],r=[],s=W[t+" "];if(!s){for(e||(e=d(t)),n=e.length;n--;)s=y(e[n]),s[F]?i.push(s):r.push(s);s=W(t,b(r,i))}return s},k.sortStable=F.split("").sort(K).join("")===F,k.detectDuplicates=V,N(),k.sortDetached=s(function(t){return 1&t.compareDocumentPosition(j.createElement("div"))}),s(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),k.attributes&&s(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),s(function(t){return null==t.getAttribute("disabled")})||o(ie,function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&i.specified?i.value:t[e]===!0?e.toLowerCase():null}),ue.find=n,ue.expr=n.selectors,ue.expr[":"]=ue.expr.pseudos,ue.unique=n.uniqueSort,ue.text=n.getText,ue.isXMLDoc=n.isXML,ue.contains=n.contains}(t);var Te={};ue.Callbacks=function(t){t="string"==typeof t?Te[t]||i(t):ue.extend({},t);var n,r,s,o,a,l,c=[],u=!t.once&&[],h=function(e){for(r=t.memory&&e,s=!0,a=l||0,l=0,o=c.length,n=!0;c&&o>a;a++)if(c[a].apply(e[0],e[1])===!1&&t.stopOnFalse){r=!1;break}n=!1,c&&(u?u.length&&h(u.shift()):r?c=[]:d.disable())},d={add:function(){if(c){var e=c.length;!function i(e){ue.each(e,function(e,n){var r=ue.type(n);"function"===r?t.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),n?o=c.length:r&&(l=e,h(r))}return this},remove:function(){return c&&ue.each(arguments,function(t,e){for(var i;(i=ue.inArray(e,c,i))>-1;)c.splice(i,1),n&&(o>=i&&o--,a>=i&&a--)}),this},has:function(t){return t?ue.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],o=0,this},disable:function(){return c=u=r=e,this},disabled:function(){return!c},lock:function(){return u=e,r||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!c||s&&!u||(e=e||[],e=[t,e.slice?e.slice():e],n?u.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!s}};return d},ue.extend({Deferred:function(t){var e=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ue.Deferred(function(n){ue.each(e,function(e,s){var o=s[0],a=ue.isFunction(t[e])&&t[e];r[s[1]](function(){var t=a&&a.apply(this,arguments);t&&ue.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ue.extend(t,i):i}},r={};return i.pipe=i.then,ue.each(e,function(t,s){var o=s[2],a=s[3];i[s[1]]=o.add,a&&o.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?i:this,arguments),this},r[s[0]+"With"]=o.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,s=se.call(arguments),o=s.length,a=1!==o||t&&ue.isFunction(t.promise)?o:0,l=1===a?t:ue.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?se.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(o>1)for(e=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)s[r]&&ue.isFunction(s[r].promise)?s[r].promise().done(c(r,i,s)).fail(l.reject).progress(c(r,n,e)):--a;return a||l.resolveWith(i,s),l.promise()}}),ue.support=function(e){var n,i,r,s,o,a,l,c,u,h=Y.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*")||[],i=h.getElementsByTagName("a")[0],!i||!i.style||!n.length)return e;s=Y.createElement("select"),a=s.appendChild(Y.createElement("option")),r=h.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==h.className,e.leadingWhitespace=3===h.firstChild.nodeType,e.tbody=!h.getElementsByTagName("tbody").length,e.htmlSerialize=!!h.getElementsByTagName("link").length,e.style=/top/.test(i.getAttribute("style")),e.hrefNormalized="/a"===i.getAttribute("href"),e.opacity=/^0.5/.test(i.style.opacity),e.cssFloat=!!i.style.cssFloat,e.checkOn=!!r.value,e.optSelected=a.selected,e.enctype=!!Y.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,s.disabled=!0,e.optDisabled=!a.disabled;try{delete h.test}catch(d){e.deleteExpando=!1}r=Y.createElement("input"),r.setAttribute("value",""),e.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),o=Y.createDocumentFragment(),o.appendChild(r),e.appendChecked=r.checked,e.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){e.noCloneEvent=!1}),h.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),e[u+"Bubbles"]=l in t||h.attributes[l].expando===!1;h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===h.style.backgroundClip;for(u in ue(e))break;return e.ownLast="0"!==u,ue(function(){var n,i,r,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=Y.getElementsByTagName("body")[0];o&&(n=Y.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(n).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=h.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=c&&0===r[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ue.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===h.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(h,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(h,null)||{width:"4px"}).width,i=h.appendChild(Y.createElement("div")),i.style.cssText=h.style.cssText=s,i.style.marginRight=i.style.width="0",h.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),typeof h.style.zoom!==Q&&(h.innerHTML="",h.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==h.offsetWidth,e.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(n),n=h=r=i=null)}),n=s=o=a=i=r=null,e}({});var Se=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ee=/([A-Z])/g;ue.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ue.cache[t[ue.expando]]:t[ue.expando],!!t&&!a(t)},data:function(t,e,n){return r(t,e,n)},removeData:function(t,e){return s(t,e)},_data:function(t,e,n){return r(t,e,n,!0)},_removeData:function(t,e){return s(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&ue.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),ue.fn.extend({data:function(t,n){var i,r,s=null,a=0,l=this[0];if(t===e){if(this.length&&(s=ue.data(l),1===l.nodeType&&!ue._data(l,"parsedAttrs"))){for(i=l.attributes;a<i.length;a++)r=i[a].name,0===r.indexOf("data-")&&(r=ue.camelCase(r.slice(5)),o(l,r,s[r]));ue._data(l,"parsedAttrs",!0)}return s}return"object"==typeof t?this.each(function(){ue.data(this,t)}):arguments.length>1?this.each(function(){ue.data(this,t,n)}):l?o(l,t,ue.data(l,t)):null},removeData:function(t){return this.each(function(){ue.removeData(this,t)})}}),ue.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=ue._data(t,e),n&&(!i||ue.isArray(n)?i=ue._data(t,e,ue.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ue.queue(t,e),i=n.length,r=n.shift(),s=ue._queueHooks(t,e),o=function(){ue.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete s.stop,r.call(t,o,s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ue._data(t,n)||ue._data(t,n,{empty:ue.Callbacks("once memory").add(function(){ue._removeData(t,e+"queue"),ue._removeData(t,n)})})}}),ue.fn.extend({queue:function(t,n){var i=2;return"string"!=typeof t&&(n=t,t="fx",i--),arguments.length<i?ue.queue(this[0],t):n===e?this:this.each(function(){var e=ue.queue(this,t,n);ue._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ue.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ue.dequeue(this,t)})},delay:function(t,e){return t=ue.fx?ue.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var i,r=1,s=ue.Deferred(),o=this,a=this.length,l=function(){--r||s.resolveWith(o,[o])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";a--;)i=ue._data(o[a],t+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),s.promise(n)}});var $e,De,Ae=/[\t\r\n\f]/g,Ne=/\r/g,je=/^(?:input|select|textarea|button|object)$/i,Ie=/^(?:a|area)$/i,Pe=/^(?:checked|selected)$/i,Le=ue.support.getSetAttribute,He=ue.support.input;ue.fn.extend({attr:function(t,e){return ue.access(this,ue.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ue.removeAttr(this,t)})},prop:function(t,e){return ue.access(this,ue.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ue.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,i,r,s,o=0,a=this.length,l="string"==typeof t&&t;if(ue.isFunction(t))return this.each(function(e){ue(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];a>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ae," "):" ")){for(s=0;r=e[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=ue.trim(i)}return this},removeClass:function(t){var e,n,i,r,s,o=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(ue.isFunction(t))return this.each(function(e){ue(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];a>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ae," "):"")){for(s=0;r=e[s++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=t?ue.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ue.isFunction(t)?this.each(function(n){ue(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,r=ue(this),s=t.match(de)||[];e=s[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===Q||"boolean"===n)&&(this.className&&ue._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ue._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ae," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,i,r,s=this[0];{if(arguments.length)return r=ue.isFunction(t),this.each(function(n){var s;1===this.nodeType&&(s=r?t.call(this,n,ue(this).val()):t,null==s?s="":"number"==typeof s?s+="":ue.isArray(s)&&(s=ue.map(s,function(t){return null==t?"":t+""})),i=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,s,"value")!==e||(this.value=s))});if(s)return i=ue.valHooks[s.type]||ue.valHooks[s.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(s,"value"))!==e?n:(n=s.value,"string"==typeof n?n.replace(Ne,""):null==n?"":n)}}}),ue.extend({valHooks:{option:{get:function(t){var e=ue.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,s="select-one"===t.type||0>r,o=s?null:[],a=s?r+1:i.length,l=0>r?a:s?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(ue.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ue.nodeName(n.parentNode,"optgroup"))){if(e=ue(n).val(),s)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,s=ue.makeArray(e),o=r.length;o--;)i=r[o],(i.selected=ue.inArray(ue(i).val(),s)>=0)&&(n=!0);return n||(t.selectedIndex=-1),s}}},attr:function(t,n,i){var r,s,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Q?ue.prop(t,n,i):(1===o&&ue.isXMLDoc(t)||(n=n.toLowerCase(),r=ue.attrHooks[n]||(ue.expr.match.bool.test(n)?De:$e)),i===e?r&&"get"in r&&null!==(s=r.get(t,n))?s:(s=ue.find.attr(t,n),null==s?e:s):null!==i?r&&"set"in r&&(s=r.set(t,i,n))!==e?s:(t.setAttribute(n,i+""),i):(ue.removeAttr(t,n),void 0))},removeAttr:function(t,e){var n,i,r=0,s=e&&e.match(de);if(s&&1===t.nodeType)for(;n=s[r++];)i=ue.propFix[n]||n,ue.expr.match.bool.test(n)?He&&Le||!Pe.test(n)?t[i]=!1:t[ue.camelCase("default-"+n)]=t[i]=!1:ue.attr(t,n,""),t.removeAttribute(Le?n:i)},attrHooks:{type:{set:function(t,e){if(!ue.support.radioValue&&"radio"===e&&ue.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,n,i){var r,s,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!ue.isXMLDoc(t),o&&(n=ue.propFix[n]||n,s=ue.propHooks[n]),i!==e?s&&"set"in s&&(r=s.set(t,i,n))!==e?r:t[n]=i:s&&"get"in s&&null!==(r=s.get(t,n))?r:t[n]},propHooks:{tabIndex:{get:function(t){var e=ue.find.attr(t,"tabindex");return e?parseInt(e,10):je.test(t.nodeName)||Ie.test(t.nodeName)&&t.href?0:-1}}}}),De={set:function(t,e,n){return e===!1?ue.removeAttr(t,n):He&&Le||!Pe.test(n)?t.setAttribute(!Le&&ue.propFix[n]||n,n):t[ue.camelCase("default-"+n)]=t[n]=!0,n}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(t,n){var i=ue.expr.attrHandle[n]||ue.find.attr;ue.expr.attrHandle[n]=He&&Le||!Pe.test(n)?function(t,n,r){var s=ue.expr.attrHandle[n],o=r?e:(ue.expr.attrHandle[n]=e)!=i(t,n,r)?n.toLowerCase():null;return ue.expr.attrHandle[n]=s,o}:function(t,n,i){return i?e:t[ue.camelCase("default-"+n)]?n.toLowerCase():null}}),He&&Le||(ue.attrHooks.value={set:function(t,e,n){return ue.nodeName(t,"input")?(t.defaultValue=e,void 0):$e&&$e.set(t,e,n)}}),Le||($e={set:function(t,n,i){var r=t.getAttributeNode(i);return r||t.setAttributeNode(r=t.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===t.getAttribute(i)?n:e}},ue.expr.attrHandle.id=ue.expr.attrHandle.name=ue.expr.attrHandle.coords=function(t,n,i){var r;return i?e:(r=t.getAttributeNode(n))&&""!==r.value?r.value:null},ue.valHooks.button={get:function(t,n){var i=t.getAttributeNode(n);return i&&i.specified?i.value:e},set:$e.set},ue.attrHooks.contenteditable={set:function(t,e,n){$e.set(t,""===e?!1:e,n)}},ue.each(["width","height"],function(t,e){ue.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),ue.support.hrefNormalized||ue.each(["href","src"],function(t,e){ue.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ue.support.style||(ue.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),ue.support.optSelected||(ue.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this}),ue.support.enctype||(ue.propFix.enctype="encoding"),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(t,e){return ue.isArray(e)?t.checked=ue.inArray(ue(t).val(),e)>=0:void 0}},ue.support.checkOn||(ue.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Me=/^(?:input|select|textarea)$/i,Be=/^key/,Fe=/^(?:mouse|contextmenu)|click/,Re=/^(?:focusinfocus|focusoutblur)$/,qe=/^([^.]*)(?:\.(.+)|)$/;ue.event={global:{},add:function(t,n,i,r,s){var o,a,l,c,u,h,d,p,f,m,g,v=ue._data(t);if(v){for(i.handler&&(c=i,i=c.handler,s=c.selector),i.guid||(i.guid=ue.guid++),(a=v.events)||(a=v.events={}),(h=v.handle)||(h=v.handle=function(t){return typeof ue===Q||t&&ue.event.triggered===t.type?e:ue.event.dispatch.apply(h.elem,arguments)},h.elem=t),n=(n||"").match(de)||[""],l=n.length;l--;)o=qe.exec(n[l])||[],f=g=o[1],m=(o[2]||"").split(".").sort(),f&&(u=ue.event.special[f]||{},f=(s?u.delegateType:u.bindType)||f,u=ue.event.special[f]||{},d=ue.extend({type:f,origType:g,data:r,handler:i,guid:i.guid,selector:s,needsContext:s&&ue.expr.match.needsContext.test(s),namespace:m.join(".")},c),(p=a[f])||(p=a[f]=[],p.delegateCount=0,u.setup&&u.setup.call(t,r,m,h)!==!1||(t.addEventListener?t.addEventListener(f,h,!1):t.attachEvent&&t.attachEvent("on"+f,h))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),s?p.splice(p.delegateCount++,0,d):p.push(d),ue.event.global[f]=!0);t=null}},remove:function(t,e,n,i,r){var s,o,a,l,c,u,h,d,p,f,m,g=ue.hasData(t)&&ue._data(t);if(g&&(u=g.events)){for(e=(e||"").match(de)||[""],c=e.length;c--;)if(a=qe.exec(e[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=ue.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=d.length;s--;)o=d[s],!r&&m!==o.origType||n&&n.guid!==o.guid||a&&!a.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(d.splice(s,1),o.selector&&d.delegateCount--,h.remove&&h.remove.call(t,o));l&&!d.length&&(h.teardown&&h.teardown.call(t,f,g.handle)!==!1||ue.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)ue.event.remove(t,p+e[c],n,i,!0);ue.isEmptyObject(u)&&(delete g.handle,ue._removeData(t,"events"))}},trigger:function(n,i,r,s){var o,a,l,c,u,h,d,p=[r||Y],f=le.call(n,"type")?n.type:n,m=le.call(n,"namespace")?n.namespace.split("."):[];if(l=h=r=r||Y,3!==r.nodeType&&8!==r.nodeType&&!Re.test(f+ue.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=f.indexOf(":")<0&&"on"+f,n=n[ue.expando]?n:new ue.Event(f,"object"==typeof n&&n),n.isTrigger=s?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=r),i=null==i?[n]:ue.makeArray(i,[n]),u=ue.event.special[f]||{},s||!u.trigger||u.trigger.apply(r,i)!==!1)){if(!s&&!u.noBubble&&!ue.isWindow(r)){for(c=u.delegateType||f,Re.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),h=l;h===(r.ownerDocument||Y)&&p.push(h.defaultView||h.parentWindow||t)}for(d=0;(l=p[d++])&&!n.isPropagationStopped();)n.type=d>1?c:u.bindType||f,o=(ue._data(l,"events")||{})[n.type]&&ue._data(l,"handle"),o&&o.apply(l,i),o=a&&l[a],o&&ue.acceptData(l)&&o.apply&&o.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!s&&!n.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),i)===!1)&&ue.acceptData(r)&&a&&r[f]&&!ue.isWindow(r)){h=r[a],h&&(r[a]=null),ue.event.triggered=f;try{r[f]()}catch(g){}ue.event.triggered=e,h&&(r[a]=h)}return n.result}},dispatch:function(t){t=ue.event.fix(t);var n,i,r,s,o,a=[],l=se.call(arguments),c=(ue._data(this,"events")||{})[t.type]||[],u=ue.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=ue.event.handlers.call(this,t,c),n=0;(s=a[n++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,o=0;(r=s.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,i=((ue.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,l),i!==e&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,n){var i,r,s,o,a=[],l=n.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(s=[],o=0;l>o;o++)r=n[o],i=r.selector+" ",s[i]===e&&(s[i]=r.needsContext?ue(i,this).index(c)>=0:ue.find(i,this,null,[c]).length),s[i]&&s.push(r);s.length&&a.push({elem:c,handlers:s})}return l<n.length&&a.push({elem:this,handlers:n.slice(l)}),a},fix:function(t){if(t[ue.expando])return t;var e,n,i,r=t.type,s=t,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Fe.test(r)?this.mouseHooks:Be.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,t=new ue.Event(s),e=i.length;e--;)n=i[e],t[n]=s[n];return t.target||(t.target=s.srcElement||Y),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,o.filter?o.filter(t,s):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,r,s,o=n.button,a=n.fromElement;return null==t.pageX&&null!=n.clientX&&(r=t.target.ownerDocument||Y,s=r.documentElement,i=r.body,t.pageX=n.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),t.pageY=n.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?n.toElement:a),t.which||o===e||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ue.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ue.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=ue.extend(new ue.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?ue.event.trigger(r,null,e):ue.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},ue.removeEvent=Y.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===Q&&(t[i]=null),t.detachEvent(i,n))},ue.Event=function(t,e){return this instanceof ue.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:c):this.type=t,e&&ue.extend(this,e),this.timeStamp=t&&t.timeStamp||ue.now(),this[ue.expando]=!0,void 0):new ue.Event(t,e)},ue.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){ue.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,s=t.handleObj;return(!r||r!==i&&!ue.contains(i,r))&&(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}}),ue.support.submitBubbles||(ue.event.special.submit={setup:function(){return ue.nodeName(this,"form")?!1:(ue.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,i=ue.nodeName(n,"input")||ue.nodeName(n,"button")?n.form:e;i&&!ue._data(i,"submitBubbles")&&(ue.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),ue._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ue.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ue.nodeName(this,"form")?!1:(ue.event.remove(this,"._submit"),void 0)}}),ue.support.changeBubbles||(ue.event.special.change={setup:function(){return Me.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ue.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ue.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ue.event.simulate("change",this,t,!0)})),!1):(ue.event.add(this,"beforeactivate._change",function(t){var e=t.target;Me.test(e.nodeName)&&!ue._data(e,"changeBubbles")&&(ue.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ue.event.simulate("change",this.parentNode,t,!0)}),ue._data(e,"changeBubbles",!0))}),void 0)},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ue.event.remove(this,"._change"),!Me.test(this.nodeName)}}),ue.support.focusinBubbles||ue.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){ue.event.simulate(e,t.target,ue.event.fix(t),!0)};ue.event.special[e]={setup:function(){0===n++&&Y.addEventListener(t,i,!0)},teardown:function(){0===--n&&Y.removeEventListener(t,i,!0)}}}),ue.fn.extend({on:function(t,n,i,r,s){var o,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=e);for(o in t)this.on(o,n,i,t[o],s);return this}if(null==i&&null==r?(r=n,i=n=e):null==r&&("string"==typeof n?(r=i,i=e):(r=i,i=n,n=e)),r===!1)r=c;else if(!r)return this;return 1===s&&(a=r,r=function(t){return ue().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ue.guid++)),this.each(function(){ue.event.add(this,t,r,i,n)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,n,i){var r,s;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ue(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(s in t)this.off(s,n,t[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=c),this.each(function(){ue.event.remove(this,t,i,n)})},trigger:function(t,e){return this.each(function(){ue.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ue.event.trigger(t,e,n,!0):void 0}});var Oe=/^.[^:#\[\.,]*$/,Ue=/^(?:parents|prev(?:Until|All))/,ze=ue.expr.match.needsContext,We={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(ue(t).filter(function(){for(e=0;r>e;e++)if(ue.contains(i[e],this))return!0}));for(e=0;r>e;e++)ue.find(t,i[e],n);return n=this.pushStack(r>1?ue.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},has:function(t){var e,n=ue(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(ue.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(d(this,t||[],!0))},filter:function(t){return this.pushStack(d(this,t||[],!1))},is:function(t){return!!d(this,"string"==typeof t&&ze.test(t)?ue(t):t||[],!1).length},closest:function(t,e){for(var n,i=0,r=this.length,s=[],o=ze.test(t)||"string"!=typeof t?ue(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&ue.find.matchesSelector(n,t))){n=s.push(n);break}return this.pushStack(s.length>1?ue.unique(s):s)},index:function(t){return t?"string"==typeof t?ue.inArray(this[0],ue(t)):ue.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?ue(t,e):ue.makeArray(t&&t.nodeType?[t]:t),i=ue.merge(this.get(),n);return this.pushStack(ue.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ue.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ue.dir(t,"parentNode")},parentsUntil:function(t,e,n){return ue.dir(t,"parentNode",n)},next:function(t){return h(t,"nextSibling")},prev:function(t){return h(t,"previousSibling")},nextAll:function(t){return ue.dir(t,"nextSibling")},prevAll:function(t){return ue.dir(t,"previousSibling")},nextUntil:function(t,e,n){return ue.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return ue.dir(t,"previousSibling",n)},siblings:function(t){return ue.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ue.sibling(t.firstChild)},contents:function(t){return ue.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ue.merge([],t.childNodes)}},function(t,e){ue.fn[t]=function(n,i){var r=ue.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ue.filter(i,r)),this.length>1&&(We[t]||(r=ue.unique(r)),Ue.test(t)&&(r=r.reverse())),this.pushStack(r)}}),ue.extend({filter:function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ue.find.matchesSelector(i,t)?[i]:[]:ue.find.matches(t,ue.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,i){for(var r=[],s=t[n];s&&9!==s.nodeType&&(i===e||1!==s.nodeType||!ue(s).is(i));)1===s.nodeType&&r.push(s),s=s[n];return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Ve="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ke=/ jQuery\d+="(?:null|\d+)"/g,Qe=new RegExp("<(?:"+Ve+")[\\s/>]","i"),Xe=/^\s+/,Ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ge=/<([\w:]+)/,Je=/<tbody/i,Ze=/<|&#?\w+;/,tn=/<(?:script|style|link)/i,en=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,sn=/^true\/(.*)/,on=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,an={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=p(Y),cn=ln.appendChild(Y.createElement("div"));
an.optgroup=an.option,an.tbody=an.tfoot=an.colgroup=an.caption=an.thead,an.th=an.td,ue.fn.extend({text:function(t){return ue.access(this,function(t){return t===e?ue.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?ue.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||ue.cleanData(_(n)),n.parentNode&&(e&&ue.contains(n.ownerDocument,n)&&v(_(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ue.cleanData(_(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ue.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ue.clone(this,t,e)})},html:function(t){return ue.access(this,function(t){var n=this[0]||{},i=0,r=this.length;if(t===e)return 1===n.nodeType?n.innerHTML.replace(Ke,""):e;if(!("string"!=typeof t||tn.test(t)||!ue.support.htmlSerialize&&Qe.test(t)||!ue.support.leadingWhitespace&&Xe.test(t)||an[(Ge.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ye,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(ue.cleanData(_(n,!1)),n.innerHTML=t);n=0}catch(s){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=ue.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var i=t[e++],r=t[e++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),ue(this).remove(),r.insertBefore(n,i))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=ie.apply([],t);var i,r,s,o,a,l,c=0,u=this.length,h=this,d=u-1,p=t[0],f=ue.isFunction(p);if(f||!(1>=u||"string"!=typeof p||ue.support.checkClone)&&nn.test(p))return this.each(function(i){var r=h.eq(i);f&&(t[0]=p.call(this,i,r.html())),r.domManip(t,e,n)});if(u&&(l=ue.buildFragment(t,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(o=ue.map(_(l,"script"),m),s=o.length;u>c;c++)r=l,c!==d&&(r=ue.clone(r,!0,!0),s&&ue.merge(o,_(r,"script"))),e.call(this[c],r,c);if(s)for(a=o[o.length-1].ownerDocument,ue.map(o,g),c=0;s>c;c++)r=o[c],rn.test(r.type||"")&&!ue._data(r,"globalEval")&&ue.contains(a,r)&&(r.src?ue._evalUrl(r.src):ue.globalEval((r.text||r.textContent||r.innerHTML||"").replace(on,"")));l=i=null}return this}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ue.fn[t]=function(t){for(var n,i=0,r=[],s=ue(t),o=s.length-1;o>=i;i++)n=i===o?this:this.clone(!0),ue(s[i])[e](n),re.apply(r,n.get());return this.pushStack(r)}}),ue.extend({clone:function(t,e,n){var i,r,s,o,a,l=ue.contains(t.ownerDocument,t);if(ue.support.html5Clone||ue.isXMLDoc(t)||!Qe.test("<"+t.nodeName+">")?s=t.cloneNode(!0):(cn.innerHTML=t.outerHTML,cn.removeChild(s=cn.firstChild)),!(ue.support.noCloneEvent&&ue.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ue.isXMLDoc(t)))for(i=_(s),a=_(t),o=0;null!=(r=a[o]);++o)i[o]&&b(r,i[o]);if(e)if(n)for(a=a||_(t),i=i||_(s),o=0;null!=(r=a[o]);o++)y(r,i[o]);else y(t,s);return i=_(s,"script"),i.length>0&&v(i,!l&&_(t,"script")),i=a=r=null,s},buildFragment:function(t,e,n,i){for(var r,s,o,a,l,c,u,h=t.length,d=p(e),f=[],m=0;h>m;m++)if(s=t[m],s||0===s)if("object"===ue.type(s))ue.merge(f,s.nodeType?[s]:s);else if(Ze.test(s)){for(a=a||d.appendChild(e.createElement("div")),l=(Ge.exec(s)||["",""])[1].toLowerCase(),u=an[l]||an._default,a.innerHTML=u[1]+s.replace(Ye,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!ue.support.leadingWhitespace&&Xe.test(s)&&f.push(e.createTextNode(Xe.exec(s)[0])),!ue.support.tbody)for(s="table"!==l||Je.test(s)?"<table>"!==u[1]||Je.test(s)?0:a:a.firstChild,r=s&&s.childNodes.length;r--;)ue.nodeName(c=s.childNodes[r],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(ue.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(e.createTextNode(s));for(a&&d.removeChild(a),ue.support.appendChecked||ue.grep(_(f,"input"),w),m=0;s=f[m++];)if((!i||-1===ue.inArray(s,i))&&(o=ue.contains(s.ownerDocument,s),a=_(d.appendChild(s),"script"),o&&v(a),n))for(r=0;s=a[r++];)rn.test(s.type||"")&&n.push(s);return a=null,d},cleanData:function(t,e){for(var n,i,r,s,o=0,a=ue.expando,l=ue.cache,c=ue.support.deleteExpando,u=ue.event.special;null!=(n=t[o]);o++)if((e||ue.acceptData(n))&&(r=n[a],s=r&&l[r])){if(s.events)for(i in s.events)u[i]?ue.event.remove(n,i):ue.removeEvent(n,i,s.handle);l[r]&&(delete l[r],c?delete n[a]:typeof n.removeAttribute!==Q?n.removeAttribute(a):n[a]=null,ee.push(r))}},_evalUrl:function(t){return ue.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ue.fn.extend({wrapAll:function(t){if(ue.isFunction(t))return this.each(function(e){ue(this).wrapAll(t.call(this,e))});if(this[0]){var e=ue(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ue.isFunction(t)?this.each(function(e){ue(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ue(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ue.isFunction(t);return this.each(function(n){ue(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}});var un,hn,dn,pn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+he+")(.*)$","i"),bn=new RegExp("^("+he+")(?!px)[a-z%]+$","i"),_n=new RegExp("^([+-])=("+he+")","i"),wn={BODY:"block"},xn={position:"absolute",visibility:"hidden",display:"block"},kn={letterSpacing:0,fontWeight:400},Cn=["Top","Right","Bottom","Left"],Tn=["Webkit","O","Moz","ms"];ue.fn.extend({css:function(t,n){return ue.access(this,function(t,n,i){var r,s,o={},a=0;if(ue.isArray(n)){for(s=hn(t),r=n.length;r>a;a++)o[n[a]]=ue.css(t,n[a],!1,s);return o}return i!==e?ue.style(t,n,i):ue.css(t,n)},t,n,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){k(this)?ue(this).show():ue(this).hide()})}}),ue.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=dn(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ue.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,o,a,l=ue.camelCase(n),c=t.style;if(n=ue.cssProps[l]||(ue.cssProps[l]=x(c,l)),a=ue.cssHooks[n]||ue.cssHooks[l],i===e)return a&&"get"in a&&(s=a.get(t,!1,r))!==e?s:c[n];if(o=typeof i,"string"===o&&(s=_n.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(ue.css(t,n)),o="number"),!(null==i||"number"===o&&isNaN(i)||("number"!==o||ue.cssNumber[l]||(i+="px"),ue.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(i=a.set(t,i,r))===e)))try{c[n]=i}catch(u){}}},css:function(t,n,i,r){var s,o,a,l=ue.camelCase(n);return n=ue.cssProps[l]||(ue.cssProps[l]=x(t.style,l)),a=ue.cssHooks[n]||ue.cssHooks[l],a&&"get"in a&&(o=a.get(t,!0,i)),o===e&&(o=dn(t,n,r)),"normal"===o&&n in kn&&(o=kn[n]),""===i||i?(s=parseFloat(o),i===!0||ue.isNumeric(s)?s||0:o):o}}),t.getComputedStyle?(hn=function(e){return t.getComputedStyle(e,null)},dn=function(t,n,i){var r,s,o,a=i||hn(t),l=a?a.getPropertyValue(n)||a[n]:e,c=t.style;return a&&(""!==l||ue.contains(t.ownerDocument,t)||(l=ue.style(t,n)),bn.test(l)&&vn.test(n)&&(r=c.width,s=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=r,c.minWidth=s,c.maxWidth=o)),l}):Y.documentElement.currentStyle&&(hn=function(t){return t.currentStyle},dn=function(t,n,i){var r,s,o,a=i||hn(t),l=a?a[n]:e,c=t.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!mn.test(n)&&(r=c.left,s=t.runtimeStyle,o=s&&s.left,o&&(s.left=t.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,o&&(s.left=o)),""===l?"auto":l}),ue.each(["height","width"],function(t,e){ue.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&gn.test(ue.css(t,"display"))?ue.swap(t,xn,function(){return E(t,e,i)}):E(t,e,i):void 0},set:function(t,n,i){var r=i&&hn(t);return T(t,n,i?S(t,e,i,ue.support.boxSizing&&"border-box"===ue.css(t,"boxSizing",!1,r),r):0)}}}),ue.support.opacity||(ue.cssHooks.opacity={get:function(t,e){return fn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=ue.isNumeric(e)?"alpha(opacity="+100*e+")":"",s=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ue.trim(s.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=pn.test(s)?s.replace(pn,r):s+" "+r)}}),ue(function(){ue.support.reliableMarginRight||(ue.cssHooks.marginRight={get:function(t,e){return e?ue.swap(t,{display:"inline-block"},dn,[t,"marginRight"]):void 0}}),!ue.support.pixelPosition&&ue.fn.position&&ue.each(["top","left"],function(t,e){ue.cssHooks[e]={get:function(t,n){return n?(n=dn(t,e),bn.test(n)?ue(t).position()[e]+"px":n):void 0}}})}),ue.expr&&ue.expr.filters&&(ue.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ue.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||ue.css(t,"display"))},ue.expr.filters.visible=function(t){return!ue.expr.filters.hidden(t)}),ue.each({margin:"",padding:"",border:"Width"},function(t,e){ue.cssHooks[t+e]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Cn[i]+e]=s[i]||s[i-2]||s[0];return r}},vn.test(t)||(ue.cssHooks[t+e].set=T)});var Sn=/%20/g,En=/\[\]$/,$n=/\r?\n/g,Dn=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ue.prop(this,"elements");return t?ue.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ue(this).is(":disabled")&&An.test(this.nodeName)&&!Dn.test(t)&&(this.checked||!en.test(t))}).map(function(t,e){var n=ue(this).val();return null==n?null:ue.isArray(n)?ue.map(n,function(t){return{name:e.name,value:t.replace($n,"\r\n")}}):{name:e.name,value:n.replace($n,"\r\n")}}).get()}}),ue.param=function(t,n){var i,r=[],s=function(t,e){e=ue.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(t)||t.jquery&&!ue.isPlainObject(t))ue.each(t,function(){s(this.name,this.value)});else for(i in t)A(i,t[i],n,s);return r.join("&").replace(Sn,"+")},ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ue.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ue.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Nn,jn,In=ue.now(),Pn=/\?/,Ln=/#.*$/,Hn=/([?&])_=[^&]*/,Mn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fn=/^(?:GET|HEAD)$/,Rn=/^\/\//,qn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,On=ue.fn.load,Un={},zn={},Wn="*/".concat("*");try{jn=X.href}catch(Vn){jn=Y.createElement("a"),jn.href="",jn=jn.href}Nn=qn.exec(jn.toLowerCase())||[],ue.fn.load=function(t,n,i){if("string"!=typeof t&&On)return On.apply(this,arguments);var r,s,o,a=this,l=t.indexOf(" ");return l>=0&&(r=t.slice(l,t.length),t=t.slice(0,l)),ue.isFunction(n)?(i=n,n=e):n&&"object"==typeof n&&(o="POST"),a.length>0&&ue.ajax({url:t,type:o,dataType:"html",data:n}).done(function(t){s=arguments,a.html(r?ue("<div>").append(ue.parseHTML(t)).find(r):t)}).complete(i&&function(t,e){a.each(i,s||[t.responseText,e,t])}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ue.fn[e]=function(t){return this.on(e,t)}}),ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jn,type:"GET",isLocal:Bn.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?I(I(t,ue.ajaxSettings),e):I(ue.ajaxSettings,t)},ajaxPrefilter:N(Un),ajaxTransport:N(zn),ajax:function(t,n){function i(t,n,i,r){var s,h,y,b,w,k=n;2!==_&&(_=2,l&&clearTimeout(l),u=e,a=r||"",x.readyState=t>0?4:0,s=t>=200&&300>t||304===t,i&&(b=P(d,x,i)),b=L(d,b,x,s),s?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(ue.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(ue.etag[o]=w)),204===t||"HEAD"===d.type?k="nocontent":304===t?k="notmodified":(k=b.state,h=b.data,y=b.error,s=!y)):(y=k,(t||!k)&&(k="error",0>t&&(t=0))),x.status=t,x.statusText=(n||k)+"",s?m.resolveWith(p,[h,k,x]):m.rejectWith(p,[x,k,y]),x.statusCode(v),v=e,c&&f.trigger(s?"ajaxSuccess":"ajaxError",[x,d,s?h:y]),g.fireWith(p,[x,k]),c&&(f.trigger("ajaxComplete",[x,d]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var r,s,o,a,l,c,u,h,d=ue.ajaxSetup({},n),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ue(p):ue.event,m=ue.Deferred(),g=ue.Callbacks("once memory"),v=d.statusCode||{},y={},b={},_=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!h)for(h={};e=Mn.exec(a);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return _||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>_)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return u&&u.abort(e),i(0,e),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,d.url=((t||d.url||jn)+"").replace(Ln,"").replace(Rn,Nn[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ue.trim(d.dataType||"*").toLowerCase().match(de)||[""],null==d.crossDomain&&(r=qn.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Nn[1]&&r[2]===Nn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Nn[3]||("http:"===Nn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ue.param(d.data,d.traditional)),j(Un,d,n,x),2===_)return x;c=d.global,c&&0===ue.active++&&ue.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Fn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Pn.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Hn.test(o)?o.replace(Hn,"$1_="+In++):o+(Pn.test(o)?"&":"?")+"_="+In++)),d.ifModified&&(ue.lastModified[o]&&x.setRequestHeader("If-Modified-Since",ue.lastModified[o]),ue.etag[o]&&x.setRequestHeader("If-None-Match",ue.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Wn+"; q=0.01":""):d.accepts["*"]);for(s in d.headers)x.setRequestHeader(s,d.headers[s]);if(d.beforeSend&&(d.beforeSend.call(p,x,d)===!1||2===_))return x.abort();w="abort";for(s in{success:1,error:1,complete:1})x[s](d[s]);if(u=j(zn,d,n,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},d.timeout));try{_=1,u.send(y,i)}catch(k){if(!(2>_))throw k;i(-1,k)}}else i(-1,"No Transport");return x},getJSON:function(t,e,n){return ue.get(t,e,n,"json")},getScript:function(t,n){return ue.get(t,e,n,"script")}}),ue.each(["get","post"],function(t,n){ue[n]=function(t,i,r,s){return ue.isFunction(i)&&(s=s||r,r=i,i=e),ue.ajax({url:t,type:n,dataType:s,data:i,success:r})}}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ue.globalEval(t),t}}}),ue.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ue.ajaxTransport("script",function(t){if(t.crossDomain){var n,i=Y.head||ue("head")[0]||Y.documentElement;return{send:function(e,r){n=Y.createElement("script"),n.async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,e){(e||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,e||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(e,!0)}}}});var Kn=[],Qn=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Kn.pop()||ue.expando+"_"+In++;return this[t]=!0,t}}),ue.ajaxPrefilter("json jsonp",function(n,i,r){var s,o,a,l=n.jsonp!==!1&&(Qn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(s=n.jsonpCallback=ue.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Qn,"$1"+s):n.jsonp!==!1&&(n.url+=(Pn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return a||ue.error(s+" was not called"),a[0]},n.dataTypes[0]="json",o=t[s],t[s]=function(){a=arguments},r.always(function(){t[s]=o,n[s]&&(n.jsonpCallback=i.jsonpCallback,Kn.push(s)),a&&ue.isFunction(o)&&o(a[0]),a=o=e}),"script"):void 0});var Xn,Yn,Gn=0,Jn=t.ActiveXObject&&function(){var t;for(t in Xn)Xn[t](e,!0)};ue.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&H()||M()}:H,Yn=ue.ajaxSettings.xhr(),ue.support.cors=!!Yn&&"withCredentials"in Yn,Yn=ue.support.ajax=!!Yn,Yn&&ue.ajaxTransport(function(n){if(!n.crossDomain||ue.support.cors){var i;return{send:function(r,s){var o,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(t,r){var a,c,u,h;try{if(i&&(r||4===l.readyState))if(i=e,o&&(l.onreadystatechange=ue.noop,Jn&&delete Xn[o]),r)4!==l.readyState&&l.abort();else{h={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(h.text=l.responseText);try{u=l.statusText}catch(d){u=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=h.text?200:404}}catch(p){r||s(-1,p)}h&&s(a,u,h,c)},n.async?4===l.readyState?setTimeout(i):(o=++Gn,Jn&&(Xn||(Xn={},ue(t).unload(Jn)),Xn[o]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(e,!0)}}}});var Zn,ti,ei=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+he+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[O],si={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=ni.exec(e),s=r&&r[3]||(ue.cssNumber[t]?"":"px"),o=(ue.cssNumber[t]||"px"!==s&&+i)&&ni.exec(ue.css(n.elem,t)),a=1,l=20;if(o&&o[3]!==s){s=s||o[3],r=r||[],o=+i||1;do a=a||".5",o/=a,ue.style(n.elem,t,o+s);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(o=n.start=+o||+i||0,n.unit=s,n.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),n}]};ue.Animation=ue.extend(R,{tweener:function(t,e){ue.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],si[n]=si[n]||[],si[n].unshift(e)},prefilter:function(t,e){e?ri.unshift(t):ri.push(t)}}),ue.Tween=U,U.prototype={constructor:U,init:function(t,e,n,i,r,s){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(ue.cssNumber[n]?"":"px")},cur:function(){var t=U.propHooks[this.prop];return t&&t.get?t.get(this):U.propHooks._default.get(this)},run:function(t){var e,n=U.propHooks[this.prop];return this.pos=e=this.options.duration?ue.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ue.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ue.fx.step[t.prop]?ue.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ue.cssProps[t.prop]]||ue.cssHooks[t.prop])?ue.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ue.each(["toggle","show","hide"],function(t,e){var n=ue.fn[e];ue.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(z(e,!0),t,i,r)}}),ue.fn.extend({fadeTo:function(t,e,n,i){return this.filter(k).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ue.isEmptyObject(t),s=ue.speed(e,n,i),o=function(){var e=R(this,ue.extend({},t),s);(r||ue._data(this,"finish"))&&e.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(t,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",s=ue.timers,o=ue._data(this);if(n)o[n]&&o[n].stop&&r(o[n]);else for(n in o)o[n]&&o[n].stop&&ii.test(n)&&r(o[n]);for(n=s.length;n--;)s[n].elem!==this||null!=t&&s[n].queue!==t||(s[n].anim.stop(i),e=!1,s.splice(n,1));(e||!i)&&ue.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ue._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],s=ue.timers,o=i?i.length:0;for(n.finish=!0,ue.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;o>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ue.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ue.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ue.speed=function(t,e,n){var i=t&&"object"==typeof t?ue.extend({},t):{complete:n||!n&&e||ue.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ue.isFunction(e)&&e};return i.duration=ue.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ue.fx.speeds?ue.fx.speeds[i.duration]:ue.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ue.isFunction(i.old)&&i.old.call(this),i.queue&&ue.dequeue(this,i.queue)},i},ue.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ue.timers=[],ue.fx=U.prototype.init,ue.fx.tick=function(){var t,n=ue.timers,i=0;for(Zn=ue.now();i<n.length;i++)t=n[i],t()||n[i]!==t||n.splice(i--,1);n.length||ue.fx.stop(),Zn=e},ue.fx.timer=function(t){t()&&ue.timers.push(t)&&ue.fx.start()},ue.fx.interval=13,ue.fx.start=function(){ti||(ti=setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){clearInterval(ti),ti=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fx.step={},ue.expr&&ue.expr.filters&&(ue.expr.filters.animated=function(t){return ue.grep(ue.timers,function(e){return t===e.elem}).length}),ue.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){ue.offset.setOffset(this,t,e)});var n,i,r={top:0,left:0},s=this[0],o=s&&s.ownerDocument;if(o)return n=o.documentElement,ue.contains(n,s)?(typeof s.getBoundingClientRect!==Q&&(r=s.getBoundingClientRect()),i=W(o),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},ue.offset={setOffset:function(t,e,n){var i=ue.css(t,"position");"static"===i&&(t.style.position="relative");var r,s,o=ue(t),a=o.offset(),l=ue.css(t,"top"),c=ue.css(t,"left"),u=("absolute"===i||"fixed"===i)&&ue.inArray("auto",[l,c])>-1,h={},d={};u?(d=o.position(),r=d.top,s=d.left):(r=parseFloat(l)||0,s=parseFloat(c)||0),ue.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+s),"using"in e?e.using.call(t,h):o.css(h)}},ue.fn.extend({position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ue.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ue.nodeName(t[0],"html")||(n=t.offset()),n.top+=ue.css(t[0],"borderTopWidth",!0),n.left+=ue.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ue.css(i,"marginTop",!0),left:e.left-n.left-ue.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||G;t&&!ue.nodeName(t,"html")&&"static"===ue.css(t,"position");)t=t.offsetParent;return t||G})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i=/Y/.test(n);ue.fn[t]=function(r){return ue.access(this,function(t,r,s){var o=W(t);return s===e?o?n in o?o[n]:o.document.documentElement[r]:t[r]:(o?o.scrollTo(i?ue(o).scrollLeft():s,i?s:ue(o).scrollTop()):t[r]=s,void 0)},t,r,arguments.length,null)}}),ue.each({Height:"height",Width:"width"},function(t,n){ue.each({padding:"inner"+t,content:n,"":"outer"+t},function(i,r){ue.fn[r]=function(r,s){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||s===!0?"margin":"border");return ue.access(this,function(n,i,r){var s;return ue.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(s=n.documentElement,Math.max(n.body["scroll"+t],s["scroll"+t],n.body["offset"+t],s["offset"+t],s["client"+t])):r===e?ue.css(n,i,a):ue.style(n,i,r,a)},n,o?r:e,o,null)}})}),ue.fn.size=function(){return this.length},ue.fn.andSelf=ue.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ue:(t.jQuery=t.$=ue,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ue}))}(window),function(){var t,e;t=window.jQuery||("function"==typeof require?require("jquery"):void 0),e=t(document),t.turbo={version:"2.0.0",isReady:!1,use:function(t,n){return e.off(".turbo").on(""+t+".turbo",this.onLoad).on(""+n+".turbo",this.onFetch)},addCallback:function(n){return t.turbo.isReady?n(t):e.on("turbo:ready",function(){return n(t)})},onLoad:function(){return t.turbo.isReady=!0,e.trigger("turbo:ready")},onFetch:function(){return t.turbo.isReady=!1},register:function(){return t(this.onLoad),t.fn.ready=this.addCallback}},t.turbo.register(),t.turbo.use("page:load","page:fetch")}.call(this),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var r,s,o,a,l,c,u,h;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),l=a===e?null:a,c=i.data("with-credentials")||null,u=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),s=i.attr("action"),o=i.serializeArray();var d=i.data("ujs:submit-button");d&&(o.push(d),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),s=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",s=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):(r=i.data("method"),s=n.href(i),o=i.data("params")||null);h={type:r||"GET",data:o,dataType:u,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[t,r])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:l},c&&(h.xhrFields={withCredentials:c}),s&&(h.url=s);var p=n.ajax(h);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var r=n.href(i),s=i.data("method"),o=i.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+s+'" type="hidden" />';l!==e&&a!==e&&(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),o&&c.attr("target",o),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),r=!1;return i?(n.fire(t,"confirm")&&(r=n.confirm(i),e=n.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,s,o=t(),a=n||"input,textarea",l=e.find(a);return l.each(function(){if(r=t(this),s=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!s==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;o=o.add(r)}}),o.length?o:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=t(this),s=r.data("method"),o=r.data("params");if(!n.allowAction(r))return n.stopEverything(i);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==e){if(!(!i.metaKey&&!i.ctrlKey||s&&"GET"!==s||o))return!0;var a=n.handleRemote(r);return a===!1?n.enableElement(r):a.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0
}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r=t(this),s=r.data("remote")!==e,o=n.blankInputs(r,n.requiredInputSelector),a=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(o&&r.attr("novalidate")==e&&n.fire(r,"ajax:aborted:required",[o]))return n.stopEverything(i);if(s){if(a){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),s=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",s)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)}))}(jQuery),function(){var t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g,v,y,b,_,w,x,k,C,T,S,E,$,D,A,N,j,I,P,L,H,M,B,F,R,q,O,U,z,W,V,K,Q,X,Y,G={}.hasOwnProperty,J=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};D={},a=10,d=null,T=null,L=null,u=null,X=null,v=function(t){return R(),o(),K("page:fetch",{url:t}),null!=X&&X.abort(),X=new XMLHttpRequest,X.open("GET",O(t),!0),X.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),X.setRequestHeader("X-XHR-Referer",L),X.onload=function(){var e;return K("page:receive"),(e=I())?(H(t),l.apply(null,m(e)),M(),W(),K("page:load")):document.location.href=t},X.onloadend=function(){return X=null},X.onabort=function(){return F()},X.onerror=function(){return document.location.href=t},X.send()},g=function(t){return o(),null!=X&&X.abort(),l(t.title,t.body),P(t),K("page:restore")},o=function(){return D[d.position]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset},c(a)},N=function(t){return null==t&&(t=a),/^[\d]+$/.test(t)?a=parseInt(t):void 0},c=function(t){var e,n;for(e in D)G.call(D,e)&&(n=D[e],e<=d.position-t&&(D[e]=null))},l=function(e,n,i,r){return document.title=e,document.documentElement.replaceChild(n,document.body),null!=i&&t.update(i),U(),r&&p(),d=window.history.state,K("page:change"),K("page:update")},p=function(){var t,e,n,i,r,s,o,a,l,c,u,h;for(s=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),o=0,l=s.length;l>o;o++)if(r=s[o],""===(u=r.type)||"text/javascript"===u){for(e=document.createElement("script"),h=r.attributes,a=0,c=h.length;c>a;a++)t=h[a],e.setAttribute(t.name,t.value);e.appendChild(document.createTextNode(r.innerHTML)),i=r.parentNode,n=r.nextSibling,i.removeChild(r),i.insertBefore(e,n)}},U=function(){var t,e,n,i;for(e=Array.prototype.slice.call(document.body.getElementsByTagName("noscript")),n=0,i=e.length;i>n;n++)t=e[n],t.parentNode.removeChild(t)},H=function(t){return t!==L?window.history.pushState({turbolinks:!0,position:d.position+1},"",t):void 0},M=function(){var t,e;return(t=X.getResponseHeader("X-XHR-Redirected-To"))?(e=q(t)===t?document.location.hash:"",window.history.replaceState(d,"",t+e)):void 0},R=function(){return L=document.location.href},F=function(){return window.history.replaceState({turbolinks:!0,position:Date.now()},"",document.location.href)},B=function(){return d=window.history.state},P=function(t){return window.scrollTo(t.positionX,t.positionY)},W=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},O=function(t){return q(t)},q=function(t){var e;return e=t,null==t.href&&(e=document.createElement("A"),e.href=t),e.href.replace(e.hash,"")},j=function(t){var e,n;return e=(null!=(n=document.cookie.match(new RegExp(t+"=(\\w+)")))?n[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",e},K=function(t,e){var n;return n=document.createEvent("Events"),e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},A=function(){return!K("page:before-change")},I=function(){var t,e,n,i,r,s;return e=function(){var t;return 400<=(t=X.status)&&600>t},s=function(){return X.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(t){var e,n,i,r,s;for(r=t.head.childNodes,s=[],n=0,i=r.length;i>n;n++)e=r[n],null!=("function"==typeof e.getAttribute?e.getAttribute("data-turbolinks-track"):void 0)&&s.push(e.getAttribute("src")||e.getAttribute("href"));return s},t=function(t){var e;return T||(T=i(document)),e=i(t),e.length!==T.length||r(e,T).length!==T.length},r=function(t,e){var n,i,r,s,o;for(t.length>e.length&&(s=[e,t],t=s[0],e=s[1]),o=[],i=0,r=t.length;r>i;i++)n=t[i],J.call(e,n)>=0&&o.push(n);return o},!e()&&s()&&(n=u(X.responseText),n&&!t(n))?n:void 0},m=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,e.body,t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e?"function"==typeof e.getAttribute?e.getAttribute("content"):void 0:void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},n=function(){var t,e,n,i,r,s;e=function(t){return(new DOMParser).parseFromString(t,"text/html")},t=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},n=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e};try{if(window.DOMParser)return r=e("<html><body><p>test"),e}catch(o){return i=o,r=t("<html><body><p>test"),t}finally{if(1!==(null!=r?null!=(s=r.body)?s.childNodes.length:void 0:void 0))return n}},w=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",y,!1),document.addEventListener("click",y,!1))},y=function(t){var e;return t.defaultPrevented||(e=f(t),"A"!==e.nodeName||b(t,e))?void 0:(A()||Q(e.href),t.preventDefault())},f=function(t){var e;for(e=t.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return e},h=function(t){return location.protocol!==t.protocol||location.host!==t.host},e=function(t){return(t.hash&&q(t))===q(location)||t.href===location.href+"#"},E=function(t){var e;return e=q(t),e.match(/\.[a-z]+(\?.*)?$/g)&&!e.match(/\.html?(\?.*)?$/g)},S=function(t){for(var e;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},V=function(t){return 0!==t.target.length},$=function(t){return t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey},b=function(t,n){return h(n)||e(n)||E(n)||S(n)||V(n)||$(t)},x=function(){return document.addEventListener("DOMContentLoaded",function(){return K("page:change"),K("page:update")},!0)},C=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e){return jQuery.trim(e.responseText)?K("page:update"):void 0}):void 0},k=function(t){var e,n;return(null!=(n=t.state)?n.turbolinks:void 0)?(e=D[t.state.position])?g(e):Q(t.target.location.href):void 0},_=function(){return F(),B(),u=n(),document.addEventListener("click",w,!0),window.addEventListener("popstate",k,!1)},r=window.history&&window.history.pushState&&window.history.replaceState&&void 0!==window.history.state,i=!navigator.userAgent.match(/CriOS\//),z="GET"===(Y=j("request_method"))||""===Y,s=r&&i&&z,x(),C(),s?(Q=v,_()):Q=function(t){return document.location.href=t},this.Turbolinks={visit:Q,pagesCached:N,supported:s}}.call(this),!function(t){"use strict";t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}()})}(window.jQuery),!function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){i.trigger("closed").remove()}var i,r=t(this),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),i=t(s),e&&e.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(e=t.Event("close")),e.isDefaultPrevented()||(i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.on(t.support.transition.end,n):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof e&&r[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";t+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),r=i.data("button"),s="object"==typeof n&&n;r||i.data("button",r=new e(this,s)),"toggle"==n?r.toggle():n&&r.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var n=this.getActiveIndex(),i=this;if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,n){var i,r=this.$element.find(".item.active"),s=n||r[e](),o=this.interval,a="next"==e?"left":"right",l="next"==e?"first":"last",c=this;if(this.sliding=!0,o&&this.pause(),s=s.length?s:this.$element.find(".item")[l](),i=t.Event("slide",{relatedTarget:s[0],direction:a}),!s.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(c.$indicators.children()[c.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;s.addClass(e),s[0].offsetWidth,r.addClass(a),s.addClass(a),this.$element.one(t.support.transition.end,function(){s.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;r.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),r=i.data("carousel"),s=t.extend({},t.fn.carousel.defaults,"object"==typeof n&&n),o="string"==typeof n?n:s.slide;r||i.data("carousel",r=new e(this,s)),"number"==typeof n?r.to(n):o?r[o]():s.interval&&r.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,i,r=t(this),s=t(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},s.data(),r.data());s.carousel(o),(i=r.attr("data-slide-to"))&&s.data("carousel").pause().to(i).cycle(),e.preventDefault()})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,n),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,n,i,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),n=t.camelCase(["scroll",e].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(r=i.data("collapse"),r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][n])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,n,i){var r=this,s=function(){"show"==n.type&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,s):s())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),r=i.data("collapse"),s=t.extend({},t.fn.collapse.defaults,i.data(),"object"==typeof n&&n);r||i.data("collapse",r=new e(this,s)),"string"==typeof n&&r[n]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),r=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),s=t(r).data("collapse")?"toggle":i.data();i[t(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(r).collapse(s)})}(window.jQuery),!function(t){"use strict";function e(){t(".dropdown-backdrop").remove(),t(i).each(function(){n(t(this)).removeClass("open")})}function n(e){var n,i=e.attr("data-target");return i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&t(i),n&&n.length||(n=e.parent()),n}var i="[data-toggle=dropdown]",r=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var i,r,s=t(this);if(!s.is(".disabled, :disabled"))return i=n(s),r=i.hasClass("open"),e(),r||("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertBefore(t(this)).on("click",e),i.toggleClass("open")),s.focus(),!1},keydown:function(e){var r,s,o,a,l;if(/(38|40|27)/.test(e.keyCode)&&(r=t(this),e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled"))){if(o=n(r),a=o.hasClass("open"),!a||a&&27==e.keyCode)return 27==e.which&&o.find(i).focus(),r.click();s=t("[role=menu] li:not(.divider):visible a",o),s.length&&(l=s.index(s.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<s.length-1&&l++,~l||(l=0),s.eq(l).focus())}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault();e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]!==t.target&&!e.$element.has(t.target).length&&e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var n=t.fn.modal;t.fn.modal=function(n){return this.each(function(){var i=t(this),r=i.data("modal"),s=t.extend({},t.fn.modal.defaults,i.data(),"object"==typeof n&&n);r||i.data("modal",r=new e(this,s)),"string"==typeof n?r[n]():s.show&&r.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),r=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},r.data(),n.data());e.preventDefault(),r.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,i){var r,s,o,a,l;for(this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.enabled=!0,o=this.options.trigger.split(" "),l=o.length;l--;)a=o[l],"click"==a?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=a&&(r="hover"==a?"mouseenter":"focus",s="hover"==a?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n,i=t.fn[this.type].defaults,r={};return this._options&&t.each(this._options,function(t,e){i[t]!=e&&(r[t]=e)},this),n=t(e.currentTarget)[this.type](r).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var e,n,i,r,s,o,a=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),i=e[0].offsetWidth,r=e[0].offsetHeight,s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":o={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":o={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":o={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(o,s),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,i,r,s,o=this.tip(),a=o[0].offsetWidth,l=o[0].offsetHeight;o.offset(t).addClass(e).addClass("in"),n=o[0].offsetWidth,i=o[0].offsetHeight,"top"==e&&i!=l&&(t.top=t.top+l-i,s=!0),"bottom"==e||"top"==e?(r=0,t.left<0&&(r=-2*t.left,t.left=0,o.offset(t),n=o[0].offsetWidth,i=o[0].offsetHeight),this.replaceArrow(r-a+n,n,"left")):this.replaceArrow(i-l,i,"top"),s&&o.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){n.off(t.support.transition.end).detach()},500);n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})}var n=this.tip(),i=t.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),r=i.data("tooltip"),s="object"==typeof n&&n;r||i.data("tooltip",r=new e(this,s)),"string"==typeof n&&r[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=("function"==typeof n.content?n.content.call(e[0]):n.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),r=i.data("popover"),s="object"==typeof n&&n;r||i.data("popover",r=new e(this,s)),"string"==typeof n&&r[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),!function(t){"use strict";function e(e,n){var i,r=t.proxy(this.process,this),s=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,n),this.$scrollElement=s.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(i=t(e).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,n=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),r=/^#\w/.test(i)&&t(i);return r&&r.length&&[[r.position().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,s=this.targets,o=this.activeTarget;if(e>=i)return o!=(t=s.last()[0])&&this.activate(t);for(t=r.length;t--;)o!=s[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(s[t])},activate:function(e){var n,i;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),r=i.data("scrollspy"),s="object"==typeof n&&n;r||i.data("scrollspy",r=new e(this,s)),"string"==typeof n&&r[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,n,i,r=this.element,s=r.closest("ul:not(.dropdown-menu)"),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(e=s.find(".active:last a")[0],i=t.Event("show",{relatedTarget:e}),r.trigger(i),i.isDefaultPrevented()||(n=t(o),this.activate(r.parent("li"),s),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,n,i){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var s=n.find("> .active"),o=i&&t.support.transition&&s.hasClass("fade");o?s.one(t.support.transition.end,r):r(),s.removeClass("in")}};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),r=i.data("tab");r||i.data("tab",r=new e(this)),"string"==typeof n&&r[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],i=[],r=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?i.push(e):r.push(e):n.push(e);return n.concat(i,r)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var n=this;return e=t(e).map(function(e,i){return e=t(n.options.item).attr("data-value",i),e.find("a").html(n.highlighter(i)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),n=e.next();n.length||(n=t(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")
},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){return this.each(function(){var i=t(this),r=i.data("typeahead"),s="object"==typeof n&&n;r||i.data("typeahead",r=new e(this,s)),"string"==typeof n&&r[n]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var e=t(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.options=t.extend({},t.fn.affix.defaults,n),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,n=t(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),s=this.options.offset,o=s.bottom,a=s.top,l="affix affix-top affix-bottom";"object"!=typeof s&&(o=a=s),"function"==typeof a&&(a=s.top()),"function"==typeof o&&(o=s.bottom()),e=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=o&&r.top+this.$element.height()>=n-o?"bottom":null!=a&&a>=i?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?r.top-i:null,this.$element.removeClass(l).addClass("affix"+(e?"-"+e:"")))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var i=t(this),r=i.data("affix"),s="object"==typeof n&&n;r||i.data("affix",r=new e(this,s)),"string"==typeof n&&r[n]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery),function(t){var e="0.9.3",n={isMsie:function(){var t=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return t?parseInt(t[2],10):!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},bind:t.proxy,bindAll:function(e){var n;for(var i in e)t.isFunction(n=e[i])&&(e[i]=t.proxy(n,e))},indexOf:function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},each:t.each,map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var s,o,a=this,l=arguments;return s=function(){i=null,n||(r=t.apply(a,l))},o=n&&!i,clearTimeout(i),i=setTimeout(s,e),o&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,s,o,a;return o=0,a=function(){o=new Date,r=null,s=t.apply(n,i)},function(){var l=new Date,c=e-(l-o);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,o=l,s=t.apply(n,i)):r||(r=setTimeout(a,c)),s}},tokenizeQuery:function(e){return t.trim(e).toLowerCase().split(/[\s]+/)},tokenizeText:function(e){return t.trim(e).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}},i=function(){var t=/\s+/;return{on:function(e,n){var i;if(!n)return this;for(this._callbacks=this._callbacks||{},e=e.split(t);i=e.shift();)this._callbacks[i]=this._callbacks[i]||[],this._callbacks[i].push(n);return this},trigger:function(e,n){var i,r;if(!this._callbacks)return this;for(e=e.split(t);i=e.shift();)if(r=this._callbacks[i])for(var s=0;s<r.length;s+=1)r[s].call(this,{type:i,data:n});return this}}}(),r=function(){function e(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i="typeahead:";return n.mixin(e.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(i+t,e)}}),e}(),s=function(){function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function e(){return(new Date).getTime()}function i(t){return JSON.stringify(n.isUndefined(t)?null:t)}function r(t){return JSON.parse(t)}var s,o;try{s=window.localStorage,s.setItem("~~~","!"),s.removeItem("~~~")}catch(a){s=null}return o=s&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),r(s.getItem(this._prefix(t)))},set:function(t,r,o){return n.isNumber(o)?s.setItem(this._ttlKey(t),i(e()+o)):s.removeItem(this._ttlKey(t)),s.setItem(this._prefix(t),i(r))},remove:function(t){return s.removeItem(this._ttlKey(t)),s.removeItem(this._prefix(t)),this},clear:function(){var t,e,n=[],i=s.length;for(t=0;i>t;t++)(e=s.key(t)).match(this.keyMatcher)&&n.push(e.replace(this.keyMatcher,""));for(t=n.length;t--;)this.remove(n[t]);return this},isExpired:function(t){var i=r(s.getItem(this._ttlKey(t)));return n.isNumber(i)&&e()>i?!0:!1}}:{get:n.noop,set:n.noop,remove:n.noop,clear:n.noop,isExpired:n.noop},n.mixin(t.prototype,o),t}(),o=function(){function t(t){n.bindAll(this),t=t||{},this.sizeLimit=t.sizeLimit||10,this.cache={},this.cachedKeysByAge=[]}return n.mixin(t.prototype,{get:function(t){return this.cache[t]},set:function(t,e){var n;this.cachedKeysByAge.length===this.sizeLimit&&(n=this.cachedKeysByAge.shift(),delete this.cache[n]),this.cache[t]=e,this.cachedKeysByAge.push(t)}}),t}(),a=function(){function e(t){n.bindAll(this),t=n.isString(t)?{url:t}:t,l=l||new o,a=n.isNumber(t.maxParallelRequests)?t.maxParallelRequests:a||6,this.url=t.url,this.wildcard=t.wildcard||"%QUERY",this.filter=t.filter,this.replace=t.replace,this.ajaxSettings={type:"get",cache:t.cache,timeout:t.timeout,dataType:t.dataType||"json",beforeSend:t.beforeSend},this._get=(/^throttle$/i.test(t.rateLimitFn)?n.throttle:n.debounce)(this._get,t.rateLimitWait||300)}function i(){c++}function r(){c--}function s(){return a>c}var a,l,c=0,u={};return n.mixin(e.prototype,{_get:function(t,e){function n(n){var r=i.filter?i.filter(n):n;e&&e(r),l.set(t,n)}var i=this;s()?this._sendRequest(t).done(n):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(e){function n(){r(),u[e]=null,s.onDeckRequestArgs&&(s._get.apply(s,s.onDeckRequestArgs),s.onDeckRequestArgs=null)}var s=this,o=u[e];return o||(i(),o=u[e]=t.ajax(e,this.ajaxSettings).always(n)),o},get:function(t,e){var i,r,s=this,o=encodeURIComponent(t||"");return e=e||n.noop,i=this.replace?this.replace(this.url,o):this.url.replace(this.wildcard,o),(r=l.get(i))?n.defer(function(){e(s.filter?s.filter(r):r)}):this._get(i,e),!!r}}),e}(),l=function(){function i(e){n.bindAll(this),n.isString(e.template)&&!e.engine&&t.error("no template engine specified"),e.local||e.prefetch||e.remote||t.error("one of local, prefetch, or remote is required"),this.name=e.name||n.getUniqueId(),this.limit=e.limit||5,this.minLength=e.minLength||1,this.header=e.header,this.footer=e.footer,this.valueKey=e.valueKey||"value",this.template=r(e.template,e.engine,this.valueKey),this.local=e.local,this.prefetch=e.prefetch,this.remote=e.remote,this.itemHash={},this.adjacencyList={},this.storage=e.name?new s(e.name):null}function r(t,e,i){var r,s;return n.isFunction(t)?r=t:n.isString(t)?(s=e.compile(t),r=n.bind(s.render,s)):r=function(t){return"<p>"+t[i]+"</p>"},r}var o={thumbprint:"thumbprint",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};return n.mixin(i.prototype,{_processLocalData:function(t){this._mergeProcessedData(this._processData(t))},_loadPrefetchData:function(i){function r(t){var e=i.filter?i.filter(t):t,r=d._processData(e),s=r.itemHash,a=r.adjacencyList;d.storage&&(d.storage.set(o.itemHash,s,i.ttl),d.storage.set(o.adjacencyList,a,i.ttl),d.storage.set(o.thumbprint,p,i.ttl),d.storage.set(o.protocol,n.getProtocol(),i.ttl)),d._mergeProcessedData(r)}var s,a,l,c,u,h,d=this,p=e+(i.thumbprint||"");return this.storage&&(s=this.storage.get(o.thumbprint),a=this.storage.get(o.protocol),l=this.storage.get(o.itemHash),c=this.storage.get(o.adjacencyList)),u=s!==p||a!==n.getProtocol(),i=n.isString(i)?{url:i}:i,i.ttl=n.isNumber(i.ttl)?i.ttl:864e5,l&&c&&!u?(this._mergeProcessedData({itemHash:l,adjacencyList:c}),h=t.Deferred().resolve()):h=t.getJSON(i.url).done(r),h},_transformDatum:function(t){var e=n.isString(t)?t:t[this.valueKey],i=t.tokens||n.tokenizeText(e),r={value:e,tokens:i};return n.isString(t)?(r.datum={},r.datum[this.valueKey]=t):r.datum=t,r.tokens=n.filter(r.tokens,function(t){return!n.isBlankString(t)}),r.tokens=n.map(r.tokens,function(t){return t.toLowerCase()}),r},_processData:function(t){var e=this,i={},r={};return n.each(t,function(t,s){var o=e._transformDatum(s),a=n.getUniqueId(o.value);i[a]=o,n.each(o.tokens,function(t,e){var i=e.charAt(0),s=r[i]||(r[i]=[a]);!~n.indexOf(s,a)&&s.push(a)})}),{itemHash:i,adjacencyList:r}},_mergeProcessedData:function(t){var e=this;n.mixin(this.itemHash,t.itemHash),n.each(t.adjacencyList,function(t,n){var i=e.adjacencyList[t];e.adjacencyList[t]=i?i.concat(n):n})},_getLocalSuggestions:function(t){var e,i=this,r=[],s=[],o=[];return n.each(t,function(t,e){var i=e.charAt(0);!~n.indexOf(r,i)&&r.push(i)}),n.each(r,function(t,n){var r=i.adjacencyList[n];return r?(s.push(r),(!e||r.length<e.length)&&(e=r),void 0):!1}),s.length<r.length?[]:(n.each(e,function(e,r){var a,l,c=i.itemHash[r];a=n.every(s,function(t){return~n.indexOf(t,r)}),l=a&&n.every(t,function(t){return n.some(c.tokens,function(e){return 0===e.indexOf(t)})}),l&&o.push(c)}),o)},initialize:function(){var e;return this.local&&this._processLocalData(this.local),this.transport=this.remote?new a(this.remote):null,e=this.prefetch?this._loadPrefetchData(this.prefetch):t.Deferred().resolve(),this.local=this.prefetch=this.remote=null,this.initialize=function(){return e},e},getSuggestions:function(t,e){function i(t){s=s.slice(0),n.each(t,function(t,e){var i,r=o._transformDatum(e);return i=n.some(s,function(t){return r.value===t.value}),!i&&s.push(r),s.length<o.limit}),e&&e(s)}var r,s,o=this,a=!1;t.length<this.minLength||(r=n.tokenizeQuery(t),s=this._getLocalSuggestions(r).slice(0,this.limit),s.length<this.limit&&this.transport&&(a=this.transport.get(t,i)),!a&&e&&e(s))}}),i}(),c=function(){function e(e){var i=this;n.bindAll(this),this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},this.$hint=t(e.hint),this.$input=t(e.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent),n.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){i.specialKeyCodeMap[t.which||t.keyCode]||n.defer(i._compareQueryToInputValue)}):this.$input.on("input.tt",this._compareQueryToInputValue),this.query=this.$input.val(),this.$overflowHelper=r(this.$input)}function r(e){return t("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function s(t,e){return t=(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),e=(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),t===e}return n.mixin(e.prototype,i,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(t){var e=this.specialKeyCodeMap[t.which||t.keyCode];e&&this.trigger(e+"Keyed",t)},_compareQueryToInputValue:function(){var t=this.getInputValue(),e=s(this.query,t),n=e?this.query.length!==t.length:!1;n?this.trigger("whitespaceChanged",{value:this.query}):e||this.trigger("queryChanged",{value:this.query=t})},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),!e&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(t){this.$hint.val(t)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var t,e=this.$input.val().length,i=this.$input[0].selectionStart;return n.isNumber(i)?i===e:document.selection?(t=document.selection.createRange(),t.moveStart("character",-e),e===t.text.length):!0}}),e}(),u=function(){function e(e){n.bindAll(this),this.isOpen=!1,this.isEmpty=!0,this.isMouseOverDropdown=!1,this.$menu=t(e.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}function r(t){return t.data("suggestion")}var s={suggestionsList:'<span class="tt-suggestions"></span>'},o={suggestionsList:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"}};return n.mixin(e.prototype,i,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(e){var n=t(e.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor"),n.addClass("tt-is-under-cursor")},_handleSelection:function(e){var n=t(e.currentTarget);this.trigger("suggestionSelected",r(n))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(t){var e,n,i,s;if(this.isVisible()){if(e=this._getSuggestions(),n=e.filter(".tt-is-under-cursor"),n.removeClass("tt-is-under-cursor"),i=e.index(n)+t,i=(i+1)%(e.length+1)-1,-1===i)return this.trigger("cursorRemoved"),void 0;-1>i&&(i=e.length-1),s=e.eq(i).addClass("tt-is-under-cursor"),this._ensureVisibility(s),this.trigger("cursorMoved",r(s))}},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(t){var e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),n=this.$menu.scrollTop(),i=t.position().top,r=i+t.outerHeight(!0);0>i?this.$menu.scrollTop(n+i):r>e&&this.$menu.scrollTop(n+(r-e))},destroy:function(){this.$menu.off(".tt"),this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&(this.isOpen=!1,this.isMouseOverDropdown=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){var e={left:"0",right:"auto"},n={left:"auto",right:" 0"};"ltr"===t?this.$menu.css(e):this.$menu.css(n)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var t=this._getSuggestions().filter(".tt-is-under-cursor").first();return t.length>0?r(t):null},getFirstSuggestion:function(){var t=this._getSuggestions().first();return t.length>0?r(t):null},renderSuggestions:function(e,i){var r,a,l,c,u,h="tt-dataset-"+e.name,d='<div class="tt-suggestion">%body</div>',p=this.$menu.find("."+h);0===p.length&&(a=t(s.suggestionsList).css(o.suggestionsList),p=t("<div></div>").addClass(h).append(e.header).append(a).append(e.footer).appendTo(this.$menu)),i.length>0?(this.isEmpty=!1,this.isOpen&&this._show(),l=document.createElement("div"),c=document.createDocumentFragment(),n.each(i,function(n,i){i.dataset=e.name,r=e.template(i.datum),l.innerHTML=d.replace("%body",r),u=t(l.firstChild).css(o.suggestion).data("suggestion",i),u.children().each(function(){t(this).css(o.suggestionChild)}),c.appendChild(u[0])}),p.show().find(".tt-suggestions").html(c)):this.clearSuggestions(e.name),this.trigger("suggestionsRendered")},clearSuggestions:function(t){var e=t?this.$menu.find(".tt-dataset-"+t):this.$menu.find('[class^="tt-dataset-"]'),n=e.find(".tt-suggestions");e.hide(),n.empty(),0===this._getSuggestions().length&&(this.isEmpty=!0,this._hide())}}),e}(),h=function(){function e(t){var e,i,s;n.bindAll(this),this.$node=r(t.input),this.datasets=t.datasets,this.dir=null,this.eventBus=t.eventBus,e=this.$node.find(".tt-dropdown-menu"),i=this.$node.find(".tt-query"),s=this.$node.find(".tt-hint"),this.dropdownView=new u({menu:e}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent),this.inputView=new c({input:i,hint:s}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}function r(e){var n=t(o.wrapper),i=t(o.dropdown),r=t(e),s=t(o.hint);n=n.css(a.wrapper),i=i.css(a.dropdown),s.css(a.hint).css({backgroundAttachment:r.css("background-attachment"),backgroundClip:r.css("background-clip"),backgroundColor:r.css("background-color"),backgroundImage:r.css("background-image"),backgroundOrigin:r.css("background-origin"),backgroundPosition:r.css("background-position"),backgroundRepeat:r.css("background-repeat"),backgroundSize:r.css("background-size")}),r.data("ttAttrs",{dir:r.attr("dir"),autocomplete:r.attr("autocomplete"),spellcheck:r.attr("spellcheck"),style:r.attr("style")}),r.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(a.query);try{!r.attr("dir")&&r.attr("dir","auto")}catch(l){}return r.wrap(n).parent().prepend(s).append(i)}function s(t){var e=t.find(".tt-query");n.each(e.data("ttAttrs"),function(t,i){n.isUndefined(i)?e.removeAttr(t):e.attr(t,i)}),e.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(t),t.remove()}var o={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},a={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};return n.isMsie()&&n.mixin(a.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),n.isMsie()&&n.isMsie()<=7&&(n.mixin(a.wrapper,{display:"inline",zoom:"1"}),n.mixin(a.query,{marginTop:"-1px"})),n.mixin(e.prototype,i,{_managePreventDefault:function(t){var e,n,i=t.data,r=!1;switch(t.type){case"tabKeyed":e=this.inputView.getHintValue(),n=this.inputView.getInputValue(),r=e&&e!==n;break;case"upKeyed":case"downKeyed":r=!i.shiftKey&&!i.ctrlKey&&!i.metaKey}r&&i.preventDefault()},_setLanguageDirection:function(){var t=this.inputView.getLanguageDirection();t!==this.dir&&(this.dir=t,this.$node.css("direction",t),this.dropdownView.setLanguageDirection(t))},_updateHint:function(){var t,e,i,r,s,o=this.dropdownView.getFirstSuggestion(),a=o?o.value:null,l=this.dropdownView.isVisible(),c=this.inputView.isOverflow();a&&l&&!c&&(t=this.inputView.getInputValue(),e=t.replace(/\s{2,}/g," ").replace(/^\s+/g,""),i=n.escapeRegExChars(e),r=new RegExp("^(?:"+i+")(.*$)","i"),s=r.exec(a),this.inputView.setHintValue(t+(s?s[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(t){var e=t.data;this.inputView.setInputValue(e.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(t){this.dropdownView["blured"===t.type?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(t){var e=t.data;e.shiftKey||e.ctrlKey||e.metaKey||this.dropdownView["upKeyed"===t.type?"moveCursorUp":"moveCursorDown"]()},_handleSelection:function(t){var e="suggestionSelected"===t.type,i=e?t.data:this.dropdownView.getSuggestionUnderCursor();i&&(this.inputView.setInputValue(i.value),e?this.inputView.focus():t.data.preventDefault(),e&&n.isMsie()?n.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",i.datum,i.dataset))},_getSuggestions:function(){var t=this,e=this.inputView.getQuery();n.isBlankString(e)||n.each(this.datasets,function(n,i){i.getSuggestions(e,function(n){e===t.inputView.getQuery()&&t.dropdownView.renderSuggestions(i,n)})})},_autocomplete:function(t){var e,n,i,r,s;("rightKeyed"!==t.type&&"leftKeyed"!==t.type||(e=this.inputView.isCursorAtEnd(),n="ltr"===this.inputView.getLanguageDirection()?"leftKeyed"===t.type:"rightKeyed"===t.type,e&&!n))&&(i=this.inputView.getQuery(),r=this.inputView.getHintValue(),""!==r&&i!==r&&(s=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(s.value),this.eventBus.trigger("autocompleted",s.datum,s.dataset)))},_propagateEvent:function(t){this.eventBus.trigger(t.type)},destroy:function(){this.inputView.destroy(),this.dropdownView.destroy(),s(this.$node),this.$node=null},setQuery:function(t){this.inputView.setQuery(t),this.inputView.setInputValue(t),this._clearHint(),this._clearSuggestions(),this._getSuggestions()}}),e}();!function(){var e,i={},s="ttView";e={initialize:function(e){function o(){var e,i=t(this),o=new r({el:i});e=n.map(a,function(t){return t.initialize()}),i.data(s,new h({input:i,eventBus:o=new r({el:i}),datasets:a})),t.when.apply(t,e).always(function(){n.defer(function(){o.trigger("initialized")})})}var a;return e=n.isArray(e)?e:[e],0===e.length&&t.error("no datasets provided"),a=n.map(e,function(t){var e=i[t.name]?i[t.name]:new l(t);return t.name&&(i[t.name]=e),e}),this.each(o)},destroy:function(){function e(){var e=t(this),n=e.data(s);n&&(n.destroy(),e.removeData(s))}return this.each(e)},setQuery:function(e){function n(){var n=t(this).data(s);n&&n.setQuery(e)}return this.each(n)}},jQuery.fn.typeahead=function(t){return e[t]?e[t].apply(this,[].slice.call(arguments,1)):e.initialize.apply(this,arguments)}}()}(window.jQuery),function(){var t,e;e=function(){$("#s3_uploader").S3Uploader({remove_completed_progress_bar:!1,progress_bar_target:$("#uploads_container"),allow_multiple_files:!1}),$("#s3_uploader").bind("s3_upload_failed",function(t,e){return alert(e.filename+" failed to upload due to a timeout.")}),$("#s3_uploader").bind("s3_upload_complete",function(t,e){$("#progress_"+e.unique_id).addClass("pendingUpload").text("Finalizing upload..."),$("#answer_direct_upload_url").val(e.url),$("#answer_asset_file_name").val(e.filename),$("#answer_asset_file_path").val(e.filepath),$("#answer_asset_file_size").val(e.filesize),$("#answer_asset_content_type").val(e.filetype)})},t=function(){$('a[data-toggle="tab"]').on("shown.bs.tab",function(){$(".assignment-rubric").toggleClass("span4")})},$(document).ready(e),$(document).ready(t),$(window).bind("page:change",e)}.call(this),function(){$(".typeahead-usernames").typeahead({name:"accounts",local:["Apache","Cochise","Coconino","Gila","Graham","Greenlee","La Paz","Maricopa","Mohave","Navajo","Pima","Pinal","Santa Cruz","Yavapai","Yuma"]}),$(document).ready(function(){return $("#typed_review_type").change(function(){switch($("#typed_review_email").show().attr("placeholder","Choose a review type first"),$("#start_review").val("Start review"),$(this).val()){case"paired":return $("#typed_review_email").attr("placeholder","Pairing partner's email"),$("#start_review").val("Start paired review");case"exchange":return $("#typed_review_email").attr("placeholder","Exchanging partner's email"),$("#start_review").val("Start exchange review");case"final":return $("#typed_review_email").hide(),$("#start_review").val("Start final review")}})})}.call(this),function(){jQuery(function(){return $("a[rel~=popover], .has-popover").popover(),$("a[rel~=tooltip], .has-tooltip").tooltip()})}.call(this),function(){}.call(this),function(){var t,e;t=null,e=function(){return $(".selectAll").click(function(){return $(this).select()})},$(document).ready(function(){var n,i,r,s,o,a;return t=new MediumEditor(".editable"),$(".editable").mediumInsert({editor:t,images:!0,imagesUploadScript:"upload_attachment.js"}),s=function(t,e){return $(e).val(t)},r=function(){var e,n,i,r,s;for(r=t.elements,s=[],n=0,i=r.length;i>n;n++)e=r[n],s.push($(e).innerHTML=$("#"+$(e).data("syncwith")).text());return s},$("form").submit(function(){var e,n,i,r;for(r=t.elements,n=0,i=r.length;i>n;n++)return e=r[n],s(t.serialize()[$(e).attr("id")].value,"#"+$(e).data("syncwith")),!0}),n=function(t){var e;return e=new FormData,e.append("file",t),e},$(".upload").click(function(){var t;return t=$('<input type="file">').click(),t.change(function(){var t;return t=this.files,a(t)}),!1}),a=function(t){var e,i,r,s;for($("#attachment_progress").show(),s=[],i=0,r=t.length;r>i;i++)e=t[i],s.push($.ajax({type:"post",url:"upload_attachment.js",cache:!1,contentType:!1,complete:o,processData:!1,data:n(e)}));return s},i=1,window.setInterval(function(){return $(".answer-save-status").hasClass("label-danger label-warning")||(i=1,$(".answer-save-status").addClass("label-danger label-warning")),$(".answer-save-status").text("Last saved "+i+" min ago"),i++},6e4),o=function(t){return $("#attachment_progress").hide(),$("#attachments").html(t.responseText),e()}})}.call(this),function(){$(document).ready(function(){var t;return $(".pickIncorrect").click(function(t){return $("#collapseIncorrect").collapse("show"),$("#collapseComments").collapse("hide"),$("#collapseCorrect").collapse("hide"),t.preventDefault(),!1}),$(".pickCorrect").click(function(t){return $("#collapseIncorrect").collapse("hide"),$("#collapseComments").collapse("hide"),$("#collapseCorrect").collapse("show"),t.preventDefault(),!1}),$(".addComments").click(function(t){return $("#collapseIncorrect").collapse("hide"),$("#collapseCorrect").collapse("hide"),$("#collapseComments").collapse("show"),t.preventDefault(),!1}),$(".accordion-toggle,.incorrect-check,.correct-check").click(function(){var t,e,n,i,r;for(e=$(":checked").map(function(){return $(this).parent().text()}),n="<p>You chose</p><ul>",i=0,r=e.length;r>i;i++)t=e[i],n+="<li>"+t+"</li>";return n+="</ul>",$("#chosenAttributes").html(n)}),$("#score_field").focus(),$(".startCritique").click(function(){return $(".iLike").show()}),$(".startIWish").click(function(){return $(".iLike").hide(),$(".iWish").show()}),$(".iLike,.iWish").hide(),window.showVerificationTour&&(t={id:"hello-verification",steps:[{title:"Here's how verification works",target:"tour-launch",content:"A quick guide to verification. On this page, we show					 you what your classmates marked for student answers. You will if they are marked correctly. Answers that are marked incorrectly will be graded by more peers.",placement:"left"},{title:"Here's the question",target:$("#question-title").get(0),content:"Here's the question. All answers on this page are for this question.",placement:"bottom"},{title:"Here's a student answer",target:$(".answer").get(0),content:"Here's one student's answer to the above question",placement:"right"},{title:"Peer assessment",target:$(".answer-attribute").get(0),content:"A peer marked this answer as  '"+$(".answer-attribute").get(0).innerText+"'",placement:"bottom"},{title:"Is this assessment correct?",target:$(".assessment-options").get(0),content:"<p><strong>This is the most important part.</strong>					 Was the answer assessed correctly? If the marked attribute applies to this answer, choose yes. If the peer made a mistake and chose an attribute that does not apply to this answer, choose no.</p>					 <p>Note that we're <strong>not</strong> asking if the answer was correct. We're only asking &ldquo;was the answer was assessed correctly by the peer?&rdquo;</p>					 <p><strong>Choose Yes or No.</strong></p>",placement:"left",showNextButton:!1,nextOnTargetClick:!0},{title:"Great! You're ready!",target:$(".answer").get(1),content:"You should repeat this process for all other answers. Read the answer, see what it was marked as, and choose whether it was marked appropriately.",placement:"right"}],i18n:{doneBtn:"Ok, got it!"}},hopscotch.startTour(t)),$("#grading_form").submit(function(t){return $(".incorrect-check,.correct-check").is(":checked")?void 0:($("#collapseIncorrect").collapse("show"),$("#collapseCorrect").collapse("hide"),t.preventDefault(),alert("Choose at least one correct or incorrect attribute (try 'Other' if none match)"),!1)})})}.call(this);var Hogan={};!function(t,e){function n(t){return String(null===t||void 0===t?"":t)}function i(t){return t=n(t),c.test(t)?t.replace(r,"&amp;").replace(s,"&lt;").replace(o,"&gt;").replace(a,"&#39;").replace(l,"&quot;"):t}t.Template=function(t,n,i,r){this.r=t||this.r,this.c=i,this.options=r,this.text=n||"",this.buf=e?[]:""},t.Template.prototype={r:function(){return""},v:i,t:n,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},rp:function(t,e,n,i){var r=n[t];return r?(this.c&&"string"==typeof r&&(r=this.c.compile(r,this.options)),r.ri(e,n,i)):""},rs:function(t,e,n){var i=t[t.length-1];if(!u(i))return n(t,e,this),void 0;for(var r=0;r<i.length;r++)t.push(i[r]),n(t,e,this),t.pop()},s:function(t,e,n,i,r,s,o){var a;return u(t)&&0===t.length?!1:("function"==typeof t&&(t=this.ls(t,e,n,i,r,s,o)),a=""===t||!!t,!i&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,e,n,i){var r=t.split("."),s=this.f(r[0],e,n,i),o=null;if("."===t&&u(e[e.length-2]))return e[e.length-1];for(var a=1;a<r.length;a++)s&&"object"==typeof s&&r[a]in s?(o=s,s=s[r[a]]):s="";
return i&&!s?!1:(i||"function"!=typeof s||(e.push(o),s=this.lv(s,e,n),e.pop()),s)},f:function(t,e,n,i){for(var r=!1,s=null,o=!1,a=e.length-1;a>=0;a--)if(s=e[a],s&&"object"==typeof s&&t in s){r=s[t],o=!0;break}return o?(i||"function"!=typeof r||(r=this.lv(r,e,n)),r):i?!1:""},ho:function(t,e,n,i,r){var s=this.c,o=this.options;o.delimiters=r;var i=t.call(e,i);return i=null==i?String(i):i.toString(),this.b(s.compile(i,o).render(e,n)),!1},b:e?function(t){this.buf.push(t)}:function(t){this.buf+=t},fl:e?function(){var t=this.buf.join("");return this.buf=[],t}:function(){var t=this.buf;return this.buf="",t},ls:function(t,e,n,i,r,s,o){var a=e[e.length-1],l=null;if(!i&&this.c&&t.length>0)return this.ho(t,a,n,this.text.substring(r,s),o);if(l=t.call(a),"function"==typeof l){if(i)return!0;if(this.c)return this.ho(l,a,n,this.text.substring(r,s),o)}return l},lv:function(t,e,i){var r=e[e.length-1],s=t.call(r);return"function"==typeof s&&(s=n(s.call(r)),this.c&&~s.indexOf("{{"))?this.c.compile(s,this.options).render(r,i):n(s)}};var r=/&/g,s=/</g,o=/>/g,a=/\'/g,l=/\"/g,c=/[&<>\"\']/,u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:Hogan),function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function n(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function i(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var i=1,r=t.length;r>i;i++)if(e.charAt(n+i)!=t.charAt(i))return!1;return!0}function r(t,e,n,i){for(var a=[],l=null,c=null;t.length>0;)if(c=t.shift(),"#"==c.tag||"^"==c.tag||s(c,i))n.push(c),c.nodes=r(t,c.tag,n,i),a.push(c);else{if("/"==c.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+c.n);if(l=n.pop(),c.n!=l.n&&!o(c.n,l.n,i))throw new Error("Nesting error: "+l.n+" vs. "+c.n);return l.end=c.i,a}a.push(c)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return a}function s(t,e){for(var n=0,i=e.length;i>n;n++)if(e[n].o==t.n)return t.tag="#",!0}function o(t,e,n){for(var i=0,r=n.length;r>i;i++)if(n[i].c==t&&n[i].o==e)return!0}function a(t){return t.replace(_,"\\\\").replace(v,'\\"').replace(y,"\\n").replace(b,"\\r")}function l(t){return~t.indexOf(".")?"d":"f"}function c(t){for(var e="",n=0,i=t.length;i>n;n++){var r=t[n].tag;"#"==r?e+=u(t[n].nodes,t[n].n,l(t[n].n),t[n].i,t[n].end,t[n].otag+" "+t[n].ctag):"^"==r?e+=h(t[n].nodes,t[n].n,l(t[n].n)):"<"==r||">"==r?e+=d(t[n]):"{"==r||"&"==r?e+=p(t[n].n,l(t[n].n)):"\n"==r?e+=m('"\\n"'+(t.length-1==n?"":" + i")):"_v"==r?e+=f(t[n].n,l(t[n].n)):void 0===r&&(e+=m('"'+a(t[n])+'"'))}return e}function u(t,e,n,i,r,s){return"if(_.s(_."+n+'("'+a(e)+'",c,p,1),c,p,0,'+i+","+r+',"'+s+'")){_.rs(c,p,function(c,p,_){'+c(t)+"});c.pop();}"}function h(t,e,n){return"if(!_.s(_."+n+'("'+a(e)+'",c,p,1),c,p,1,0,0,"")){'+c(t)+"};"}function d(t){return'_.b(_.rp("'+a(t.n)+'",c,p,"'+(t.indent||"")+'"));'}function p(t,e){return"_.b(_.t(_."+e+'("'+a(t)+'",c,p,0)));'}function f(t,e){return"_.b(_.v(_."+e+'("'+a(t)+'",c,p,0)));'}function m(t){return"_.b("+t+");"}var g=/\S/,v=/\"/g,y=/\n/g,b=/\r/g,_=/\\/g,w={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};t.scan=function(t,r){function s(){v.length>0&&(y.push(new String(v)),v="")}function o(){for(var t=!0,e=x;e<y.length;e++)if(t=y[e].tag&&w[y[e].tag]<w._v||!y[e].tag&&null===y[e].match(g),!t)return!1;return t}function a(t,e){if(s(),t&&o())for(var n,i=x;i<y.length;i++)y[i].tag||((n=y[i+1])&&">"==n.tag&&(n.indent=y[i].toString()),y.splice(i,1));else e||y.push({tag:"\n"});b=!1,x=y.length}function l(t,e){var i="="+C,r=t.indexOf(i,e),s=n(t.substring(t.indexOf("=",e)+1,r)).split(" ");return k=s[0],C=s[1],r+i.length-1}var c=t.length,u=0,h=1,d=2,p=u,f=null,m=null,v="",y=[],b=!1,_=0,x=0,k="{{",C="}}";for(r&&(r=r.split(" "),k=r[0],C=r[1]),_=0;c>_;_++)p==u?i(k,t,_)?(--_,s(),p=h):"\n"==t.charAt(_)?a(b):v+=t.charAt(_):p==h?(_+=k.length-1,m=w[t.charAt(_+1)],f=m?t.charAt(_+1):"_v","="==f?(_=l(t,_),p=u):(m&&_++,p=d),b=_):i(C,t,_)?(y.push({tag:f,n:n(v),otag:k,ctag:C,i:"/"==f?b-C.length:_+k.length}),v="",_+=C.length-1,p=u,"{"==f&&("}}"==C?_++:e(y[y.length-1]))):v+=t.charAt(_);return a(b,!0),y},t.generate=function(e,n,i){var r='var _=this;_.b(i=i||"");'+c(e)+"return _.fl();";return i.asString?"function(c,p,i){"+r+";}":new t.Template(new Function("c","p","i",r),n,t,i)},t.parse=function(t,e,n){return n=n||{},r(t,"",[],n.sectionTags||[])},t.cache={},t.compile=function(t,e){e=e||{};var n=t+"||"+!!e.asString,i=this.cache[n];return i?i:(i=this.generate(this.parse(this.scan(t,e.delimiters),t,e),t,e),this.cache[n]=i)}}("undefined"!=typeof exports?exports:Hogan),function(t,e){var n,i,r,s,o,a,l,c,u,h,d=window.Sizzle||null,p=t[e],f="undefined",m=!1,g=typeof window.jQuery!==f,v=!1,y=window.document;try{v=typeof window.sessionStorage!==f}catch(b){}h={smoothScroll:!0,scrollDuration:1e3,scrollTopMargin:200,showCloseButton:!0,showPrevButton:!1,showNextButton:!0,bubbleWidth:280,bubblePadding:15,arrowWidth:20,skipIfNoElement:!0,cookieName:"hopscotch.tour.state"},p||(Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),u=function(){m&&p.startTour()},a={addClass:function(t,e){var n,i,r,s;if(t.className){for(i=e.split(/\s+/),n=" "+t.className+" ",r=0,s=i.length;s>r;++r)n.indexOf(" "+i[r]+" ")<0&&(n+=i[r]+" ");t.className=n.replace(/^\s+|\s+$/g,"")}else t.className=e},removeClass:function(t,e){var n,i,r,s;for(i=e.split(/\s+/),n=" "+t.className+" ",r=0,s=i.length;s>r;++r)n=n.replace(" "+i[r]+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")},getPixelValue:function(t){var e=typeof t;return"number"===e?t:"string"===e?parseInt(t,10):0},valOrDefault:function(t,e){return typeof t!==f?t:e},invokeCallbackArrayHelper:function(t){var e;return Array.isArray(t)&&(e=c[t[0]],"function"==typeof e)?e.apply(this,t.slice(1)):void 0},invokeCallbackArray:function(t){var e,n;if(Array.isArray(t)){if("string"==typeof t[0])return a.invokeCallbackArrayHelper(t);for(e=0,n=t.length;n>e;++e)a.invokeCallback(t[e])}},invokeCallback:function(t){return"function"==typeof t?t():"string"==typeof t&&c[t]?c[t]():a.invokeCallbackArray(t)},invokeEventCallbacks:function(t,e){var n,i,r=l[t];if(e)return this.invokeCallback(e);for(n=0,i=r.length;i>n;++n)this.invokeCallback(r[n].cb)},getScrollTop:function(){var t;return t=typeof window.pageYOffset!==f?window.pageYOffset:y.documentElement.scrollTop},getScrollLeft:function(){var t;return t=typeof window.pageXOffset!==f?window.pageXOffset:y.documentElement.scrollLeft},getWindowHeight:function(){return window.innerHeight||y.documentElement.clientHeight},getWindowWidth:function(){return window.innerWidth||y.documentElement.clientWidth},addEvtListener:function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},removeEvtListener:function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},documentIsReady:function(){return"complete"===y.readyState||"interactive"===y.readyState},evtPreventDefault:function(t){t.preventDefault?t.preventDefault():event&&(event.returnValue=!1)},extend:function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},getStepTargetHelper:function(t){var e;return/^[#\.]/.test(t)?y.querySelector?y.querySelector(t):g?(e=jQuery(t),e.length?e[0]:null):d?(e=new d(t),e.length?e[0]:null):/^#[a-zA-Z][\w-_:.]*$/.test(t)?y.getElementById(t.substring(1)):null:y.getElementById(t)},getStepTarget:function(t){var e;if(!t||!t.target)return null;if("string"==typeof t.target)return t.target=a.getStepTargetHelper(t.target),t.target;if(Array.isArray(t.target)){var n,i;for(n=0,i=t.target.length;i>n;n++)if("string"==typeof t.target[n]&&(e=a.getStepTargetHelper(t.target[n])))return t.target=e,e;return null}return t.target},getI18NString:function(t){return o[t]||s[t]},setState:function(t,e,n){var i,r="";v?sessionStorage.setItem(t,e):(n&&(i=new Date,i.setTime(i.getTime()+24*n*60*60*1e3),r="; expires="+i.toGMTString()),y.cookie=t+"="+e+r+"; path=/")},getState:function(t){var e,n,i,r=t+"=",s=y.cookie.split(";");if(v)i=sessionStorage.getItem(t);else for(e=0;e<s.length;e++){for(n=s[e];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(r)){i=n.substring(r.length,n.length);break}}return i},clearState:function(t){v?sessionStorage.removeItem(t):this.setState(t,"",-1)}},a.addEvtListener(window,"load",u),l={next:[],prev:[],start:[],end:[],show:[],error:[],close:[]},c={},s={stepNums:null,nextBtn:"Next",prevBtn:"Back",doneBtn:"Done",skipBtn:"Skip",closeTooltip:"Close"},o={},i=function(t){this.init(t)},i.prototype={isShowing:!1,currStep:void 0,_createButton:function(t,e){var n=y.createElement("button"),i="hopscotch-nav-button";return n.id=t,e&&(n.innerHTML=e),i+=t.indexOf("prev")>=0?" prev":" next",a.addClass(n,i),n},setPosition:function(t){var e,n,i,r,s,o,l,c=6,u=a.getStepTarget(t),h=this.element,d=this.arrowEl;e=a.getPixelValue(t.width)||this.opt.bubbleWidth,i=a.valOrDefault(t.padding,this.opt.bubblePadding),a.removeClass(h,"fade-in-down fade-in-up fade-in-left fade-in-right"),!t.placement&&t.orientation&&(t.placement=t.orientation),r=u.getBoundingClientRect(),"top"===t.placement?(n=h.offsetHeight,s=r.top-n-this.opt.arrowWidth,o=r.left):"bottom"===t.placement?(s=r.bottom+this.opt.arrowWidth,o=r.left):"left"===t.placement?(s=r.top,o=r.left-e-2*i-2*c-this.opt.arrowWidth):"right"===t.placement&&(s=r.top,o=r.right+this.opt.arrowWidth),l="center"!==t.arrowOffset?a.getPixelValue(t.arrowOffset):t.arrowOffset,l?"top"===t.placement||"bottom"===t.placement?(d.style.top="",d.style.left="center"===l?e/2+i-d.offsetWidth/2+"px":l+"px"):("left"===t.placement||"right"===t.placement)&&(d.style.left="","center"===l?(n=n||h.offsetHeight,d.style.top=n/2+i-d.offsetHeight/2+"px"):d.style.top=l+"px"):(d.style.top="",d.style.left=""),"center"===t.xOffset?o=r.left+u.offsetWidth/2-e/2-i:o+=a.getPixelValue(t.xOffset),"center"===t.yOffset?(n=n||h.offsetHeight,s=r.top+u.offsetHeight/2-n/2-i):s+=a.getPixelValue(t.yOffset),t.fixedElement||(s+=a.getScrollTop(),o+=a.getScrollLeft()),h.style.position=t.fixedElement?"fixed":"absolute",h.style.top=s+"px",h.style.left=o+"px"},_initNavButtons:function(){var t=y.createElement("div");return this.prevBtnEl=this._createButton("hopscotch-prev",a.getI18NString("prevBtn")),this.nextBtnEl=this._createButton("hopscotch-next",a.getI18NString("nextBtn")),this.doneBtnEl=this._createButton("hopscotch-done",a.getI18NString("doneBtn")),this.ctaBtnEl=this._createButton("hopscotch-cta"),a.addClass(this.doneBtnEl,"hide"),t.appendChild(this.prevBtnEl),t.appendChild(this.ctaBtnEl),t.appendChild(this.nextBtnEl),t.appendChild(this.doneBtnEl),a.addEvtListener(this.prevBtnEl,"click",function(){p.prevStep(!0)}),a.addEvtListener(this.nextBtnEl,"click",function(){p.nextStep(!0)}),a.addEvtListener(this.doneBtnEl,"click",function(){p.endTour()}),t.className="hopscotch-actions",this.buttonsEl=t,this.containerEl.appendChild(t),this},_getCloseFn:function(){var t=this;return this.closeFn||(this.closeFn=function(e){t.opt.onClose&&a.invokeCallback(t.opt.onClose),t.opt.id&&!t.opt.isTourBubble?p.getCalloutManager().removeCallout(t.opt.id):t.destroy(),a.evtPreventDefault(e)}),this.closeFn},initCloseButton:function(){var t=y.createElement("a");return t.className="hopscotch-bubble-close",t.href="#",t.title=a.getI18NString("closeTooltip"),t.innerHTML=a.getI18NString("closeTooltip"),this.opt.isTourBubble?a.addEvtListener(t,"click",function(t){var e=p.getCurrStepNum(),n=p.getCurrTour(),i=e===n.steps.length-1;a.invokeEventCallbacks("close"),p.endTour(!0,i),t.preventDefault?t.preventDefault():event&&(event.returnValue=!1)}):a.addEvtListener(t,"click",this._getCloseFn()),a.valOrDefault(this.opt.showCloseButton,!0)||a.addClass(t,"hide"),this.closeBtnEl=t,this.containerEl.appendChild(t),this},_initArrow:function(){var t,e;return this.arrowEl=y.createElement("div"),this.arrowEl.className="hopscotch-bubble-arrow-container",e=y.createElement("div"),e.className="hopscotch-bubble-arrow-border",t=y.createElement("div"),t.className="hopscotch-bubble-arrow",this.arrowEl.appendChild(e),this.arrowEl.appendChild(t),this.element.appendChild(this.arrowEl),this},_setupCTAButton:function(t){var e=this;this._showButton(this.ctaBtnEl,!!t.showCTAButton),t.showCTAButton&&t.ctaLabel&&(this.ctaBtnEl.innerHTML=t.ctaLabel,this._ctaFn=function(){e.opt.isTourBubble||p.getCalloutManager().removeCallout(t.id),t.onCTA&&"function"==typeof t.onCTA&&t.onCTA()},a.addEvtListener(this.ctaBtnEl,"click",this._ctaFn))},_removeCTACallback:function(){this.ctaBtnEl&&this._ctaFn&&(a.removeEvtListener(this.ctaBtnEl,"click",this._ctaFn),this._ctaFn=null)},render:function(t,e,n,i){var r,s,o,l,c=this.element;return t?this.currStep=t:this.currStep&&(t=this.currStep),!t.placement&&t.orientation&&(t.placement=t.orientation),r=a.valOrDefault(t.showNextButton,this.opt.showNextButton),s=a.valOrDefault(t.showPrevButton,this.opt.showPrevButton),this.setTitle(t.title||""),this.setContent(t.content||""),this.opt.isTourBubble&&this.setNum(e),this.placement=t.placement,this.showPrevButton(this.prevBtnEl&&s&&e>0),this.showNextButton(this.nextBtnEl&&r&&!n),this.nextBtnEl.innerHTML=t.showSkip?a.getI18NString("skipBtn"):a.getI18NString("nextBtn"),n?a.removeClass(this.doneBtnEl,"hide"):a.addClass(this.doneBtnEl,"hide"),this._setupCTAButton(t),this._setArrow(t.placement),o=a.getPixelValue(t.width)||this.opt.bubbleWidth,l=a.valOrDefault(t.padding,this.opt.bubblePadding),this.containerEl.style.width=o+"px",this.containerEl.style.padding=l+"px",c.style.zIndex=t.zindex||"","top"===t.placement?(c.style.top="-9999px",c.style.left="-9999px",a.removeClass(c,"hide"),this.setPosition(t),a.addClass(c,"hide")):this.setPosition(t),i&&i(!t.fixedElement),this},setTitle:function(t){return t?(this.titleEl.innerHTML=t,a.removeClass(this.titleEl,"hide")):a.addClass(this.titleEl,"hide"),this},setContent:function(t){return t?(this.contentEl.innerHTML=t,a.removeClass(this.contentEl,"hide")):a.addClass(this.contentEl,"hide"),this},setNum:function(t){var e=a.getI18NString("stepNums");e&&t<e.length?t=e[t]:t+=1,this.numberEl.innerHTML=t},_setArrow:function(t){a.removeClass(this.arrowEl,"down up right left"),"top"===t?a.addClass(this.arrowEl,"down"):"bottom"===t?a.addClass(this.arrowEl,"up"):"left"===t?a.addClass(this.arrowEl,"right"):"right"===t&&a.addClass(this.arrowEl,"left")},_getArrowDirection:function(){return"top"===this.placement?"down":"bottom"===this.placement?"up":"left"===this.placement?"right":"right"===this.placement?"left":void 0},show:function(){var t=this,e="fade-in-"+this._getArrowDirection(),n=1e3;return a.removeClass(this.element,"hide"),a.addClass(this.element,e),setTimeout(function(){a.removeClass(t.element,"invisible")},50),setTimeout(function(){a.removeClass(t.element,e)},n),this.isShowing=!0,this},hide:function(t){var e=this.element;return t=a.valOrDefault(t,!0),e.style.top="",e.style.left="",t?(a.addClass(e,"hide"),a.removeClass(e,"invisible")):(a.removeClass(e,"hide"),a.addClass(e,"invisible")),a.removeClass(e,"animate fade-in-up fade-in-down fade-in-right fade-in-left"),this.isShowing=!1,this},_showButton:function(t,e,n){var i="hide";n&&(i="hide-all"),typeof e===f&&(e=!0),e?a.removeClass(t,i):a.addClass(t,i)},showPrevButton:function(t){this._showButton(this.prevBtnEl,t)},showNextButton:function(t){this._showButton(this.nextBtnEl,t)},showCloseButton:function(t){this._showButton(this.closeBtnEl,t)},destroy:function(){var t=this.element;t&&t.parentNode.removeChild(t),this.closeBtnEl&&a.removeEvtListener(this.closeBtnEl,"click",this._getCloseFn()),this.ctaBtnEl&&this.onCTA&&this._removeCTACallback()},updateButtons:function(){this.showPrevButton(this.opt.showPrevButton),this.showNextButton(this.opt.showNextButton),this.showCloseButton(this.opt.showCloseButton),this.prevBtnEl.innerHTML=a.getI18NString("prevBtn"),this.nextBtnEl.innerHTML=a.getI18NString("nextBtn"),this.doneBtnEl.innerHTML=a.getI18NString("doneBtn")},init:function(t){var e,n,i,r=y.createElement("div"),s=y.createElement("div"),o=y.createElement("div"),l=this,c=!1;this.element=r,this.containerEl=s,this.titleEl=y.createElement("h3"),this.contentEl=y.createElement("div"),a.addClass(this.titleEl,"hopscotch-title"),a.addClass(this.contentEl,"hopscotch-content"),i={showPrevButton:h.showPrevButton,showNextButton:h.showNextButton,bubbleWidth:h.bubbleWidth,bubblePadding:h.bubblePadding,arrowWidth:h.arrowWidth,showNumber:!0,isTourBubble:!0},t=typeof t===f?{}:t,a.extend(i,t),this.opt=i,r.className="hopscotch-bubble animated",s.className="hopscotch-bubble-container",i.isTourBubble||(r.className+=" hopscotch-callout"),i.isTourBubble?(this.numberEl=y.createElement("span"),this.numberEl.className="hopscotch-bubble-number",s.appendChild(this.numberEl)):a.addClass(r,"no-number"),o.appendChild(this.titleEl),o.appendChild(this.contentEl),o.className="hopscotch-bubble-content",s.appendChild(o),r.appendChild(s),this._initNavButtons(),this.initCloseButton(),this._initArrow(),e=function(){!c&&l.isShowing&&(c=!0,setTimeout(function(){l.setPosition(l.currStep),c=!1},100))},a.addEvtListener(window,"resize",e),this.hide(),a.documentIsReady()?y.body.appendChild(r):(y.addEventListener?(n=function(){y.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),y.body.appendChild(r)},y.addEventListener("DOMContentLoaded",n,!1)):(n=function(){"complete"===y.readyState&&(y.detachEvent("onreadystatechange",n),window.detachEvent("onload",n),y.body.appendChild(r))},y.attachEvent("onreadystatechange",n)),a.addEvtListener(window,"load",n))}},r=function(){var t={};this.createCallout=function(e){var n;if(!e.id)throw"Must specify a callout id.";if(t[e.id])throw"Callout by that id already exists. Please choose a unique id.";return e.showNextButton=e.showPrevButton=!1,e.isTourBubble=!1,n=new i(e),t[e.id]=n,e.target&&n.render(e,null,null,function(){n.show()}),n},this.getCallout=function(e){return t[e]},this.removeAllCallouts=function(){var e;for(e in t)t.hasOwnProperty(e)&&this.removeCallout(e)},this.removeCallout=function(e){var n=t[e];t[e]=null,n&&n.destroy()}},n=function(t){var e,n,s,u,d,p,v,b,_=this,w=function(t){return e||(e=new i(s)),t&&(a.extend(e.opt,{bubblePadding:x("bubblePadding"),bubbleWidth:x("bubbleWidth"),showNextButton:x("showNextButton"),showPrevButton:x("showPrevButton"),showCloseButton:x("showCloseButton"),arrowWidth:x("arrowWidth")}),e.updateButtons()),e},x=function(t){return"undefined"==typeof s?h[t]:a.valOrDefault(s[t],h[t])},k=function(){var t;return t=0>d||d>=u.steps.length?null:u.steps[d]},C=function(){_.nextStep()},T=function(t){var e,n,i,r,s,o,l=w(),c=l.element,u=a.getPixelValue(c.style.top),h=u+a.getPixelValue(c.offsetHeight),d=a.getStepTarget(k()),p=d.getBoundingClientRect(),m=p.top+a.getScrollTop(),v=p.bottom+a.getScrollTop(),b=m>u?u:m,_=h>v?h:v,C=a.getScrollTop(),T=C+a.getWindowHeight(),S=b-x("scrollTopMargin");b>=C&&(b<=C+x("scrollTopMargin")||T>=_)?t&&t():x("smoothScroll")?typeof YAHOO!==f&&typeof YAHOO.env!==f&&typeof YAHOO.env.ua!==f&&typeof YAHOO.util!==f&&typeof YAHOO.util.Scroll!==f?(e=YAHOO.env.ua.webkit?y.body:y.documentElement,i=YAHOO.util.Easing?YAHOO.util.Easing.easeOut:void 0,n=new YAHOO.util.Scroll(e,{scroll:{to:[0,S]}},x("scrollDuration")/1e3,i),n.onComplete.subscribe(t),n.animate()):g?jQuery("body, html").animate({scrollTop:S},x("scrollDuration"),t):(0>S&&(S=0),r=C>b?-1:1,s=Math.abs(C-S)/(x("scrollDuration")/10),o=function(){var e=a.getScrollTop(),n=e+r*s;return r>0&&n>=S||0>r&&S>=n?(n=S,t&&t(),window.scrollTo(0,n),void 0):(window.scrollTo(0,n),a.getScrollTop()===e?(t&&t(),void 0):(setTimeout(o,10),void 0))},o()):(window.scrollTo(0,S),t&&t())},S=function(t,e){var n,i,r;d+t>=0&&d+t<u.steps.length?(d+=t,i=k(),r=function(){n=a.getStepTarget(i),n?e(d):(a.invokeEventCallbacks("error"),S(t,e))},i.delay?setTimeout(r,i.delay):r()):e(-1)},E=function(t,e){var n,i,r,s,o=w(),l=this;if(o.hide()._removeCTACallback(),t=a.valOrDefault(t,!0),n=k(),i=n,r=e>0?i.multipage:d>0&&u.steps[d-1].multipage,s=function(n){var s;if(-1===n)return this.endTour(!0);if(t&&(s=e>0?a.invokeEventCallbacks("next",i.onNext):a.invokeEventCallbacks("prev",i.onPrev)),n===d){if(r)return a.setState(x("cookieName"),u.id+":"+d,1),void 0;s=a.valOrDefault(s,!0),s?this.showStep(n):this.endTour(!1)}},!r&&x("skipIfNoElement"))S(e,function(t){s.call(l,t)});else if(d+e>=0&&d+e<u.steps.length){if(d+=e,n=k(),!a.getStepTarget(n)&&!r)return a.invokeEventCallbacks("error"),this.endTour(!0,!1);s.call(this,d)}return this},$=function(t){var e,n,i,r={};for(e in t)t.hasOwnProperty(e)&&"id"!==e&&"steps"!==e&&(r[e]=t[e]);return b.call(this,r,!0),n=a.getState(x("cookieName")),n&&(i=n.split(":"),p=i[0],v=i[1],v=parseInt(v,10)),this},D=function(t,e){var n,i;if(d=t||0,n=k(),i=a.getStepTarget(n))return e(d),void 0;if(!i){if(a.invokeEventCallbacks("error"),x("skipIfNoElement"))return S(1,e),void 0;d=-1,e(d)}},A=function(t){var e,n,i=u.steps[t],r=u.steps,s=r.length,o=u.id+":"+t,l=w(),c=a.getStepTarget(i);n=function(){l.show(),a.invokeEventCallbacks("show",i.onShow)},d=t,l.hide(!1),e=t===s-1,l.render(i,t,e,function(t){t?T(n):n(),i.nextOnTargetClick&&a.addEvtListener(c,"click",C)}),a.setState(x("cookieName"),o,1)},N=function(t){t&&this.configure(t)};this.getCalloutManager=function(){return typeof n===f&&(n=new r),n},this.startTour=function(t,e){var n,i=this;if(u||(u=t,$.call(this,t)),typeof e!==f){if(e>=u.steps.length)throw"Specified step number out of bounds.";d=e}return a.documentIsReady()?(d||u.id!==p||typeof v===f?d||(d=0):d=v,D(d,function(t){var e=-1!==t&&a.getStepTarget(u.steps[t]);return e?(a.invokeEventCallbacks("start"),n=w(),n.hide(!1),i.isActive=!0,a.getStepTarget(k())?i.showStep(t):(a.invokeEventCallbacks("error"),x("skipIfNoElement")&&i.nextStep(!1)),void 0):(i.endTour(!1,!1),void 0)}),this):(m=!0,this)},this.showStep=function(t){var e=u.steps[t];return e.delay?setTimeout(function(){A(t)},e.delay):A(t),this},this.prevStep=function(t){return E.call(this,t,-1),this},this.nextStep=function(t){var e=k(),n=a.getStepTarget(e);return e.nextOnTargetClick&&a.removeEvtListener(n,"click",C),E.call(this,t,1),this},this.endTour=function(t,e){var n=w();return t=a.valOrDefault(t,!0),e=a.valOrDefault(e,!0),d=0,v=void 0,n.hide(),t&&a.clearState(x("cookieName")),this.isActive&&(this.isActive=!1,u&&e&&a.invokeEventCallbacks("end")),this.removeCallbacks(null,!0),this.resetDefaultOptions(),u=null,this},this.getCurrTour=function(){return u},this.getCurrTarget=function(){return a.getStepTarget(k())},this.getCurrStepNum=function(){return d},this.listen=function(t,e,n){return t&&l[t].push({cb:e,fromTour:n}),this},this.unlisten=function(t,e){var n,i,r=l[t];for(n=0,i=r.length;i>n;++n)r[n]===e&&r.splice(n,1);return this},this.removeCallbacks=function(t,e){var n,i,r,s;for(s in l)if(!t||t===s)if(e)for(n=l[s],i=0,r=n.length;r>i;++i)n[i].fromTour&&(n.splice(i--,1),--r);else l[s]=[];return this},this.registerHelper=function(t,e){"string"==typeof t&&"function"==typeof e&&(c[t]=e)},this.unregisterHelper=function(t){c[t]=null},this.invokeHelper=function(t){var e,n,i=[];for(e=1,n=arguments.length;n>e;++e)i.push(arguments[e]);c[t]&&c[t].call(null,i)},this.setCookieName=function(t){return s.cookieName=t,this},this.resetDefaultOptions=function(){return s={},this},this.resetDefaultI18N=function(){return o={},this},this.getState=function(){return a.getState(x("cookieName"))},b=function(t,e){var n,i,r,l,c=["next","prev","start","end","show","error","close"];for(s||this.resetDefaultOptions(),a.extend(s,t),t&&a.extend(o,t.i18n),r=0,l=c.length;l>r;++r)i="on"+c[r].charAt(0).toUpperCase()+c[r].substring(1),t[i]&&this.listen(c[r],t[i],e);return n=w(!0),this},this.configure=function(t){return b.call(this,t,!1)},N.call(this,t)},p=new n,t[e]=p)}(window,"hopscotch"),"object"==typeof module&&(module.exports=MediumEditor),function(t,e){"use strict";function n(t,e){var n;if(void 0===t)return e;for(n in e)e.hasOwnProperty(n)&&t.hasOwnProperty(n)===!1&&(t[n]=e[n]);return t}function i(){var e,n,i,r=t.getSelection();if(r.getRangeAt&&r.rangeCount){for(i=[],e=0,n=r.rangeCount;n>e;e+=1)i.push(r.getRangeAt(e));return i}return null}function r(e){var n,i,r=t.getSelection();if(e)for(r.removeAllRanges(),n=0,i=e.length;i>n;n+=1)r.addRange(e[n])}function s(){var t=e.getSelection().anchorNode,n=t&&3===t.nodeType?t.parentNode:t;return n}function o(){var n,i,r,s,o="";if(void 0!==t.getSelection){if(i=t.getSelection(),i.rangeCount){for(s=e.createElement("div"),n=0,r=i.rangeCount;r>n;n+=1)s.appendChild(i.getRangeAt(n).cloneContents());o=s.innerHTML}}else void 0!==e.selection&&"Text"===e.selection.type&&(o=e.selection.createRange().htmlText);return o}MediumEditor.prototype={defaults:{allowMultiParagraphSelection:!0,anchorInputPlaceholder:"Paste or type a link",buttons:["bold","italic","underline","anchor","header1","header2","quote","unorderedlist"],buttonLabels:!1,delay:0,diffLeft:0,diffTop:-10,disableReturn:!1,disableToolbar:!1,firstHeader:"h3",forcePlainText:!0,placeholder:"Type your text",secondHeader:"h4",targetBlank:!1},init:function(t,i){return this.elements="string"==typeof t?e.querySelectorAll(t):t,0!==this.elements.length?(this.isActive=!0,this.parentElements=["p","h1","h2","h3","h4","h5","h6","blockquote","pre"],this.id=e.querySelectorAll(".medium-editor-toolbar").length+1,this.options=n(i,this.defaults),this.initElements().bindSelect().bindPaste().setPlaceholders().bindWindowActions()):void 0},initElements:function(){var t,e=!1;for(t=0;t<this.elements.length;t+=1)this.elements[t].setAttribute("contentEditable",!0),this.elements[t].getAttribute("data-placeholder")||this.elements[t].setAttribute("data-placeholder",this.options.placeholder),this.elements[t].setAttribute("data-medium-element",!0),this.bindParagraphCreation(t).bindReturn(t).bindTab(t),this.options.disableToolbar||this.elements[t].getAttribute("data-disable-toolbar")||(e=!0);return e&&this.initToolbar().bindButtons().bindAnchorForm(),this},serialize:function(){var t,e,n={};for(t=0;t<this.elements.length;t+=1)e=""!==this.elements[t].id?this.elements[t].id:"element-"+t,n[e]={value:this.elements[t].innerHTML.trim()};return n},bindParagraphCreation:function(t){var n=this;return this.elements[t].addEventListener("keyup",function(t){var i,r=s();r&&r.getAttribute("data-medium-element")&&0===r.children.length&&!n.options.disableReturn&&!r.getAttribute("data-disable-return")&&e.execCommand("formatBlock",!1,"p"),13!==t.which||t.shiftKey||(r=s(),i=r.tagName.toLowerCase(),n.options.disableReturn||this.getAttribute("data-disable-return")||"li"===i||(e.execCommand("formatBlock",!1,"p"),"a"===i&&e.execCommand("unlink",!1,null)))}),this},bindReturn:function(t){var e=this;return this.elements[t].addEventListener("keypress",function(t){13===t.which&&(e.options.disableReturn||this.getAttribute("data-disable-return"))&&t.preventDefault()}),this},bindTab:function(t){this.elements[t].addEventListener("keydown",function(t){if(9===t.which){var n=s().tagName.toLowerCase();"pre"===n&&(t.preventDefault(),e.execCommand("insertHtml",null,"    "))}})},buttonTemplate:function(t){var e=this.getButtonLabels(this.options.buttonLabels),n={bold:'<li><button class="medium-editor-action medium-editor-action-bold" data-action="bold" data-element="b">'+e.bold+"</button></li>",italic:'<li><button class="medium-editor-action medium-editor-action-italic" data-action="italic" data-element="i">'+e.italic+"</button></li>",underline:'<li><button class="medium-editor-action medium-editor-action-underline" data-action="underline" data-element="u">'+e.underline+"</button></li>",strikethrough:'<li><button class="medium-editor-action medium-editor-action-strikethrough" data-action="strikethrough" data-element="strike"><strike>A</strike></button></li>',superscript:'<li><button class="medium-editor-action medium-editor-action-superscript" data-action="superscript" data-element="sup">'+e.superscript+"</button></li>",subscript:'<li><button class="medium-editor-action medium-editor-action-subscript" data-action="subscript" data-element="sub">'+e.subscript+"</button></li>",anchor:'<li><button class="medium-editor-action medium-editor-action-anchor" data-action="anchor" data-element="a">'+e.anchor+"</button></li>",header1:'<li><button class="medium-editor-action medium-editor-action-header1" data-action="append-'+this.options.firstHeader+'" data-element="'+this.options.firstHeader+'">'+e.header1+"</button></li>",header2:'<li><button class="medium-editor-action medium-editor-action-header2" data-action="append-'+this.options.secondHeader+'" data-element="'+this.options.secondHeader+'">'+e.header2+"</button></li>",quote:'<li><button class="medium-editor-action medium-editor-action-quote" data-action="append-blockquote" data-element="blockquote">'+e.quote+"</button></li>",orderedlist:'<li><button class="medium-editor-action medium-editor-action-orderedlist" data-action="insertorderedlist" data-element="ol">'+e.orderedlist+"</button></li>",unorderedlist:'<li><button class="medium-editor-action medium-editor-action-unorderedlist" data-action="insertunorderedlist" data-element="ul">'+e.unorderedlist+"</button></li>",img:'<li><button class="medium-editor-action medium-editor-action-img" data-action="insertimg" data-element="ul">'+e.img+"</button></li>",pre:'<li><button class="medium-editor-action medium-editor-action-pre" data-action="append-pre" data-element="pre">'+e.pre+"</button></li>"};return n[t]||!1},getButtonLabels:function(t){var e,n,i={bold:"<b>B</b>",italic:"<b><i>I<i></b>",underline:"<b><u>U</u></b>",superscript:"<b>x<sup>1</sup></b>",subscript:"<b>x<sub>1</sup></b>",anchor:"<b>#</b>",header1:"<b>H1</b>",header2:"<b>H2</b>",quote:"<b>&ldquo;</b>",orderedlist:"<b>1.</b>",unorderedlist:"<b>&bull;</b>",pre:"<b>0101</b>",img:"<b>IMG</b>"};if("fontawesome"===t?e={bold:'<i class="fa fa-bold"></i>',italic:'<i class="fa fa-italic"></i>',underline:'<i class="fa fa-underline"></i>',superscript:'<i class="fa fa-superscript"></i>',subscript:'<i class="fa fa-subscript"></i>',anchor:'<i class="fa fa-link"></i>',quote:'<i class="fa fa-quote-right"></i>',orderedlist:'<i class="fa fa-list-ol"></i>',unorderedlist:'<i class="fa fa-list-ul"></i>',pre:'<i class="fa fa-code fa-lg"></i>'}:"object"==typeof t&&(e=t),"object"==typeof e)for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i},toolbarTemplate:function(){var t,e,n=this.options.buttons,i='<ul id="medium-editor-toolbar-actions" class="medium-editor-toolbar-actions clearfix">';for(t=0;t<n.length;t+=1)e=this.buttonTemplate(n[t]),e&&(i+=e);return i+='</ul><div class="medium-editor-toolbar-form-anchor" id="medium-editor-toolbar-form-anchor">    <input type="text" value="" placeholder="'+this.options.anchorInputPlaceholder+'">    <a href="#">&times;</a></div>'},initToolbar:function(){return this.toolbar?this:(this.toolbar=this.createToolbar(),this.keepToolbarAlive=!1,this.anchorForm=this.toolbar.querySelector(".medium-editor-toolbar-form-anchor"),this.anchorInput=this.anchorForm.querySelector("input"),this.toolbarActions=this.toolbar.querySelector(".medium-editor-toolbar-actions"),this)},createToolbar:function(){var t=e.createElement("div");return t.id="medium-editor-toolbar-"+this.id,t.className="medium-editor-toolbar",t.innerHTML=this.toolbarTemplate(),e.getElementsByTagName("body")[0].appendChild(t),t},bindSelect:function(){var t,n=this,i="";for(this.checkSelectionWrapper=function(){clearTimeout(i),i=setTimeout(function(){n.checkSelection()},n.options.delay)},e.documentElement.addEventListener("mouseup",this.checkSelectionWrapper),t=0;t<this.elements.length;t+=1)this.elements[t].addEventListener("keyup",this.checkSelectionWrapper),this.elements[t].addEventListener("blur",this.checkSelectionWrapper);return this},checkSelection:function(){var e,n,i,r,s;if(this.keepToolbarAlive!==!0&&!this.options.disableToolbar)if(n=t.getSelection(),r=o(),r=r.replace(/<[\S]+><\/[\S]+>/gim,""),i=r.match(/<(p|h[0-6]|blockquote)>([\s\S]*?)<\/(p|h[0-6]|blockquote)>/g),i=i?i.length:0,""===n.toString().trim()||this.options.allowMultiParagraphSelection===!1&&i)this.hideToolbarActions();else if(s=this.getSelectionElement(),!s||s.getAttribute("data-disable-toolbar"))this.hideToolbarActions();else{for(this.selection=n,this.selectionRange=this.selection.getRangeAt(0),e=0;e<this.elements.length;e+=1)if(this.elements[e]===s)return this.setToolbarButtonStates().setToolbarPosition().showToolbarActions(),void 0;this.hideToolbarActions()}return this},getSelectionElement:function(){var e,n=t.getSelection(),i=n.getRangeAt(0),r=i.commonAncestorContainer,s=r.parentNode,o=function(t){var e=t;try{for(;!e.getAttribute("data-medium-element");)e=e.parentNode}catch(n){return!1}return e};try{e=r.getAttribute("data-medium-element")?r:o(s)}catch(a){e=o(s)}return e},setToolbarPosition:function(){var e=50,n=t.getSelection(),i=n.getRangeAt(0),r=i.getBoundingClientRect(),s=this.options.diffLeft-this.toolbar.offsetWidth/2,o=(r.left+r.right)/2,a=this.toolbar.offsetWidth/2;
return r.top<e?(this.toolbar.classList.add("medium-toolbar-arrow-over"),this.toolbar.classList.remove("medium-toolbar-arrow-under"),this.toolbar.style.top=e+r.bottom-this.options.diffTop+t.pageYOffset-this.toolbar.offsetHeight+"px"):(this.toolbar.classList.add("medium-toolbar-arrow-under"),this.toolbar.classList.remove("medium-toolbar-arrow-over"),this.toolbar.style.top=r.top+this.options.diffTop+t.pageYOffset-this.toolbar.offsetHeight+"px"),this.toolbar.style.left=a>o?s+a+"px":t.innerWidth-o<a?t.innerWidth+s-a+"px":s+o+"px",this},setToolbarButtonStates:function(){var t,e=this.toolbarActions.querySelectorAll("button");for(t=0;t<e.length;t+=1)e[t].classList.remove("medium-editor-button-active");return this.checkActiveButtons(),this},checkActiveButtons:function(){var t=this.selection.anchorNode;for(t.tagName||(t=this.selection.anchorNode.parentNode);void 0!==t.tagName&&-1===this.parentElements.indexOf(t.tagName);)this.activateButton(t.tagName.toLowerCase()),t=t.parentNode},activateButton:function(t){var e=this.toolbar.querySelector('[data-element="'+t+'"]');null!==e&&-1===e.className.indexOf("medium-editor-button-active")&&(e.className+=" medium-editor-button-active")},bindButtons:function(){var t,e=this.toolbar.querySelectorAll("button"),n=this,i=function(t){t.preventDefault(),t.stopPropagation(),void 0===n.selection&&n.checkSelection(),this.className.indexOf("medium-editor-button-active")>-1?this.classList.remove("medium-editor-button-active"):this.className+=" medium-editor-button-active",console.log(this.getAttribute("data-action")),n.execAction(this.getAttribute("data-action"),t)};for(t=0;t<e.length;t+=1)e[t].addEventListener("click",i);return this.setFirstAndLastItems(e),this},setFirstAndLastItems:function(t){return t[0].className+=" medium-editor-button-first",t[t.length-1].className+=" medium-editor-button-last",this},execAction:function(t,n){t.indexOf("append-")>-1?(this.execFormatBlock(t.replace("append-","")),this.setToolbarPosition(),this.setToolbarButtonStates()):"anchor"===t?this.triggerAnchorAction(n):"insertimg"===t?this.insertImageAction():(e.execCommand(t,!1,null),this.setToolbarPosition())},triggerAnchorAction:function(){return"a"===this.selection.anchorNode.parentNode.tagName.toLowerCase()?e.execCommand("unlink",!1,null):"block"===this.anchorForm.style.display?this.showToolbarActions():this.showAnchorForm(),this},execFormatBlock:function(t){var n=this.getSelectionData(this.selection.anchorNode);return"blockquote"===t&&n.el&&"blockquote"===n.el.parentNode.tagName.toLowerCase()?e.execCommand("outdent",!1,null):(n.tagName===t&&(t="p"),e.execCommand("formatBlock",!1,t))},getSelectionData:function(t){var e;for(t&&t.tagName&&(e=t.tagName.toLowerCase());t&&-1===this.parentElements.indexOf(e);)t=t.parentNode,t&&t.tagName&&(e=t.tagName.toLowerCase());return{el:t,tagName:e}},getFirstChild:function(t){for(var e=t.firstChild;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},bindElementToolbarEvents:function(t){var e=this;t.addEventListener("mouseup",function(){e.checkSelection()}),t.addEventListener("keyup",function(){e.checkSelection()})},hideToolbarActions:function(){this.keepToolbarAlive=!1,this.toolbar.classList.remove("medium-editor-toolbar-active")},showToolbarActions:function(){var t,e=this;this.anchorForm.style.display="none",this.toolbarActions.style.display="block",this.keepToolbarAlive=!1,clearTimeout(t),t=setTimeout(function(){e.toolbar.classList.contains("medium-editor-toolbar-active")||e.toolbar.classList.add("medium-editor-toolbar-active")},100)},showAnchorForm:function(){this.toolbarActions.style.display="none",this.savedSelection=i(),this.anchorForm.style.display="block",this.keepToolbarAlive=!0,this.anchorInput.focus(),this.anchorInput.value=""},bindAnchorForm:function(){var t=this.anchorForm.querySelector("a"),e=this;return this.anchorForm.addEventListener("click",function(t){t.stopPropagation()}),this.anchorInput.addEventListener("keyup",function(t){13===t.keyCode&&(t.preventDefault(),e.createLink(this))}),this.anchorInput.addEventListener("blur",function(){e.keepToolbarAlive=!1,e.checkSelection()}),t.addEventListener("click",function(t){t.preventDefault(),e.showToolbarActions(),r(e.savedSelection)}),this},setTargetBlank:function(){var t,e=s();if("a"===e.tagName.toLowerCase())e.target="_blank";else for(e=e.getElementsByTagName("a"),t=0;t<e.length;t+=1)e[t].target="_blank"},createLink:function(t){r(this.savedSelection),e.execCommand("createLink",!1,t.value),this.options.targetBlank&&this.setTargetBlank(),this.showToolbarActions(),t.value=""},bindWindowActions:function(){var e,n=this;return t.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){n.toolbar.classList.contains("medium-editor-toolbar-active")&&n.setToolbarPosition()},100)}),this},activate:function(){var t;if(!this.isActive){for(void 0!==this.toolbar&&(this.toolbar.style.display="block"),this.isActive=!0,t=0;t<this.elements.length;t+=1)this.elements[t].setAttribute("contentEditable",!0);this.bindSelect()}},deactivate:function(){var t;if(this.isActive)for(this.isActive=!1,void 0!==this.toolbar&&(this.toolbar.style.display="none"),e.documentElement.removeEventListener("mouseup",this.checkSelectionWrapper),t=0;t<this.elements.length;t+=1)this.elements[t].removeEventListener("keyup",this.checkSelectionWrapper),this.elements[t].removeEventListener("blur",this.checkSelectionWrapper),this.elements[t].removeAttribute("contentEditable")},bindPaste:function(){if(!this.options.forcePlainText)return this;var t,n=this,i=function(t){var i,r,s="";if(this.classList.remove("medium-editor-placeholder"),t.clipboardData&&t.clipboardData.getData)if(t.preventDefault(),n.options.disableReturn)e.execCommand("insertHTML",!1,t.clipboardData.getData("text/plain"));else{for(i=t.clipboardData.getData("text/plain").split(/[\r\n]/g),r=0;r<i.length;r+=1)""!==i[r]&&(s+="<p>"+i[r]+"</p>");e.execCommand("insertHTML",!1,s)}};for(t=0;t<this.elements.length;t+=1)this.elements[t].addEventListener("paste",i);return this},setPlaceholders:function(){var t,e=function(t){""===t.textContent.replace(/^\s+|\s+$/g,"")&&t.classList.add("medium-editor-placeholder")},n=function(t){this.classList.remove("medium-editor-placeholder"),"keypress"!==t.type&&e(this)};for(t=0;t<this.elements.length;t+=1)e(this.elements[t]),this.elements[t].addEventListener("blur",n),this.elements[t].addEventListener("keypress",n);return this}}}(window,document),function(t){MediumEditor.prototype.serialize=function(){var e,n,i,r,s,o,a,l,c={};for(e=0;e<this.elements.length;e+=1){for(i=""!==this.elements[e].id?this.elements[e].id:"element-"+e,r=t(this.elements[e]).clone(),s=t(".mediumInsert",r),n=0;n<s.length;n++)o=t(s[n]),a=t(".mediumInsert-placeholder",o).children(),0===a.length?o.remove():(o.removeAttr("contenteditable"),t("img[draggable]",o).removeAttr("draggable"),o.hasClass("small")&&a.addClass("small"),t(".mediumInsert-buttons",o).remove(),a.unwrap());l=r.html().trim(),c[i]={value:l}}return c},t.fn.mediumInsert=function(e){return t.fn.mediumInsert.settings=t.extend(t.fn.mediumInsert.settings,e),this.each(function(){t("p",this).bind("dragover drop",function(t){return t.preventDefault(),!1}),t.fn.mediumInsert.insert.init(t(this)),t.fn.mediumInsert.settings.images===!0&&t.fn.mediumInsert.images.init(),t.fn.mediumInsert.settings.maps===!0&&t.fn.mediumInsert.maps.init()})},t.fn.mediumInsert.settings={imagesUploadScript:"upload.php",images:!0,maps:!1},t.fn.mediumInsert.insert={init:function(t){this.$el=t,this.setPlaceholders()},deselect:function(){document.getSelection().removeAllRanges()},setPlaceholders:function(){var e=this,n=t.fn.mediumInsert.insert.$el,i="",r='<a class="mediumInsert-action action-images-add">Image</a>',i='<div class="mediumInsert" contenteditable="false"><div class="mediumInsert-buttons"><div class="mediumInsert-buttonsIcon">&rarr;</div>'+r+'</div><div class="mediumInsert-placeholder"></div></div>';n.keyup(function(){var e=0;n.children("p,h1,h2,h3").each(function(){t(this).next().hasClass("mediumInsert")===!1&&(t(this).after(i),t(this).next(".mediumInsert").attr("id","mediumInsert-"+e)),e++})}).keyup(),n.on("selectstart",".mediumInsert",function(t){return t.preventDefault(),!1}),n.on("blur",function(){var e,n=t(this).clone();n.find(".mediumInsert").remove(),e=n.html().replace(/^\s+|\s+$/g,""),(""===e||"<p><br></p>"===e)&&t(this).addClass("medium-editor-placeholder")}),n.on("click",".mediumInsert-buttons a.mediumInsert-buttonsShow",function(){{var n=t(this).siblings(".mediumInsert-buttonsOptions");t(this).parent().siblings(".mediumInsert-placeholder")}t(this).hasClass("active")&&(t(this).removeClass("active"),n.hide(),t("a",n).show()),e.deselect()}),n.on("mouseleave",".mediumInsert",function(){t("a.mediumInsert-buttonsShow",this).removeClass("active"),t(".mediumInsert-buttonsOptions",this).hide()}),n.on("click",".mediumInsert-buttons .mediumInsert-action",function(){var e=t(this).attr("class").split("action-")[1].split("-"),n=t(this).parents(".mediumInsert-buttons").siblings(".mediumInsert-placeholder");t.fn.mediumInsert[e[0]]&&t.fn.mediumInsert[e[0]][e[1]]&&t.fn.mediumInsert[e[0]][e[1]](n),t(this).parents(".mediumInsert").mouseleave()})}}}(jQuery),function(t){t.fn.mediumInsert.images={init:function(){this.$el=t.fn.mediumInsert.insert.$el,this.options=t.extend(this.default,t.fn.mediumInsert.settings.imagesPlugin),this.addPlaceholders(),this.setImageEvents()},"default":{formatData:function(t){var e=new FormData;return e.append("file",t),e}},addPlaceholders:function(){$images=this.$el.find(".mediumInsert-images"),$images.each(function(){t(this).wrap("<div class='mediumInsert-placeholder'></div>")})},add:function(e){var n,i,r=this;return n=t('<input type="file">').click(),n.change(function(){i=this.files,r.uploadFiles(e,i)}),t.fn.mediumInsert.insert.deselect(),n},updateProgressBar:function(e){var n,i=t(".progress:first",this.$el);e.lengthComputable&&(n=e.loaded/e.total*100|0,i.attr("value",n),i.html(n))},uploadCompleted:function(e){var n,i=t(".progress:first",this.$el);i.attr("value",100),i.html(100),i.before('<span class="mediumInsert-images"><img src="'+e.responseText+'" draggable="true" alt=""></span>'),n=i.siblings("img"),i.remove(),n.load(function(){n.parent().mouseleave().mouseenter()})},uploadFiles:function(e,n){for(var i={"image/png":!0,"image/jpeg":!0,"image/gif":!0},r=this,s=function(){var t=new XMLHttpRequest;return t.upload.onprogress=r.updateProgressBar,t},o=0;o<n.length;o++){var a=n[o];i[a.type]===!0&&(e.append('<progress class="progress" min="0" max="100" value="0">0</progress>'),t.ajax({type:"post",url:t.fn.mediumInsert.settings.imagesUploadScript,xhr:s,cache:!1,contentType:!1,complete:this.uploadCompleted,processData:!1,data:this.options.formatData(a)}))}},setImageEvents:function(){this.$el.on("click",".mediumInsert-images",function(){var e,n,i=t("img",this);return i.hasClass("has-focus")?(i.removeClass("has-focus"),t(".mediumInsert-tools",this).remove(),void 0):(i.addClass("has-focus"),i.length>0&&(t(this).parents(".mediumInsert").hasClass("small")?t(this).append('<a class="mediumInsert-tools mediumInsert-imageResizeBigger"></a>'):t(this).append('<a class="mediumInsert-tools mediumInsert-imageResizeSmaller"></a>'),e=i.position().top+parseInt(i.css("margin-top"),10),n=i.position().left+i.width()-30,t(".mediumInsert-imageResizeBigger, .mediumInsert-imageResizeSmaller",this).css({right:"auto",top:e,left:n+9})),void 0)}),this.$el.on("click",".mediumInsert-imageResizeSmaller",function(){t(this).parent().parent().parent().addClass("small"),t(this).parent().mouseleave().mouseleave(),t.fn.mediumInsert.insert.deselect()}),this.$el.on("click",".mediumInsert-imageResizeBigger",function(){t(this).parent().parent().parent().removeClass("small"),t(this).parent().mouseleave().mouseleave(),t.fn.mediumInsert.insert.deselect()}),this.$el.on("click",".mediumInsert-imageRemove",function(){0===t(this).parent().siblings().length&&t(this).parent().parent().parent().removeClass("small"),t(this).parent().remove(),t.fn.mediumInsert.insert.deselect()})},setDragAndDropEvents:function(){var e,n,i=this,r=!1,s=!1;t(document).on("dragover","body",function(){t(this).addClass("hover")}),t(document).on("dragend","body",function(){t(this).removeClass("hover")}),this.$el.on("dragover",".mediumInsert",function(){t(this).addClass("hover"),t(this).attr("contenteditable",!0)}),this.$el.on("dragleave",".mediumInsert",function(){t(this).removeClass("hover"),t(this).attr("contenteditable",!1)}),this.$el.on("dragstart",".mediumInsert .mediumInsert-images img",function(){e=t(this).parent().index(),n=t(this).parent().parent().parent().attr("id")}),this.$el.on("dragend",".mediumInsert .mediumInsert-images img",function(e){r===!0&&(0===t(e.originalEvent.target.parentNode).siblings().length&&t(e.originalEvent.target.parentNode).parent().parent().removeClass("small"),t(e.originalEvent.target.parentNode).mouseleave(),t(e.originalEvent.target.parentNode).remove(),r=!1,s=!1)}),this.$el.on("dragover",".mediumInsert .mediumInsert-images img",function(t){t.preventDefault()}),this.$el.on("drop",".mediumInsert .mediumInsert-images img",function(){var i,r,o;return n!==t(this).parent().parent().parent().attr("id")?(s=!1,e=n=null,void 0):(i=parseInt(e,10),r=t(this).parent().parent().find(".mediumInsert-images:nth-child("+(i+1)+")"),o=t(this).parent().index(),o>i?r.insertAfter(t(this).parent()):i>o&&r.insertBefore(t(this).parent()),r.mouseleave(),s=!0,e=null,void 0)}),this.$el.on("drop",".mediumInsert",function(e){var n;e.preventDefault(),t(this).removeClass("hover"),t("body").removeClass("hover"),t(this).attr("contenteditable",!1),n=e.originalEvent.dataTransfer.files,n.length>0?i.uploadFiles(t(".mediumInsert-placeholder",this),n):s===!0?s=!1:(t(".mediumInsert-placeholder",this).append('<span class="mediumInsert-images">'+e.originalEvent.dataTransfer.getData("text/html")+"</span>"),t("meta",this).remove(),r=!0)})}}}(jQuery),function(){}.call(this),function(){var t,e,n,i;$(document).ready(function(){return $(".rubric_item:checkbox").click(function(){return console.log("You clicked, haha"),n()}),n(),$(".review_text").keyup(function(){return e($(this).val())}),$("#other_review_types").click(function(){return alert("These review types are not yet open for this assignment."),!1})}),n=function(){var t,e,n,i,r;for(e=0,r=$(".rubric_item:checked"),n=0,i=r.length;i>n;n++)t=r[n],e+=+$(t).val();return $("#calculatedGrade").val(e)},i={concep:{regex:new RegExp("\\sconcep","gi"),score:5},descri:{regex:new RegExp("\\sdescri","gi"),score:10},I:{regex:new RegExp("\\sI\\s","gi"),score:3},observ:{regex:new RegExp("\\sobserv","gi"),score:2},overall:{regex:new RegExp("\\soverall","gi"),score:3},activit:{regex:new RegExp("\\sactivit","gi"),score:3},analy:{regex:new RegExp("\\sanaly","gi"),score:11},argument:{regex:new RegExp("\\sargument","gi"),score:1},author:{regex:new RegExp("\\sauthor","gi"),score:3},better:{regex:new RegExp("\\sbetter","gi"),score:2},but:{regex:new RegExp("\\sbut","gi"),score:3},cite:{regex:new RegExp("\\scite","gi"),score:1},cognit:{regex:new RegExp("\\scognit","gi"),score:4},connect:{regex:new RegExp("\\sconnect","gi"),score:1},content:{regex:new RegExp("\\scontent","gi"),score:1},contribute:{regex:new RegExp("\\scontribute","gi"),score:1},could:{regex:new RegExp("\\scould","gi"),score:2},deep:{regex:new RegExp("\\sdeep","gi"),score:1},depth:{regex:new RegExp("\\sdepth","gi"),score:1},detail:{regex:new RegExp("\\sdetail","gi"),score:3},elaborat:{regex:new RegExp("\\selaborat","gi"),score:1},enhance:{regex:new RegExp("\\senhance","gi"),score:1},enough:{regex:new RegExp("\\senough","gi"),score:1},event:{regex:new RegExp("\\sevent","gi"),score:3},eviden:{regex:new RegExp("\\seviden","gi"),score:1},experience:{regex:new RegExp("\\sexperience","gi"),score:1},explanat:{regex:new RegExp("\\sexplanat","gi"),score:2},grammat:{regex:new RegExp("\\sgrammat","gi"),score:-1,feedback:"Don't comment on grammar"},grammar:{regex:new RegExp("\\sgrammar","gi"),score:-1,feedback:"Don't comment on grammar"},lecture:{regex:new RegExp("\\slecture","gi"),score:2},like:{regex:new RegExp("\\slike","gi"),score:2},link:{regex:new RegExp("\\slink","gi"),score:1},little:{regex:new RegExp("\\slittle","gi"),score:2},more:{regex:new RegExp("\\smore","gi"),score:3},observa:{regex:new RegExp("\\sobserva","gi"),score:1},opportunit:{regex:new RegExp("\\sopportunit","gi"),score:1},otherwise:{regex:new RegExp("\\sotherwise","gi"),score:2},phenomen:{regex:new RegExp("\\sphenomen","gi"),score:1},process:{regex:new RegExp("\\sprocess","gi"),score:2},read:{regex:new RegExp("\\sread","gi"),score:6},referenc:{regex:new RegExp("\\sreferenc","gi"),score:4},relate:{regex:new RegExp("\\srelate","gi"),score:1},separat:{regex:new RegExp("\\sseparat","gi"),score:2},show:{regex:new RegExp("\\sshow","gi"),score:2},specif:{regex:new RegExp("\\sspecif","gi"),score:2},structur:{regex:new RegExp("\\sstructur","gi"),score:1},style:{regex:new RegExp("\\sstyle","gi"),score:-1},task:{regex:new RegExp("\\stask","gi"),score:3},text:{regex:new RegExp("\\stext","gi"),score:5},use:{regex:new RegExp("\\suse","gi"),score:2},would:{regex:new RegExp("\\swould","gi"),score:4},writ:{regex:new RegExp("\\swrit","gi"),score:5},realHackersReadSourceCode:{regex:new RegExp("realHackersReadSourceCode"),score:0,feedback:"Howdy hacker! It seems like you've found our review-writing advice columns.\nWant to help us make education better? Drop us a line at talkabout [at] cs.stanford.edu and say how you found us!"}},e=function(t){var e,n,r,s,o,a,l;e=0,r=[];for(a in i)o=i[a],n=((null!=t?t.match(o.regex):void 0)||[]).length,e+=n*o.score,n>0&&null!=o.feedback&&r.push(o.feedback),n>40&&r.push("Please don't try to game the system.");return s=Math.floor(Math.pow((t.match(/\s+/g)||[]).length,.8)),10>s&&r.push("Say more..."),.5>(e-s)/(1+s)&&s>8&&r.push("Quick check: Is your feedback actionable? Are you expressing yourself succinctly?"),l=e+s,console.log("Content score: "+e+", lengthScore: "+s+", totalScore: "+l+" feedback: "+r),$("#review_tips").html(r.join(" ")),{totalScore:l,feedback:r,lengthScore:s}},t=function(){var t,e,n;n="";for(e in i)t=i[e],n+=""+e+"... : "+t.score+"\n";return console.log(n)}}.call(this),function(){var t;t=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,n,i,r,s,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),s=t.childNodes,o=[],i=0,r=s.length;r>i;i++)n=s[i],o.push(this.add_option(n,e,t.disabled));return o},t.prototype.add_option=function(t,e,n){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:n===!0?n:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t}(),t.select_to_array=function(e){var n,i,r,s,o;for(i=new t,o=e.childNodes,r=0,s=o.length;s>r;r++)n=o[r],i.add_node(n);return i.parsed},this.SelectParser=t}.call(this),function(){var t,e;e=this,t=function(){function t(t,e){this.form_field=t,this.options=null!=e?e:{},this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},t.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options":this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option",this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.result_add_option=function(t){var e,n;return t.disabled?(t.dom_id=this.container_id+"_o_"+t.array_index,e=["disabled"],n=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+n+">"+t.html+"</li>"):(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),n=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+n+">"+t.html+"</li>")},t.prototype.results_update_field=function(){return this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.keyup_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.generate_field_id=function(){var t;return t=this.generate_random_id(),this.form_field.id=t,t},t.prototype.generate_random_char=function(){var t,e,n;return t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=Math.floor(Math.random()*t.length),e=t.substring(n,n+1)},t}(),e.AbstractChosen=t}.call(this),function(){var t,e,n,i,r={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=this,t=jQuery,t.fn.extend({chosen:function(n){var i,r,s;return s=navigator.userAgent.toLowerCase(),r=/(msie) ([\w.]+)/.exec(s)||[],i={name:r[1]||"",version:r[2]||"0"},"msie"===i.name&&("6.0"===i.version||"7.0"===i.version&&7===document.documentMode)?this:this.each(function(){var i;return i=t(this),i.hasClass("chzn-done")?void 0:i.data("chosen",new e(this,n))})}}),e=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return s(r,e),r.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_value=this.form_field_jq.val(),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},r.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},r.prototype.set_up_html=function(){var e,i,r,s,o,a;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",e=["chzn-container"],e.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chzn-rtl"),this.f_width=this.form_field_jq.outerWidth(),r={id:this.container_id,"class":e.join(" "),style:"width: "+this.f_width+"px;",title:this.form_field.title},i=t("<div />",r),this.is_multiple?i.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):i.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(i),this.container=t("#"+this.container_id),this.dropdown=this.container.find("div.chzn-drop").first(),s=this.container.height(),o=this.f_width-n(this.dropdown),this.dropdown.css({width:o+"px",top:s+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),a=o-n(this.search_container)-n(this.search_field),this.search_field.css({width:a+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},r.prototype.register_observers=function(){var t=this;return this.container.mousedown(function(e){return t.container_mousedown(e)}),this.container.mouseup(function(e){return t.container_mouseup(e)}),this.container.mouseenter(function(e){return t.mouse_enter(e)}),this.container.mouseleave(function(e){return t.mouse_leave(e)}),this.search_results.mouseup(function(e){return t.search_results_mouseup(e)}),this.search_results.mouseover(function(e){return t.search_results_mouseover(e)}),this.search_results.mouseout(function(e){return t.search_results_mouseout(e)}),this.form_field_jq.bind("liszt:updated",function(e){return t.results_update_field(e)}),this.form_field_jq.bind("liszt:activate",function(e){return t.activate_field(e)}),this.form_field_jq.bind("liszt:open",function(e){return t.container_mousedown(e)}),this.search_field.blur(function(e){return t.input_blur(e)}),this.search_field.keyup(function(e){return t.keyup_checker(e)}),this.search_field.keydown(function(e){return t.keydown_checker(e)}),this.search_field.focus(function(e){return t.input_focus(e)}),this.is_multiple?this.search_choices.click(function(e){return t.choices_click(e)}):this.container.click(function(t){return t.preventDefault()})},r.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},r.prototype.container_mousedown=function(e){var n;return this.is_disabled?void 0:(n=null!=e?t(e.target).hasClass("search-choice-close"):!1,e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),this.pending_destroy_click||n?this.pending_destroy_click=!1:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chzn-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).click(this.click_test_action),this.results_show()),this.activate_field()))},r.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},r.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},r.prototype.close_field=function(){return t(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},r.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},r.prototype.test_active_click=function(e){return t(e.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},r.prototype.results_build=function(){var t,e,n,r,s;for(this.parsing=!0,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),t="",s=this.results_data,n=0,r=s.length;r>n;n++)e=s[n],e.group?t+=this.result_add_group(e):e.empty||(t+=this.result_add_option(e),e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(e.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(t),this.parsing=!1},r.prototype.result_add_group=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+t("<div />").text(e.label).html()+"</li>")},r.prototype.result_do_highlight=function(t){var e,n,i,r,s;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.hasClass("disabled")||this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),s=this.search_results.scrollTop(),r=i+s,n=this.result_highlight.position().top+this.search_results.scrollTop(),e=n+this.result_highlight.outerHeight(),e>=r)return this.search_results.scrollTop(e-i>0?e-i:0);if(s>n)return this.search_results.scrollTop(n)}},r.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},r.prototype.results_show=function(){var e;if(this.is_multiple){if(this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1}else this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected);if(e=this.is_multiple?this.container.height():this.container.height()-1,this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),t(".hiding").length){var n=this.container.offset(),i=parseInt(t(window).scrollTop(),10);i=0>i?0:i;var r=n.top+e-i;this.dropdown.css({top:r+"px",left:n.left+"px"});var s=this;t(window).bind("scroll",function(){if(s.results_showing){var n=s.container.offset(),i=parseInt(t(window).scrollTop(),10);i=0>i?0:i;var r=n.top+e-i;s.dropdown.css({top:r+"px",left:n.left+"px"})}})}else this.dropdown.css({top:e+"px",left:0});return this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},r.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},r.prototype.set_tab_index=function(){var t;
return this.form_field_jq.attr("tabindex")?(t=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",t)):void 0},r.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},r.prototype.search_results_mouseup=function(e){var n;return n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),n.length?(this.result_highlight=n,this.result_select(e),this.search_field.focus()):void 0},r.prototype.search_results_mouseover=function(e){var n;return n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),n?this.result_do_highlight(n):void 0},r.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},r.prototype.choices_click=function(e){return e.preventDefault(),!this.active_field||t(e.target).hasClass("search-choice")||this.results_showing?void 0:this.results_show()},r.prototype.choice_build=function(e){var n,i,r,s=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(n=this.container_id+"_c_"+e.array_index,this.choices+=1,i=e.disabled?'<li class="search-choice search-choice-disabled" id="'+n+'"><span>'+e.html+"</span></li>":'<li class="search-choice" id="'+n+'"><span>'+e.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+e.array_index+'"></a></li>',this.search_container.before(i),r=t("#"+n).find("a").first(),r.click(function(t){return s.choice_destroy_link_click(t)}))},r.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),this.is_disabled?e.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(t(e.target)))},r.prototype.choice_destroy=function(t){return this.result_deselect(t.attr("rel"))?(this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},r.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},r.prototype.results_reset_cleanup=function(){return this.current_value=this.form_field_jq.val(),this.selected_item.find("abbr").remove()},r.prototype.result_select=function(t){var e,n,i,r;return this.result_highlight?(e=this.result_highlight,n=e.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(e):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=e,this.selected_item.removeClass("chzn-default")),e.addClass("result-selected"),r=n.substr(n.lastIndexOf("_")+1),i=this.results_data[r],this.form_field.options[i.options_index].disabled?!1:(i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.is_multiple?this.choice_build(i):(this.selected_item.find("span").first().text(i.text),this.allow_single_deselect&&this.single_deselect_control_build()),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_value=this.form_field_jq.val(),this.search_field_scale())):void 0},r.prototype.result_activate=function(t){return t.addClass("active-result")},r.prototype.result_deactivate=function(t){return t.removeClass("active-result")},r.prototype.result_deselect=function(e){var n,i;return i=this.results_data[e],this.form_field.options[i.options_index].disabled?!1:(i.selected=!1,this.form_field.options[i.options_index].selected=!1,n=t("#"+this.container_id+"_o_"+e),n.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[i.options_index].value}),this.search_field_scale(),!0)},r.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},r.prototype.winnow_results=function(){var e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g,v,y;for(this.no_results_clear(),c=0,u=this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html(),o=this.search_contains?"":"^",s=new RegExp(o+u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=new RegExp(u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),y=this.results_data,f=0,g=y.length;g>f;f++)if(n=y[f],!n.empty)if(n.group)t("#"+n.dom_id).css("display","none");else if(!this.is_multiple||!n.selected){if(e=!1,l=n.dom_id,a=t("#"+l),s.test(n.html))e=!0,c+=1;else if(this.enable_split_word_search&&(n.html.indexOf(" ")>=0||0===n.html.indexOf("["))&&(r=n.html.replace(/\[|\]/g,"").split(" "),r.length))for(m=0,v=r.length;v>m;m++)i=r[m],s.test(i)&&(e=!0,c+=1);e?(u.length?(h=n.html.search(p),d=n.html.substr(0,h+u.length)+"</em>"+n.html.substr(h+u.length),d=d.substr(0,h)+"<em>"+d.substr(h)):d=n.html,a.html(d),this.result_activate(a),null!=n.group_array_index&&t("#"+this.results_data[n.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return 1>c&&u.length?this.no_results(u):this.winnow_results_set_highlight()},r.prototype.winnow_results_clear=function(){var e,n,i,r,s;for(this.search_field.val(""),n=this.search_results.find("li"),s=[],i=0,r=n.length;r>i;i++)e=n[i],e=t(e),e.hasClass("group-result")?s.push(e.css("display","auto")):this.is_multiple&&e.hasClass("result-selected")?s.push(void 0):s.push(this.result_activate(e));return s},r.prototype.winnow_results_set_highlight=function(){var t,e;return this.result_highlight||(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null==t)?void 0:this.result_do_highlight(t)},r.prototype.no_results=function(e){var n;return n=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(e),this.search_results.append(n)},r.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},r.prototype.keydown_arrow=function(){var e,n;return this.result_highlight?this.results_showing&&(n=this.result_highlight.nextAll("li.active-result").first(),n&&this.result_do_highlight(n)):(e=this.search_results.find("li.active-result").first(),e&&this.result_do_highlight(t(e))),this.results_showing?void 0:this.results_show()},r.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},r.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},r.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},r.prototype.keydown_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},r.prototype.search_field_scale=function(){var e,n,i,r,s,o,a,l,c;if(this.is_multiple){for(i=0,a=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=o.length;c>l;l++)r=o[l],s+=r+":"+this.search_field.css(r)+";";return n=t("<div />",{style:s}),n.text(this.search_field.val()),t("body").append(n),a=n.width()+25,n.remove(),a>this.f_width-10&&(a=this.f_width-10),this.search_field.css({width:a+"px"}),e=this.container.height(),this.dropdown.css({top:e+"px"})}},r.prototype.generate_random_id=function(){var e;for(e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();t("#"+e).length>0;)e+=this.generate_random_char();return e},r}(AbstractChosen),i.Chosen=e,n=function(t){var e;return e=t.outerWidth()-t.width()},i.get_side_border_padding=n}.call(this),function(t){"use strict";var e=t.jCarousel={};e.version="0.3.0-beta.2";var n=/^([+\-]=)?(.+)$/;e.parseTarget=function(t){var e=!1,i="object"!=typeof t?n.exec(t):null;return i?(t=parseInt(i[2],10)||0,i[1]&&(e=!0,"-="===i[1]&&(t*=-1))):"object"!=typeof t&&(t=parseInt(t,10)||0),{target:t,relative:e}},e.detectCarousel=function(t){for(var e;t.size()>0;){if(e=t.filter("[data-jcarousel]"),e.size()>0)return e;if(e=t.find("[data-jcarousel]"),e.size()>0)return e;t=t.parent()}return null},e.base=function(n){return{version:e.version,_options:{},_element:null,_carousel:null,_init:t.noop,_create:t.noop,_destroy:t.noop,_reload:t.noop,create:function(){return this._element.attr("data-"+n.toLowerCase(),!0).data(n,this),!1===this._trigger("create")?this:(this._create(),this._trigger("createend"),this)},destroy:function(){return!1===this._trigger("destroy")?this:(this._destroy(),this._trigger("destroyend"),this._element.removeData(n).removeAttr("data-"+n.toLowerCase()),this)},reload:function(t){return!1===this._trigger("reload")?this:(t&&this.options(t),this._reload(),this._trigger("reloadend"),this)},element:function(){return this._element},options:function(e,n){if(0===arguments.length)return t.extend({},this._options);if("string"==typeof e){if("undefined"==typeof n)return"undefined"==typeof this._options[e]?null:this._options[e];this._options[e]=n}else this._options=t.extend({},this._options,e);return this},carousel:function(){return this._carousel||(this._carousel=e.detectCarousel(this.options("carousel")||this._element),this._carousel||t.error('Could not detect carousel for plugin "'+n+'"')),this._carousel},_trigger:function(e,i,r){var s=t.Event((e+"."+n).toLowerCase());return(i||this._element).trigger(s,[this].concat(r||[])),!s.isDefaultPrevented()}}},e.plugin=function(n,i){var r=t[n]=function(e,n){this._element=t(e),this.options(n),this._init(),this.create()};return r.fn=r.prototype=t.extend({},e.base(n),i),t.fn[n]=function(e){var i=Array.prototype.slice.call(arguments,1),s=this;return"string"==typeof e?this.each(function(){var r=t(this).data(n);if(!r)return t.error("Cannot call methods on "+n+' prior to initialization; attempted to call method "'+e+'"');if(!t.isFunction(r[e])||"_"===e.charAt(0))return t.error('No such method "'+e+'" for '+n+" instance");var o=r[e].apply(r,i);return o!==r&&"undefined"!=typeof o?(s=o,!1):void 0}):this.each(function(){var i=t(this).data(n);i instanceof r?i.reload(e):new r(this,e)}),s},r}}(jQuery),function(t,e){"use strict";var n=function(t){return parseFloat(t)||0};t.jCarousel.plugin("jcarousel",{animating:!1,tail:0,inTail:!1,resizeTimer:null,lt:null,vertical:!1,rtl:!1,circular:!1,underflow:!1,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,wrap:null,vertical:null,rtl:null,center:!1},_list:null,_items:null,_target:null,_first:null,_last:null,_visible:null,_fullyvisible:null,_init:function(){var e=this;return this.onWindowResize=function(){e.resizeTimer&&clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){e.reload()},100)},this.onAnimationComplete=function(n){e.animating=!1;var i=e.list().find("[data-jcarousel-clone]");i.size()>0&&(i.remove(),e._reload()),e._trigger("animateend"),t.isFunction(n)&&n.call(e,!0)},this},_create:function(){this._reload(),t(e).bind("resize.jcarousel",this.onWindowResize)},_destroy:function(){t(e).unbind("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical"),null==this.vertical&&(this.vertical=this.list().height()>this.list().width()),this.rtl=this.options("rtl"),null==this.rtl&&(this.rtl=function(e){if("rtl"===(""+e.attr("dir")).toLowerCase())return!0;var n=!1;return e.parents("[dir]").each(function(){return/rtl/i.test(t(this).attr("dir"))?(n=!0,!1):void 0}),n}(this._element)),this.lt=this.vertical?"top":"left",this._items=null;var e=this._target&&this.index(this._target)>=0?this._target:this.closest();return this.circular="circular"===this.options("wrap"),this.underflow=!1,e.size()>0?(this._prepare(e),this.list().find("[data-jcarousel-clone]").remove(),this._items=null,this.underflow=this._fullyvisible.size()>=this.items().size(),this.circular=this.circular&&!this.underflow,this.list().css(this.lt,this._position(e)+"px")):this.list().css({left:0,top:0}),this},list:function(){if(null===this._list){var e=this.options("list");this._list=t.isFunction(e)?e.call(this):this._element.find(e)}return this._list},items:function(){if(null===this._items){var e=this.options("items");this._items=(t.isFunction(e)?e.call(this):this.list().find(e)).not("[data-jcarousel-clone]")}return this._items},index:function(t){return this.items().index(t)},closest:function(){var e,i=this,r=this.list().position()[this.lt],s=t(),o=!1,a=this.vertical?"bottom":this.rtl?"left":"right";return this.rtl&&!this.vertical&&(r=-1*(r+this.list().width()-this.clipping())),this.items().each(function(){if(s=t(this),o)return!1;var l=i.dimension(s);if(r+=l,r>=0){if(e=l-n(s.css("margin-"+a)),!(Math.abs(r)-l+e/2<=0))return!1;o=!0}}),s},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(!1===this._trigger("hasnext"))return!0;var t=this.options("wrap"),e=this.items().size()-1;return e>=0&&(t&&"first"!==t||this.index(this._last)<e||this.tail&&!this.inTail)?!0:!1},hasPrev:function(){if(!1===this._trigger("hasprev"))return!0;var t=this.options("wrap");return this.items().size()>0&&(t&&"last"!==t||this.index(this._first)>0||this.tail&&this.inTail)?!0:!1},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(t){return t["outer"+(this.vertical?"Height":"Width")](!0)},scroll:function(e,i,r){if(this.animating)return this;if(!1===this._trigger("scroll",null,[e,i]))return this;t.isFunction(i)&&(r=i,i=!0);var s=t.jCarousel.parseTarget(e);if(s.relative){var o,a,l,c,u,h,d=this.items().size()-1,p=Math.abs(s.target),f=this.options("wrap");if(s.target>0){var m=this.index(this._last);if(m>=d&&this.tail)this.inTail?"both"===f||"last"===f?this._scroll(0,i,r):this._scroll(Math.min(this.index(this._target)+p,d),i,r):this._scrollTail(i,r);else if(o=this.index(this._target),this.underflow&&e===d&&("circular"===f||"both"===f||"last"===f)||!this.underflow&&m===d&&("both"===f||"last"===f))this._scroll(0,i,r);else if(l=o+p,this.circular&&l>d){for(h=d,u=this.items().get(-1);h++<l;)u=this.items().eq(0),u.after(u.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(u),this._items=null;this._scroll(u,i,r)}else this._scroll(Math.min(l,d),i,r)}else if(this.inTail)this._scroll(Math.max(this.index(this._first)-p+1,0),i,r);else if(a=this.index(this._first),o=this.index(this._target),c=this.underflow?o:a,l=c-p,0>=c&&(this.underflow&&"circular"===f||"both"===f||"first"===f))this._scroll(d,i,r);else if(this.circular&&0>l){for(h=l,u=this.items().get(0);h++<0;){u=this.items().eq(-1),u.after(u.clone(!0).attr("data-jcarousel-clone",!0)),this.list().prepend(u),this._items=null;var g=n(this.list().css(this.lt)),v=this.dimension(u);this.rtl&&!this.vertical?g+=v:g-=v,this.list().css(this.lt,g+"px")}this._scroll(u,i,r)}else this._scroll(Math.max(l,0),i,r)}else this._scroll(s.target,i,r);return this._trigger("scrollend"),this},_scroll:function(e,i,r){if(this.animating)return t.isFunction(r)&&r.call(this,!1),this;if("object"!=typeof e?e=this.items().eq(e):"undefined"==typeof e.jquery&&(e=t(e)),0===e.size())return t.isFunction(r)&&r.call(this,!1),this;this.inTail=!1,this._prepare(e);var s=this._position(e),o=n(this.list().css(this.lt));if(s===o)return t.isFunction(r)&&r.call(this,!1),this;var a={};return a[this.lt]=s+"px",this._animate(a,i,r),this},_scrollTail:function(e,n){if(this.animating||!this.tail)return t.isFunction(n)&&n.call(this,!1),this;var i=this.list().position()[this.lt];this.rtl?i+=this.tail:i-=this.tail,this.inTail=!0;var r={};return r[this.lt]=i+"px",this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())}),this._animate(r,e,n),this},_animate:function(e,n,i){if(!1===this._trigger("animate"))return t.isFunction(i)&&i.call(this,!1),this;this.animating=!0;var r=this.options("animation");if(r&&n!==!1){var s=this;if(t.isFunction(r))r.call(this,e,function(){s.onAnimationComplete(i)});else{var o="object"==typeof r?t.extend({},r):{duration:r},a=o.complete;o.complete=function(){s.onAnimationComplete(i),t.isFunction(a)&&a.call(this)},this.list().animate(e,o)}}else this.list().css(e),this.onAnimationComplete(i);return this},_prepare:function(e){var i,r,s=this.index(e),o=s,a=this.dimension(e),l=this.clipping(),c=this.vertical?"bottom":this.rtl?"left":"right",u={target:e,first:e,last:e,visible:e,fullyvisible:l>=a?e:t()};if(this.options("center")&&(a/=2,l/=2),l>a)for(;;){if(i=this.items().eq(++o),0===i.size()){if(!this.circular)break;if(i=this.items().eq(0),e.get(0)===i.get(0))break;i.after(i.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(i),this._items=null}if(a+=this.dimension(i),u.last=i,u.visible=u.visible.add(i),r=n(i.css("margin-"+c)),l>=a-r&&(u.fullyvisible=u.fullyvisible.add(i)),a>=l)break}if(!this.circular&&l>a)for(o=s;!(--o<0)&&(i=this.items().eq(o),0!==i.size())&&(a+=this.dimension(i),u.first=i,u.visible=u.visible.add(i),r=n(i.css("margin-"+c)),l>=a-r&&(u.fullyvisible=u.fullyvisible.add(i)),!(a>=l)););return this._update(u),this.tail=0,"circular"!==this.options("wrap")&&"custom"!==this.options("wrap")&&this.index(u.last)===this.items().size()-1&&(a-=n(u.last.css("margin-"+c)),a>l&&(this.tail=a-l)),this},_position:function(t){var e=this._first,n=e.position()[this.lt];return this.rtl&&!this.vertical&&(n-=this.clipping()-this.dimension(e)),this.options("center")&&(n-=this.clipping()/2-this.dimension(e)/2),(this.index(t)>this.index(e)||this.inTail)&&this.tail?(n=this.rtl?n-this.tail:n+this.tail,this.inTail=!0):this.inTail=!1,-n},_update:function(e){var n,i=this,r={target:this._target||t(),first:this._first||t(),last:this._last||t(),visible:this._visible||t(),fullyvisible:this._fullyvisible||t()},s=this.index(e.first||r.first)<this.index(r.first),o=function(n){var o=[],a=[];e[n].each(function(){r[n].index(this)<0&&o.push(this)}),r[n].each(function(){e[n].index(this)<0&&a.push(this)}),s?o=o.reverse():a=a.reverse(),i._trigger("item"+n+"in",t(o)),i._trigger("item"+n+"out",t(a)),i["_"+n]=e[n]};for(n in e)o(n);return this}})}(jQuery,window),function(t){"use strict";t.jcarousel.fn.scrollIntoView=function(e,n,i){var r,s=t.jCarousel.parseTarget(e),o=this.index(this._fullyvisible.first()),a=this.index(this._fullyvisible.last());if(r=s.relative?s.target<0?Math.max(0,o+s.target):a+s.target:"object"!=typeof s.target?s.target:this.index(s.target),o>r)return this.scroll(r,n,i);if(r>=o&&a>=r)return t.isFunction(i)&&i.call(this,!1),this;for(var l,c=this.items(),u=this.clipping(),h=this.vertical?"bottom":this.rtl?"left":"right",d=0;l=c.eq(r),0!==l.size();){if(d+=this.dimension(l),d>=u){var p=parseFloat(l.css("margin-"+h))||0;d-p!==u&&r++;break}if(0>=r)break;r--}return this.scroll(r,n,i)}}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("createend.jcarousel",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this),this.onEvent=t.proxy(function(e){e.preventDefault();var n=this.options("method");t.isFunction(n)?n.call(this):this.carousel().jcarousel(this.options("method"),this.options("target"))},this)},_create:function(){this.carousel().one("destroy.jcarousel",this.onDestroy).bind("reloadend.jcarousel scrollend.jcarousel",this.onReload),this._element.bind(this.options("event")+".jcarouselcontrol",this.onEvent),this._reload()},_destroy:function(){this._element.unbind(".jcarouselcontrol",this.onEvent),this.carousel().unbind("destroy.jcarousel",this.onDestroy).unbind("reloadend.jcarousel scrollend.jcarousel",this.onReload)},_reload:function(){var e,n=t.jCarousel.parseTarget(this.options("target")),i=this.carousel();if(n.relative)e=i.jcarousel(n.target>0?"hasNext":"hasPrev");else{var r="object"!=typeof n.target?i.jcarousel("items").eq(n.target):n.target;e=i.jcarousel("target").index(r)>=0}return this._active!==e&&(this._trigger(e?"active":"inactive"),this._active=e),this}})}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(t){return'<a href="#'+t+'">'+t+"</a>"}},_pages:{},_items:{},_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("createend.jcarousel",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this)},_create:function(){this.carousel().one("destroy.jcarousel",this.onDestroy).bind("reloadend.jcarousel",this.onReload),this._reload()},_destroy:function(){t.fn.jcarouselControl&&t.each(this._items,function(t,e){e.jcarouselControl("destroy")}),this._element.empty(),this.carousel().unbind("destroy.jcarousel",this.onDestroy).unbind("reloadend.jcarousel",this.onReload)},_reload:function(){var e=this.options("perPage");if(this._pages={},this._items={},t.isFunction(e)&&(e=e.call(this)),null==e)this._pages=this._calculatePages();else for(var n,i=parseInt(e,10)||0,r=this.carousel().jcarousel("items"),s=1,o=0;n=r.eq(o++),0!==n.size();)this._pages[s]=this._pages[s]?this._pages[s].add(n):n,o%i===0&&s++;var a=this,l=this._element.empty(),c=this.options("item");t.each(this._pages,function(e,n){var i=a._items[e]=t(c.call(a,e,n));l.append(i),t.fn.jcarouselControl&&i.jcarouselControl({carousel:a.carousel(),target:n.eq(0)})})},items:function(){return this._items},_calculatePages:function(){for(var t,e=this.carousel().data("jcarousel"),n=e.items(),i=e.clipping(),r=0,s=0,o=1,a={};t=n.eq(s++),0!==t.size();)a[o]=a[o]?a[o].add(t):t,r+=e.dimension(t),r>=i&&(o++,r=0);return a}})}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3e3,autostart:!0},_timer:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("createend.jcarousel",t.proxy(this._create,this))},this),this.onAnimateEnd=t.proxy(this.start,this)},_create:function(){this.carousel().one("destroy.jcarousel",this.onDestroy),this.options("autostart")&&this.start()},_destroy:function(){this.stop(),this.carousel().unbind("destroy.jcarousel",this.onDestroy)},start:function(){return this.stop(),this.carousel().one("animateend.jcarousel",this.onAnimateEnd),this._timer=setTimeout(t.proxy(function(){this.carousel().jcarousel("scroll",this.options("target"))},this),this.options("interval")),this},stop:function(){return this._timer&&(this._timer=clearTimeout(this._timer)),this.carousel().unbind("animateend.jcarousel",this.onAnimateEnd),this}})}(jQuery),function(t){function e(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function n(t,e,n){return e<t.length?t:Array(e-t.length+1).join(n||" ")+t}function i(t,e,n,i,r,s){return e&&n?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><ul><li'+(s?' class="collapse in"':"")+'><div class="datepicker">'+p.template+'</div></li><li class="picker-switch accordion-toggle"><a><i class="'+t+'"></i></a></li><li'+(s?' class="collapse"':"")+'><div class="timepicker">'+f.getTemplate(i,r)+"</div></li></ul></div>":n?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+f.getTemplate(i,r)+"</div></div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+p.template+"</div></div>"}function r(){return new Date(Date.UTC.apply(Date,arguments))}var s=(void 0!=window.orientation,function(t,e){this.id=o++,this.init(t,e)});s.prototype={constructor:s,init:function(e,n){var r;if(!n.pickTime&&!n.pickDate)throw new Error("Must choose at least one picker");if(this.options=n,this.$element=t(e),this.language=n.language in a?n.language:"en",this.pickDate=n.pickDate,this.pickTime=n.pickTime,this.isInput=this.$element.is("input"),this.component=!1,(this.$element.find(".input-append")||this.$element.find(".input-prepend"))&&(this.component=this.$element.find(".add-on")),this.format=n.format,this.format||(this.format=this.isInput?this.$element.data("format"):this.$element.find("input").data("format"),this.format||(this.format="MM/dd/yyyy")),this._compileFormat(),this.component&&(r=this.component.find("i")),this.pickTime&&(r&&r.length&&(this.timeIcon=r.data("time-icon")),this.timeIcon||(this.timeIcon="icon-time"),r.addClass(this.timeIcon)),this.pickDate&&(r&&r.length&&(this.dateIcon=r.data("date-icon")),this.dateIcon||(this.dateIcon="icon-calendar"),r.removeClass(this.timeIcon),r.addClass(this.dateIcon)),this.widget=t(i(this.timeIcon,n.pickDate,n.pickTime,n.pick12HourFormat,n.pickSeconds,n.collapse)).appendTo("body"),this.minViewMode=n.minViewMode||this.$element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=n.viewMode||this.$element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=n.weekStart||this.$element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.setStartDate(n.startDate||this.$element.data("date-startdate")),this.setEndDate(n.endDate||this.$element.data("date-enddate")),this.fillDow(),this.fillMonths(),this.fillHours(),this.fillMinutes(),this.fillSeconds(),this.update(),this.showMode(),this._attachDatePickerEvents()},show:function(t){this.widget.show(),this.height=this.component?this.component.outerHeight():this.$element.outerHeight(),this.place(),this.$element.trigger({type:"show",date:this._date}),this._attachDatePickerGlobalEvents(),t&&(t.stopPropagation(),t.preventDefault())},disable:function(){this.$element.find("input").prop("disabled",!0),this._detachDatePickerEvents()},enable:function(){this.$element.find("input").prop("disabled",!1),this._attachDatePickerEvents()},hide:function(){for(var t=this.widget.find(".collapse"),e=0;e<t.length;e++){var n=t.eq(e).data("collapse");if(n&&n.transitioning)return}this.widget.hide(),this.viewMode=this.startViewMode,this.showMode(),this.set(),this.$element.trigger({type:"hide",date:this._date}),this._detachDatePickerGlobalEvents()},set:function(){var t="";if(this._unset||(t=this.formatDate(this._date)),this.isInput)this.$element.val(t),this._resetMaskPos(this.$element);else{if(this.component){var e=this.$element.find("input");e.val(t),this._resetMaskPos(e)}this.$element.data("date",t)}},setValue:function(t){this._unset=t?!1:!0,"string"==typeof t?this._date=this.parseDate(t):t&&(this._date=new Date(t)),this.set(),this.viewDate=r(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},getDate:function(){return this._unset?null:new Date(this._date.valueOf())},setDate:function(t){t?this.setValue(t.valueOf()):this.setValue(null)},setStartDate:function(t){t instanceof Date?this.startDate=t:"string"==typeof t?(this.startDate=new r(t),this.startDate.getUTCFullYear()||(this.startDate=-1/0)):this.startDate=-1/0,this.viewDate&&this.update()},setEndDate:function(t){t instanceof Date?this.endDate=t:"string"==typeof t?(this.endDate=new r(t),this.endDate.getUTCFullYear()||(this.endDate=1/0)):this.endDate=1/0,this.viewDate&&this.update()},getLocalDate:function(){if(this._unset)return null;var t=this._date;return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())},setLocalDate:function(t){t?this.setValue(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())):this.setValue(null)},place:function(){var e="absolute",n=this.component?this.component.offset():this.$element.offset();this.width=this.component?this.component.outerWidth():this.$element.outerWidth(),n.top=n.top+this.height;var i=t(window);void 0!=this.options.width&&this.widget.width(this.options.width),"left"==this.options.orientation&&(this.widget.addClass("left-oriented"),n.left=n.left-this.widget.width()+20),this._isInFixed()&&(e="fixed",n.top-=i.scrollTop(),n.left-=i.scrollLeft()),i.width()<n.left+this.widget.outerWidth()?(n.right=i.width()-n.left-this.width,n.left="auto",this.widget.addClass("pull-right")):(n.right="auto",this.widget.removeClass("pull-right")),this.widget.css({position:e,top:n.top,left:n.left,right:n.right})},notifyChange:function(){this.$element.trigger({type:"changeDate",date:this.getDate(),localDate:this.getLocalDate()})},update:function(t){var e=t;if(!e&&(e=this.isInput?this.$element.val():this.$element.find("input").val(),e&&(this._date=this.parseDate(e)),!this._date)){var n=new Date;this._date=r(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}this.viewDate=r(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},fillDow:function(){for(var e=this.weekStart,n=t("<tr>");e<this.weekStart+7;)n.append('<th class="dow">'+a[this.language].daysMin[e++%7]+"</th>");this.widget.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+a[this.language].monthsShort[e++]+"</span>";this.widget.find(".datepicker-months td").append(t)},fillDate:function(){var e=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),i=r(this._date.getUTCFullYear(),this._date.getUTCMonth(),this._date.getUTCDate(),0,0,0,0),s="object"==typeof this.startDate?this.startDate.getUTCFullYear():-1/0,o="object"==typeof this.startDate?this.startDate.getUTCMonth():-1,l="object"==typeof this.endDate?this.endDate.getUTCFullYear():1/0,c="object"==typeof this.endDate?this.endDate.getUTCMonth():12;this.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-days th:eq(1)").text(a[this.language].months[n]+" "+e);var u=r(e,n-1,28,0,0,0,0),h=p.getDaysInMonth(u.getUTCFullYear(),u.getUTCMonth());u.setUTCDate(h),u.setUTCDate(h-(u.getUTCDay()-this.weekStart+7)%7),(e==s&&o>=n||s>e)&&this.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(e==l&&n>=c||e>l)&&this.widget.find(".datepicker-days th:eq(2)").addClass("disabled");var d=new Date(u.valueOf());d.setUTCDate(d.getUTCDate()+42),d=d.valueOf();for(var f,m,g=[];u.valueOf()<d;)u.getUTCDay()===this.weekStart&&(f=t("<tr>"),g.push(f)),m="",u.getUTCFullYear()<e||u.getUTCFullYear()==e&&u.getUTCMonth()<n?m+=" old":(u.getUTCFullYear()>e||u.getUTCFullYear()==e&&u.getUTCMonth()>n)&&(m+=" new"),u.valueOf()===i.valueOf()&&(m+=" active"),u.valueOf()+864e5<=this.startDate&&(m+=" disabled"),u.valueOf()>this.endDate&&(m+=" disabled"),f.append('<td class="day'+m+'">'+u.getUTCDate()+"</td>"),u.setUTCDate(u.getUTCDate()+1);this.widget.find(".datepicker-days tbody").empty().append(g);var v=this._date.getUTCFullYear(),y=this.widget.find(".datepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");
v===e&&y.eq(this._date.getUTCMonth()).addClass("active"),s>v-1&&this.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),v+1>l&&this.widget.find(".datepicker-months th:eq(2)").addClass("disabled");for(var b=0;12>b;b++)e==s&&o>b||s>e?t(y[b]).addClass("disabled"):(e==l&&b>c||e>l)&&t(y[b]).addClass("disabled");g="",e=10*parseInt(e/10,10);var _=this.widget.find(".datepicker-years").find("th:eq(1)").text(e+"-"+(e+9)).end().find("td");this.widget.find(".datepicker-years").find("th").removeClass("disabled"),s>e&&this.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),e+9>l&&this.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),e-=1;for(var b=-1;11>b;b++)g+='<span class="year'+(-1===b||10===b?" old":"")+(v===e?" active":"")+(s>e||e>l?" disabled":"")+'">'+e+"</span>",e+=1;_.html(g)},fillHours:function(){var t=this.widget.find(".timepicker .timepicker-hours table");t.parent().hide();var e="";if(this.options.pick12HourFormat)for(var i=1,r=0;3>r;r+=1){e+="<tr>";for(var s=0;4>s;s+=1){var o=i.toString();e+='<td class="hour">'+n(o,2,"0")+"</td>",i++}e+="</tr>"}else for(var i=0,r=0;6>r;r+=1){e+="<tr>";for(var s=0;4>s;s+=1){var o=i.toString();e+='<td class="hour">'+n(o,2,"0")+"</td>",i++}e+="</tr>"}t.html(e)},fillMinutes:function(){var t=this.widget.find(".timepicker .timepicker-minutes table");t.parent().hide();for(var e="",i=0,r=0;5>r;r++){e+="<tr>";for(var s=0;4>s;s+=1){var o=i.toString();e+='<td class="minute">'+n(o,2,"0")+"</td>",i+=3}e+="</tr>"}t.html(e)},fillSeconds:function(){var t=this.widget.find(".timepicker .timepicker-seconds table");t.parent().hide();for(var e="",i=0,r=0;5>r;r++){e+="<tr>";for(var s=0;4>s;s+=1){var o=i.toString();e+='<td class="second">'+n(o,2,"0")+"</td>",i+=3}e+="</tr>"}t.html(e)},fillTime:function(){if(this._date){var t=this.widget.find(".timepicker span[data-time-component]"),e=(t.closest("table"),this.options.pick12HourFormat),i=this._date.getUTCHours(),r="AM";e&&(i>=12&&(r="PM"),0===i?i=12:12!=i&&(i%=12),this.widget.find(".timepicker [data-action=togglePeriod]").text(r)),i=n(i.toString(),2,"0");var s=n(this._date.getUTCMinutes().toString(),2,"0"),o=n(this._date.getUTCSeconds().toString(),2,"0");t.filter("[data-time-component=hours]").text(i),t.filter("[data-time-component=minutes]").text(s),t.filter("[data-time-component=seconds]").text(o)}},click:function(e){e.stopPropagation(),e.preventDefault(),this._unset=!1;var n=t(e.target).closest("span, td, th");if(1===n.length&&!n.is(".disabled"))switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var i=this.viewDate,s=p.modes[this.viewMode].navFnc,o=p.modes[this.viewMode].navStep;"prev"===n[0].className&&(o=-1*o),i["set"+s](i["get"+s]()+o),this.fillDate(),this.set()}break;case"span":if(n.is(".month")){var a=n.parent().find("span").index(n);this.viewDate.setUTCMonth(a)}else{var l=parseInt(n.text(),10)||0;this.viewDate.setUTCFullYear(l)}0!==this.viewMode&&(this._date=r(this.viewDate.getUTCFullYear(),this.viewDate.getUTCMonth(),this.viewDate.getUTCDate(),this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.notifyChange()),this.showMode(-1),this.fillDate(),this.set();break;case"td":if(n.is(".day")){var c=parseInt(n.text(),10)||1,a=this.viewDate.getUTCMonth(),l=this.viewDate.getUTCFullYear();n.is(".old")?0===a?(a=11,l-=1):a-=1:n.is(".new")&&(11==a?(a=0,l+=1):a+=1),this._date=r(l,a,c,this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.viewDate=r(l,a,Math.min(28,c),0,0,0,0),this.fillDate(),this.set(),this.notifyChange()}}},actions:{incrementHours:function(){this._date.setUTCHours(this._date.getUTCHours()+1)},incrementMinutes:function(){this._date.setUTCMinutes(this._date.getUTCMinutes()+1)},incrementSeconds:function(){this._date.setUTCSeconds(this._date.getUTCSeconds()+1)},decrementHours:function(){this._date.setUTCHours(this._date.getUTCHours()-1)},decrementMinutes:function(){this._date.setUTCMinutes(this._date.getUTCMinutes()-1)},decrementSeconds:function(){this._date.setUTCSeconds(this._date.getUTCSeconds()-1)},togglePeriod:function(){var t=this._date.getUTCHours();t>=12?t-=12:t+=12,this._date.setUTCHours(t)},showPicker:function(){this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var n=t(e.target),i=parseInt(n.text(),10);if(this.options.pick12HourFormat){var r=this._date.getUTCHours();r>=12?12!=i&&(i=(i+12)%24):12===i?i=0:i%=12}this._date.setUTCHours(i),this.actions.showPicker.call(this)},selectMinute:function(e){var n=t(e.target),i=parseInt(n.text(),10);this._date.setUTCMinutes(i),this.actions.showPicker.call(this)},selectSecond:function(e){var n=t(e.target),i=parseInt(n.text(),10);this._date.setUTCSeconds(i),this.actions.showPicker.call(this)}},doAction:function(e){e.stopPropagation(),e.preventDefault(),this._date||(this._date=r(1970,0,0,0,0,0,0));var n=t(e.currentTarget).data("action"),i=this.actions[n].apply(this,arguments);return this.set(),this.fillTime(),this.notifyChange(),i},stopEvent:function(t){t.stopPropagation(),t.preventDefault()},keydown:function(e){var n=this,i=e.which,r=t(e.target);(8==i||46==i)&&setTimeout(function(){n._resetMaskPos(r)})},keypress:function(e){var n=e.which;if(8!=n&&46!=n){var i=t(e.target),r=String.fromCharCode(n),s=i.val()||"";s+=r;var o=this._mask[this._maskPos];if(!o)return!1;if(o.end==s.length){if(!o.pattern.test(s.slice(o.start))){for(s=s.slice(0,s.length-1);(o=this._mask[this._maskPos])&&o.character;)s+=o.character,this._maskPos++;return s+=r,o.end!=s.length?(i.val(s),!1):o.pattern.test(s.slice(o.start))?(i.val(s),this._maskPos++,!1):(i.val(s.slice(0,o.start)),!1)}this._maskPos++}}},change:function(e){var n=t(e.target),i=n.val();this._formatPattern.test(i)?(this.update(),this.setValue(this._date.getTime()),this.notifyChange(),this.set()):i&&i.trim()?(this.setValue(this._date.getTime()),this._date?this.set():n.val("")):this._date&&(this.setValue(null),this.notifyChange(),this._unset=!0),this._resetMaskPos(n)},showMode:function(t){t&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+t))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+p.modes[this.viewMode].clsName).show()},destroy:function(){this._detachDatePickerEvents(),this._detachDatePickerGlobalEvents(),this.widget.remove(),this.$element.removeData("datetimepicker"),this.component.removeData("datetimepicker")},formatDate:function(t){return this.format.replace(d,function(e){var i,r,s,o=e.length;if("ms"===e&&(o=1),r=l[e].property,"Hours12"===r)s=t.getUTCHours(),0===s?s=12:12!==s&&(s%=12);else{if("Period12"===r)return t.getUTCHours()>=12?"PM":"AM";i="get"+r,s=t[i]()}return"getUTCMonth"===i&&(s+=1),"getUTCYear"===i&&(s=s+1900-2e3),n(s.toString(),o,"0")})},parseDate:function(t){var e,n,i,r,s={};if(!(e=this._formatPattern.exec(t)))return null;for(n=1;n<e.length;n++)i=this._propertiesByIndex[n],i&&(r=e[n],/^\d+$/.test(r)&&(r=parseInt(r,10)),s[i]=r);return this._finishParsingDate(s)},_resetMaskPos:function(t){for(var e=t.val(),n=0;n<this._mask.length;n++){if(this._mask[n].end>e.length){this._maskPos=n;break}if(this._mask[n].end===e.length){this._maskPos=n+1;break}}},_finishParsingDate:function(t){var e,n,i,s,o,a,l;return e=t.UTCFullYear,t.UTCYear&&(e=2e3+t.UTCYear),e||(e=1970),n=t.UTCMonth?t.UTCMonth-1:0,i=t.UTCDate||1,s=t.UTCHours||0,o=t.UTCMinutes||0,a=t.UTCSeconds||0,l=t.UTCMilliseconds||0,t.Hours12&&(s=t.Hours12),t.Period12&&(/pm/i.test(t.Period12)?12!=s&&(s=(s+12)%24):s%=12),r(e,n,i,s,o,a,l)},_compileFormat:function(){for(var t,n,i=[],r=[],s=this.format,o={},a=0,c=0;t=h.exec(s);)n=t[0],n in l?(a++,o[a]=l[n].property,i.push("\\s*"+l[n].getPattern(this)+"\\s*"),r.push({pattern:new RegExp(l[n].getPattern(this)),property:l[n].property,start:c,end:c+=n.length})):(i.push(e(n)),r.push({pattern:new RegExp(e(n)),character:n,start:c,end:++c})),s=s.slice(n.length);this._mask=r,this._maskPos=0,this._formatPattern=new RegExp("^\\s*"+i.join("")+"\\s*$"),this._propertiesByIndex=o},_attachDatePickerEvents:function(){var e=this;this.widget.on("click",".datepicker *",t.proxy(this.click,this)),this.widget.on("click","[data-action]",t.proxy(this.doAction,this)),this.widget.on("mousedown",t.proxy(this.stopEvent,this)),this.pickDate&&this.pickTime&&this.widget.on("click.togglePicker",".accordion-toggle",function(n){n.stopPropagation();var i=t(this),r=i.closest("ul"),s=r.find(".collapse.in"),o=r.find(".collapse:not(.in)");if(s&&s.length){var a=s.data("collapse");if(a&&a.transitioning)return;s.collapse("hide"),o.collapse("show"),i.find("i").toggleClass(e.timeIcon+" "+e.dateIcon),e.$element.find(".add-on i").toggleClass(e.timeIcon+" "+e.dateIcon)}}),this.isInput?(this.$element.on({focus:t.proxy(this.show,this),change:t.proxy(this.change,this)}),this.options.maskInput&&this.$element.on({keydown:t.proxy(this.keydown,this),keypress:t.proxy(this.keypress,this)})):(this.$element.on({change:t.proxy(this.change,this)},"input"),this.options.maskInput&&this.$element.on({keydown:t.proxy(this.keydown,this),keypress:t.proxy(this.keypress,this)},"input"),this.component?this.component.on("click",t.proxy(this.show,this)):this.$element.on("click",t.proxy(this.show,this)))},_attachDatePickerGlobalEvents:function(){t(window).on("resize.datetimepicker"+this.id,t.proxy(this.place,this)),this.isInput||t(document).on("mousedown.datetimepicker"+this.id,t.proxy(this.hide,this))},_detachDatePickerEvents:function(){this.widget.off("click",".datepicker *",this.click),this.widget.off("click","[data-action]"),this.widget.off("mousedown",this.stopEvent),this.pickDate&&this.pickTime&&this.widget.off("click.togglePicker"),this.isInput?(this.$element.off({focus:this.show,change:this.change}),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress})):(this.$element.off({change:this.change},"input"),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress},"input"),this.component?this.component.off("click",this.show):this.$element.off("click",this.show))},_detachDatePickerGlobalEvents:function(){t(window).off("resize.datetimepicker"+this.id),this.isInput||t(document).off("mousedown.datetimepicker"+this.id)},_isInFixed:function(){if(this.$element){for(var e=this.$element.parents(),n=!1,i=0;i<e.length;i++)if("fixed"==t(e[i]).css("position")){n=!0;break}return n}return!1}},t.fn.datetimepicker=function(e,n){return this.each(function(){var i=t(this),r=i.data("datetimepicker"),o="object"==typeof e&&e;r||i.data("datetimepicker",r=new s(this,t.extend({},t.fn.datetimepicker.defaults,o))),"string"==typeof e&&r[e](n)})},t.fn.datetimepicker.defaults={maskInput:!1,pickDate:!0,pickTime:!0,pick12HourFormat:!1,pickSeconds:!0,startDate:-1/0,endDate:1/0,collapse:!0},t.fn.datetimepicker.Constructor=s;var o=0,a=t.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},l={dd:{property:"UTCDate",getPattern:function(){return"(0?[1-9]|[1-2][0-9]|3[0-1])\\b"}},MM:{property:"UTCMonth",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},yy:{property:"UTCYear",getPattern:function(){return"(\\d{2})\\b"}},yyyy:{property:"UTCFullYear",getPattern:function(){return"(\\d{4})\\b"}},hh:{property:"UTCHours",getPattern:function(){return"(0?[0-9]|1[0-9]|2[0-3])\\b"}},mm:{property:"UTCMinutes",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ss:{property:"UTCSeconds",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ms:{property:"UTCMilliseconds",getPattern:function(){return"([0-9]{1,3})\\b"}},HH:{property:"Hours12",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},PP:{property:"Period12",getPattern:function(){return"(AM|PM|am|pm|Am|aM|Pm|pM)\\b"}}},c=[];for(var u in l)c.push(u);c[c.length-1]+="\\b",c.push(".");var h=new RegExp(c.join("\\b|"));c.pop();var d=new RegExp(c.join("\\b|"),"g"),p={modes:[{clsName:"days",navFnc:"UTCMonth",navStep:1},{clsName:"months",navFnc:"UTCFullYear",navStep:1},{clsName:"years",navFnc:"UTCFullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,p.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};p.template='<div class="datepicker-days"><table class="table-condensed">'+p.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+p.headTemplate+p.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+p.headTemplate+p.contTemplate+"</table></div>";var f={hourTemplate:'<span data-action="showHours" data-time-component="hours" class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds" data-time-component="seconds" class="timepicker-second"></span>'};f.getTemplate=function(t,e){return'<div class="timepicker-picker"><table class="table-condensed"'+(t?' data-hour-format="12"':"")+'><tr><td><a href="#" class="btn" data-action="incrementHours"><i class="icon-chevron-up"></i></a></td><td class="separator"></td><td><a href="#" class="btn" data-action="incrementMinutes"><i class="icon-chevron-up"></i></a></td>'+(e?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><i class="icon-chevron-up"></i></a></td>':"")+(t?'<td class="separator"></td>':"")+"</tr><tr><td>"+f.hourTemplate+'</td> <td class="separator">:</td><td>'+f.minuteTemplate+"</td> "+(e?'<td class="separator">:</td><td>'+f.secondTemplate+"</td>":"")+(t?'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>':"")+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" class="btn" data-action="decrementMinutes"><i class="icon-chevron-down"></i></a></td>'+(e?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><i class="icon-chevron-down"></i></a></td>':"")+(t?'<td class="separator"></td>':"")+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(e?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")}}(window.jQuery),function(t){function e(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function n(){var t=require("util");return"Markdown.mk_block( "+t.inspect(this.toString())+", "+t.inspect(this.trailing)+", "+t.inspect(this.lineNumber)+" )"}function i(t){for(var e=0,n=-1;-1!==(n=t.indexOf("\n",n+1));)e++;return e}function r(t,e){function n(t){this.len_after=t,this.name="close_"+e}var i=t+"_state",r="strong"==t?"em_state":"strong_state";return function(s){if(this[i][0]==e)return this[i].shift(),[s.length,new n(s.length-e.length)];var o=this[r].slice(),a=this[i].slice();this[i].unshift(e);{var l=this.processInline(s.substr(e.length)),c=l[l.length-1];this[i].shift()}if(c instanceof n){l.pop();var u=s.length-c.len_after;return[u,[t].concat(l)]}return this[r]=o,this[i]=a,[e.length,e]}}function s(t){for(var e=t.split(""),n=[""],i=!1;e.length;){var r=e.shift();switch(r){case" ":i?n[n.length-1]+=r:n.push("");break;case"'":case'"':i=!i;break;case"\\":r=e.shift();default:n[n.length-1]+=r}}return n}function o(t){return g(t)&&t.length>1&&"object"==typeof t[1]&&!g(t[1])?t[1]:void 0}function l(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function c(t){if("string"==typeof t)return l(t);var e=t.shift(),n={},i=[];for(!t.length||"object"!=typeof t[0]||t[0]instanceof Array||(n=t.shift());t.length;)i.push(c(t.shift()));var r="";for(var s in n)r+=" "+s+'="'+l(n[s])+'"';return"img"==e||"br"==e||"hr"==e?"<"+e+r+"/>":"<"+e+r+">"+i.join("")+"</"+e+">"}function u(t,e,n){var i;n=n||{};var r=t.slice(0);"function"==typeof n.preprocessTreeNode&&(r=n.preprocessTreeNode(r,e));var s=o(r);if(s){r[1]={};for(i in s)r[1][i]=s[i];s=r[1]}if("string"==typeof r)return r;switch(r[0]){case"header":r[0]="h"+r[1].level,delete r[1].level;break;case"bulletlist":r[0]="ul";break;case"numberlist":r[0]="ol";break;case"listitem":r[0]="li";break;case"para":r[0]="p";break;case"markdown":r[0]="html",s&&delete s.references;break;case"code_block":r[0]="pre",i=s?2:1;var a=["code"];a.push.apply(a,r.splice(i,r.length-i)),r[i]=a;break;case"inlinecode":r[0]="code";break;case"img":r[1].src=r[1].href,delete r[1].href;break;case"linebreak":r[0]="br";break;case"link":r[0]="a";break;case"link_ref":r[0]="a";var l=e[s.ref];if(!l)return s.original;delete s.ref,s.href=l.href,l.title&&(s.title=l.title),delete s.original;break;case"img_ref":r[0]="img";var l=e[s.ref];if(!l)return s.original;delete s.ref,s.src=l.href,l.title&&(s.title=l.title),delete s.original}if(i=1,s){for(var c in r[1])i=2;1===i&&r.splice(i,1)}for(;i<r.length;++i)r[i]=u(r[i],e,n);return r}function h(t){for(var e=o(t)?2:1;e<t.length;)"string"==typeof t[e]?e+1<t.length&&"string"==typeof t[e+1]?t[e]+=t.splice(e+1,1)[0]:++e:(h(t[e]),++e)}var d=t.Markdown=function(t){switch(typeof t){case"undefined":this.dialect=d.dialects.Gruber;break;case"object":this.dialect=t;break;default:if(!(t in d.dialects))throw new Error("Unknown Markdown dialect '"+String(t)+"'");this.dialect=d.dialects[t]}this.em_state=[],this.strong_state=[],this.debug_indent=""};t.parse=function(t,e){var n=new d(e);return n.toTree(t)},t.toHTML=function(e,n,i){var r=t.toHTMLTree(e,n,i);return t.renderJsonML(r)},t.toHTMLTree=function(t,e,n){"string"==typeof t&&(t=this.parse(t,e));var i=o(t),r={};i&&i.references&&(r=i.references);var s=u(t,r,n);return h(s),s};var f=d.mk_block=function(t,i,r){1==arguments.length&&(i="\n\n");var s=new String(t);return s.trailing=i,s.inspect=n,s.toSource=e,void 0!=r&&(s.lineNumber=r),s};d.prototype.split_blocks=function(t){t=t.replace(/(\r\n|\n|\r)/g,"\n");var e,n=/([\s\S]+?)($|\n(?:\s*\n|$)+)/g,r=[],s=1;for(null!=(e=/^(\s*\n)/.exec(t))&&(s+=i(e[0]),n.lastIndex=e[0].length);null!==(e=n.exec(t));)r.push(f(e[1],e[2],s)),s+=i(e[0]);return r},d.prototype.processBlock=function(t,e){var n=this.dialect.block,i=n.__order__;if("__call__"in n)return n.__call__.call(this,t,e);for(var r=0;r<i.length;r++){var s=n[i[r]].call(this,t,e);if(s)return(!g(s)||s.length>0&&!g(s[0]))&&this.debug(i[r],"didn't return a proper array"),s}return[]},d.prototype.processInline=function(t){return this.dialect.inline.__call__.call(this,String(t))},d.prototype.toTree=function(t,e){var n=t instanceof Array?t:this.split_blocks(t),i=this.tree;try{for(this.tree=e||this.tree||["markdown"];n.length;){var r=this.processBlock(n.shift(),n);r.length&&this.tree.push.apply(this.tree,r)}return this.tree}finally{e&&(this.tree=i)}},d.prototype.debug=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,t),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,t)},d.prototype.loop_re_over_block=function(t,e,n){for(var i,r=e.valueOf();r.length&&null!=(i=t.exec(r));)r=r.substr(i[0].length),n.call(this,i);return r},d.dialects={},d.dialects.Gruber={block:{atxHeader:function(t,e){var n=t.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!n)return void 0;var i=["header",{level:n[1].length}];return Array.prototype.push.apply(i,this.processInline(n[2])),n[0].length<t.length&&e.unshift(f(t.substr(n[0].length),t.trailing,t.lineNumber+2)),[i]},setextHeader:function(t,e){var n=t.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(!n)return void 0;var i="="===n[2]?1:2,r=["header",{level:i},n[1]];return n[0].length<t.length&&e.unshift(f(t.substr(n[0].length),t.trailing,t.lineNumber+2)),[r]},code:function(t,e){var n=[],i=/^(?: {0,3}\t| {4})(.*)\n?/;if(!t.match(i))return void 0;t:for(;;){var r=this.loop_re_over_block(i,t.valueOf(),function(t){n.push(t[1])});if(r.length){e.unshift(f(r,t.trailing));break t}if(!e.length)break t;if(!e[0].match(i))break t;n.push(t.trailing.replace(/[^\n]/g,"").substring(2)),t=e.shift()}return[["code_block",n.join("\n")]]},horizRule:function(t,e){var n=t.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!n)return void 0;var i=[["hr"]];return n[1]&&i.unshift.apply(i,this.processBlock(n[1],[])),n[3]&&e.unshift(f(n[3])),i},lists:function(){function t(t){return new RegExp("(?:^("+l+"{0,"+t+"} {0,3})("+s+")\\s+)|(^"+l+"{0,"+(t-1)+"}[ ]{0,4})")}function e(t){return t.replace(/ {0,3}\t/g,"    ")}function n(t,e,n,i){if(e)return t.push(["para"].concat(n)),void 0;var r=t[t.length-1]instanceof Array&&"para"==t[t.length-1][0]?t[t.length-1]:t;i&&t.length>1&&n.unshift(i);for(var s=0;s<n.length;s++){var o=n[s],a="string"==typeof o;a&&r.length>1&&"string"==typeof r[r.length-1]?r[r.length-1]+=o:r.push(o)}}function i(t,e){for(var n=new RegExp("^("+l+"{"+t+"}.*?\\n?)*$"),i=new RegExp("^"+l+"{"+t+"}","gm"),r=[];e.length>0&&n.exec(e[0]);){var s=e.shift(),o=s.replace(i,"");r.push(f(o,s.trailing,s.lineNumber))}return r}function r(t,e,n){var i=t.list,r=i[i.length-1];if(!(r[1]instanceof Array&&"para"==r[1][0]))if(e+1==n.length)r.push(["para"].concat(r.splice(1,r.length-1)));else{var s=r.pop();r.push(["para"].concat(r.splice(1,r.length-1)),s)}}var s="[*+-]|\\d+\\.",o=/[*+-]/,a=new RegExp("^( {0,3})("+s+")[ 	]+"),l="(?: {0,3}\\t| {4})";return function(s,l){function c(t){var e=o.exec(t[2])?["bulletlist"]:["numberlist"];return p.push({list:e,indent:t[1]}),e}var u=s.match(a);if(!u)return void 0;for(var h,d,p=[],f=c(u),g=!1,v=[p[0].list];;){for(var y=s.split(/(?=\n)/),b="",_=0;_<y.length;_++){var w="",x=y[_].replace(/^\n/,function(t){return w=t,""}),k=t(p.length);if(u=x.match(k),void 0!==u[1]){b.length&&(n(h,g,this.processInline(b),w),g=!1,b=""),u[1]=e(u[1]);var C=Math.floor(u[1].length/4)+1;if(C>p.length)f=c(u),h.push(f),h=f[1]=["listitem"];else{var T=!1;for(d=0;d<p.length;d++)if(p[d].indent==u[1]){f=p[d].list,p.splice(d+1,p.length-(d+1)),T=!0;break}T||(C++,C<=p.length?(p.splice(C,p.length-C),f=p[C-1].list):(f=c(u),h.push(f))),h=["listitem"],f.push(h)}w=""}x.length>u[0].length&&(b+=w+x.substr(u[0].length))}b.length&&(n(h,g,this.processInline(b),w),g=!1,b="");var S=i(p.length,l);S.length>0&&(m(p,r,this),h.push.apply(h,this.toTree(S,[])));var E=l[0]&&l[0].valueOf()||"";if(!E.match(a)&&!E.match(/^ /))break;s=l.shift();var $=this.dialect.block.horizRule(s,l);if($){v.push.apply(v,$);break}m(p,r,this),g=!0}return v}}(),blockquote:function(t,e){if(!t.match(/^>/m))return void 0;var n=[];if(">"!=t[0]){for(var i=t.split(/\n/),r=[];i.length&&">"!=i[0][0];)r.push(i.shift());t=i.join("\n"),n.push.apply(n,this.processBlock(r.join("\n"),[]))}for(;e.length&&">"==e[0][0];){var s=e.shift();t=new String(t+t.trailing+s),t.trailing=s.trailing}var a=t.replace(/^> ?/gm,""),l=(this.tree,this.toTree(a,["blockquote"])),c=o(l);return c&&c.references&&(delete c.references,v(c)&&l.splice(1,1)),n.push(l),n},referenceDefn:function(t,e){var n=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!t.match(n))return void 0;o(this.tree)||this.tree.splice(1,0,{});var i=o(this.tree);void 0===i.references&&(i.references={});var r=this.loop_re_over_block(n,t,function(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1));var e=i.references[t[1].toLowerCase()]={href:t[2]};void 0!==t[4]?e.title=t[4]:void 0!==t[5]&&(e.title=t[5])});return r.length&&e.unshift(f(r,t.trailing)),[]},para:function(t){return[["para"].concat(this.processInline(t))]}}},d.dialects.Gruber.inline={__oneElement__:function(t,e,n){var i,r;e=e||this.dialect.inline.__patterns__;var s=new RegExp("([\\s\\S]*?)("+(e.source||e)+")");if(i=s.exec(t),!i)return[t.length,t];if(i[1])return[i[1].length,i[1]];var r;return i[2]in this.dialect.inline&&(r=this.dialect.inline[i[2]].call(this,t.substr(i.index),i,n||[])),r=r||[i[2].length,i[2]]},__call__:function(t,e){function n(t){"string"==typeof t&&"string"==typeof r[r.length-1]?r[r.length-1]+=t:r.push(t)}for(var i,r=[];t.length>0;)i=this.dialect.inline.__oneElement__.call(this,t,e,r),t=t.substr(i.shift()),m(i,n);return r},"]":function(){},"}":function(){},"\\":function(t){return t.match(/^\\[\\`\*_{}\[\]()#\+.!\-]/)?[2,t.charAt(1)]:[1,"\\"]},"![":function(t){var e=t.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1)),e[2]=this.dialect.inline.__call__.call(this,e[2],/\\/)[0];var n={alt:e[1],href:e[2]||""};return void 0!==e[4]&&(n.title=e[4]),[e[0].length,["img",n]]}return e=t.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),e?[e[0].length,["img_ref",{alt:e[1],ref:e[2].toLowerCase(),original:e[0]}]]:[2,"!["]},"[":function y(t){var e=String(t),n=d.DialectHelpers.inline_until_char.call(this,t.substr(1),"]");if(!n)return[1,"["];var y,i,r=1+n[0],s=n[1];t=t.substr(r);var o=t.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(o){var a=o[1];if(r+=o[0].length,a&&"<"==a[0]&&">"==a[a.length-1]&&(a=a.substring(1,a.length-1)),!o[3])for(var l=1,c=0;c<a.length;c++)switch(a[c]){case"(":l++;break;case")":0==--l&&(r-=a.length-c,a=a.substring(0,c))}return a=this.dialect.inline.__call__.call(this,a,/\\/)[0],i={href:a||""},void 0!==o[3]&&(i.title=o[3]),y=["link",i].concat(s),[r,y]}return o=t.match(/^\s*\[(.*?)\]/),o?(r+=o[0].length,i={ref:(o[1]||String(s)).toLowerCase(),original:e.substr(0,r)},y=["link_ref",i].concat(s),[r,y]):1==s.length&&"string"==typeof s[0]?(i={ref:s[0].toLowerCase(),original:e.substr(0,r)},y=["link_ref",i,s[0]],[r,y]):[1,"["]},"<":function(t){var e;return null!=(e=t.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?e[3]?[e[0].length,["link",{href:"mailto:"+e[3]},e[3]]]:"mailto"==e[2]?[e[0].length,["link",{href:e[1]},e[1].substr("mailto:".length)]]:[e[0].length,["link",{href:e[1]},e[1]]]:[1,"<"]},"`":function(t){var e=t.match(/(`+)(([\s\S]*?)\1)/);return e&&e[2]?[e[1].length+e[2].length,["inlinecode",e[3]]]:[1,"`"]},"  \n":function(){return[3,["linebreak"]]}},d.dialects.Gruber.inline["**"]=r("strong","**"),d.dialects.Gruber.inline.__=r("strong","__"),d.dialects.Gruber.inline["*"]=r("em","*"),d.dialects.Gruber.inline._=r("em","_"),d.buildBlockOrder=function(t){var e=[];for(var n in t)"__order__"!=n&&"__call__"!=n&&e.push(n);t.__order__=e},d.buildInlinePatterns=function(t){var e=[];for(var n in t)if(!n.match(/^__.*__$/)){var i=n.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");e.push(1==n.length?i:"(?:"+i+")")}e=e.join("|"),t.__patterns__=e;var r=t.__call__;t.__call__=function(t,n){return void 0!=n?r.call(this,t,n):r.call(this,t,e)}},d.DialectHelpers={},d.DialectHelpers.inline_until_char=function(t,e){for(var n=0,i=[];;){if(t.charAt(n)==e)return n++,[n,i];if(n>=t.length)return null;var r=this.dialect.inline.__oneElement__.call(this,t.substr(n));n+=r[0],i.push.apply(i,r.slice(1))}},d.subclassDialect=function(t){function e(){}function n(){}return e.prototype=t.block,n.prototype=t.inline,{block:new e,inline:new n}},d.buildBlockOrder(d.dialects.Gruber.block),d.buildInlinePatterns(d.dialects.Gruber.inline),d.dialects.Maruku=d.subclassDialect(d.dialects.Gruber),d.dialects.Maruku.processMetaHash=function(t){for(var e=s(t),n={},i=0;i<e.length;++i)if(/^#/.test(e[i]))n.id=e[i].substring(1);else if(/^\./.test(e[i]))n["class"]=n["class"]?n["class"]+e[i].replace(/./," "):e[i].substring(1);else if(/\=/.test(e[i])){var r=e[i].split(/\=/);n[r[0]]=r[1]}return n},d.dialects.Maruku.block.document_meta=function(t){if(t.lineNumber>1)return void 0;if(!t.match(/^(?:\w+:.*\n)*\w+:.*$/))return void 0;o(this.tree)||this.tree.splice(1,0,{});var e=t.split(/\n/);for(p in e){var n=e[p].match(/(\w+):\s*(.*)$/),i=n[1].toLowerCase(),r=n[2];this.tree[1][i]=r}return[]},d.dialects.Maruku.block.block_meta=function(t){var e=t.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!e)return void 0;var n,i=this.dialect.processMetaHash(e[2]);if(""===e[1]){var r=this.tree[this.tree.length-1];if(n=o(r),"string"==typeof r)return void 0;n||(n={},r.splice(1,0,n));for(a in i)n[a]=i[a];return[]}var s=t.replace(/\n.*$/,""),l=this.processBlock(s,[]);n=o(l[0]),n||(n={},l[0].splice(1,0,n));for(a in i)n[a]=i[a];return l},d.dialects.Maruku.block.definition_list=function(t,e){var n,i=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,r=["dl"];if(!(a=t.match(i)))return void 0;for(var s=[t];e.length&&i.exec(e[0]);)s.push(e.shift());for(var o=0;o<s.length;++o){var a=s[o].match(i),l=a[1].replace(/\n$/,"").split(/\n/),c=a[2].split(/\n:\s+/);for(n=0;n<l.length;++n)r.push(["dt",l[n]]);for(n=0;n<c.length;++n)r.push(["dd"].concat(this.processInline(c[n].replace(/(\n)\s+/,"$1"))))}return[r]},d.dialects.Maruku.inline["{:"]=function(t,e,n){if(!n.length)return[2,"{:"];var i=n[n.length-1];if("string"==typeof i)return[2,"{:"];var r=t.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!r)return[2,"{:"];var s=this.dialect.processMetaHash(r[1]),a=o(i);a||(a={},i.splice(1,0,a));for(var l in s)a[l]=s[l];return[r[0].length,""]},d.buildBlockOrder(d.dialects.Maruku.block),d.buildInlinePatterns(d.dialects.Maruku.inline);var m,g=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)};m=Array.prototype.forEach?function(t,e,n){return t.forEach(e,n)}:function(t,e,n){for(var i=0;i<t.length;i++)e.call(n||t,t[i],i,t)};var v=function(t){for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0};t.renderJsonML=function(t,e){e=e||{},e.root=e.root||!1;var n=[];if(e.root)n.push(c(t));else for(t.shift(),!t.length||"object"!=typeof t[0]||t[0]instanceof Array||t.shift();t.length;)n.push(c(t.shift()));return n.join("\n\n")}}(function(){return"undefined"==typeof exports?(window.markdown={},window.markdown):exports}());var toMarkdown=function(t){function e(t,e){var n="void"===e.type?"<"+e.tag+"\\b([^>]*)\\/?>":"<"+e.tag+"\\b([^>]*)>([\\s\\S]*?)<\\/"+e.tag+">",i=new RegExp(n,"gi"),r="";return r="string"==typeof e.replacement?t.replace(i,e.replacement):t.replace(i,function(t,n,i,r){return e.replacement.call(this,t,n,i,r)})}function n(t){return new RegExp(t+"\\s*=\\s*[\"']?([^\"']*)[\"']?","i")}function i(t){return t=t.replace(/<(ul|ol)\b[^>]*>([\s\S]*?)<\/\1>/gi,function(t,e,n){var i=n.split("</li>");for(i.splice(i.length-1,1),a=0,l=i.length;l>a;a++)if(i[a]){var r="ol"===e?a+1+".  ":"*   ";i[a]=i[a].replace(/\s*<li[^>]*>([\s\S]*)/i,function(t,e){return e=e.replace(/^\s+/,""),e=e.replace(/\n\n/g,"\n\n    "),e=e.replace(/\n([ ]*)+(\*|\d+\.) /g,"\n$1    $2 "),r+e})}return i.join("\n")}),"\n\n"+t.replace(/[ \t]+\n|\s+$/g,"")}function r(t){return t=t.replace(/<blockquote\b[^>]*>([\s\S]*?)<\/blockquote>/gi,function(t,e){return e=e.replace(/^\s+|\s+$/g,""),e=s(e),e=e.replace(/^/gm,"> "),e=e.replace(/^(>([ \t]{2,}>)+)/gm,"> >")})}function s(t){return t=t.replace(/^[\t\r\n]+|[\t\r\n]+$/g,""),t=t.replace(/\n\s+\n/g,"\n\n"),t=t.replace(/\n{3,}/g,"\n\n")}for(var o=[{patterns:"p",replacement:function(t,e,n){return n?"\n\n"+n+"\n":""}},{patterns:"br",type:"void",replacement:"\n"},{patterns:"h([1-6])",replacement:function(t,e,n,i){for(var r="",s=0;e>s;s++)r+="#";return"\n\n"+r+" "+i+"\n"}},{patterns:"hr",type:"void",replacement:"\n\n* * *\n"},{patterns:"a",replacement:function(t,e,i){var r=e.match(n("href")),s=e.match(n("title"));return r?"["+i+"]("+r[1]+(s&&s[1]?' "'+s[1]+'"':"")+")":t}},{patterns:["b","strong"],replacement:function(t,e,n){return n?"**"+n+"**":""}},{patterns:["i","em"],replacement:function(t,e,n){return n?"_"+n+"_":""}},{patterns:"code",replacement:function(t,e,n){return n?"`"+n+"`":""}},{patterns:"img",type:"void",replacement:function(t,e){var i=e.match(n("src")),r=e.match(n("alt")),s=e.match(n("title"));return"!["+(r&&r[1]?r[1]:"")+"]("+i[1]+(s&&s[1]?' "'+s[1]+'"':"")+")"
}}],a=0,l=o.length;l>a;a++)if("string"==typeof o[a].patterns)t=e(t,{tag:o[a].patterns,replacement:o[a].replacement,type:o[a].type});else for(var c=0,u=o[a].patterns.length;u>c;c++)t=e(t,{tag:o[a].patterns[c],replacement:o[a].replacement,type:o[a].type});t=t.replace(/<pre\b[^>]*>`([\s\S]*)`<\/pre>/gi,function(t,e){return e=e.replace(/^\t+/g,"  "),e=e.replace(/\n/g,"\n    "),"\n\n    "+e+"\n"}),t=t.replace(/^(\s{0,3}\d+)\. /g,"$1\\. ");for(var h=/<(ul|ol)\b[^>]*>(?:(?!<ul|<ol)[\s\S])*?<\/\1>/gi;t.match(h);)t=t.replace(h,function(t){return i(t)});for(var d=/<blockquote\b[^>]*>((?:(?!<blockquote)[\s\S])*?)<\/blockquote>/gi;t.match(d);)t=t.replace(d,function(t){return r(t)});return s(t)};"object"==typeof exports&&(exports.toMarkdown=toMarkdown),!function(t){"use strict";var e=function(e,n){this.$ns="bootstrap-markdown",this.$element=t(e),this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null},this.$options=t.extend(!0,{},t.fn.markdown.defaults,n),this.$oldContent=null,this.$isPreview=!1,this.$editor=null,this.$textarea=null,this.$handler=[],this.$callback=[],this.$nextTab=[],this.showEditor()};e.prototype={constructor:e,__alterButtons:function(e,n){var i=this.$handler,r="all"==e,s=this;t.each(i,function(t,i){var o=!0;o=r?!1:i.indexOf(e)<0,0==o&&n(s.$editor.find('button[data-handler="'+i+'"]'))})},__buildButtons:function(e,n){var i,r=this.$ns,s=this.$handler,o=this.$callback;for(i=0;i<e.length;i++){var a,l=e[i];for(a=0;a<l.length;a++){var c,u=l[a].data,h=t("<div/>",{"class":"btn-group"});for(c=0;c<u.length;c++){var d=u[c],p="",f=r+"-"+d.name,m=d.btnText?d.btnText:"",g=d.btnClass?d.btnClass:"btn",v=d.tabIndex?d.tabIndex:"-1";1==d.toggle&&(p=' data-toggle="button"'),h.append('<button class="'+g+' btn-default btn-sm" title="'+d.title+'" tabindex="'+v+'" data-provider="'+r+'" data-handler="'+f+'"'+p+'><span class="'+d.icon+'"></span> '+m+"</button>"),s.push(f),o.push(d.callback)}n.append(h)}}return n},__setListener:function(){var e="undefined"!=typeof this.$textarea.attr("rows"),n=this.$textarea.val().split("\n").length>5?this.$textarea.val().split("\n").length:"5",i=e?this.$textarea.attr("rows"):n;this.$textarea.attr("rows",i),this.$textarea.css("resize","none"),this.$textarea.on("focus",t.proxy(this.focus,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$textarea.on("keydown",t.proxy(this.keydown,this)),this.$textarea.data("markdown",this)},__handle:function(e){var n=t(e.currentTarget),i=this.$handler,r=this.$callback,s=n.attr("data-handler"),o=i.indexOf(s),a=r[o];t(e.currentTarget).focus(),a(this),s.indexOf("cmdSave")<0&&this.$textarea.focus(),e.preventDefault()},showEditor:function(){var e,n=this,i=this.$ns,r=this.$element,s=(r.css("height"),r.css("width"),this.$editable),o=this.$handler,a=this.$callback,l=this.$options,c=t("<div/>",{"class":"md-editor",click:function(){n.focus()}});if(null==this.$editor){var u=t("<div/>",{"class":"md-header btn-toolbar"});if(l.buttons.length>0&&(u=this.__buildButtons(l.buttons,u)),l.additionalButtons.length>0&&(u=this.__buildButtons(l.additionalButtons,u)),c.append(u),r.is("textarea"))r.before(c),e=r,e.addClass("md-input"),c.append(e);else{var h="function"==typeof toMarkdown?toMarkdown(r.html()):r.html(),d=t.trim(h);e=t("<textarea/>",{"class":"md-input",val:d}),c.append(e),s.el=r,s.type=r.prop("tagName").toLowerCase(),s.content=r.html(),t(r[0].attributes).each(function(){s.attrKeys.push(this.nodeName),s.attrValues.push(this.nodeValue)}),r.replaceWith(c)}if(l.savable){var p=t("<div/>",{"class":"md-footer"}),f="cmdSave";o.push(f),a.push(l.onSave),p.append('<button class="btn btn-success" data-provider="'+i+'" data-handler="'+f+'"><i class="icon icon-white icon-ok"></i> Save</button>'),c.append(p)}t.each(["height","width"],function(t,e){"inherit"!=l[e]&&(jQuery.isNumeric(l[e])?c.css(e,l[e]+"px"):c.addClass(l[e]))}),this.$editor=c,this.$textarea=e,this.$editable=s,this.$oldContent=this.getContent(),this.__setListener(),this.$editor.attr("id",(new Date).getTime()),this.$editor.on("click",'[data-provider="bootstrap-markdown"]',t.proxy(this.__handle,this))}else this.$editor.show();return l.autofocus&&(this.$textarea.focus(),this.$editor.addClass("active")),l.onShow(this),this},showPreview:function(){var e,n=this.$options,i=n.onPreview(this),r=this.$textarea,s=r.next(),o=t("<div/>",{"class":"md-preview","data-provider":"markdown-preview"});this.$isPreview=!0,this.disableButtons("all").enableButtons("cmdPreview");var a=function(t){t.html('<span class="glyphicon glyphicon-edit"></span> Return to Editing')};return this.__alterButtons("cmdPreview",a),e="string"==typeof i?i:"object"==typeof markdown?markdown.toHTML(r.val()):r.val(),o.html(e),s&&"md-footer"==s.attr("class")?o.insertBefore(s):r.parent().append(o),r.hide(),o.data("markdown",this),this},hidePreview:function(){this.$isPreview=!1;var t=this.$editor.find('div[data-provider="markdown-preview"]');t.remove(),this.enableButtons("all");var e=function(t){t.html('<span class="glyphicon glyphicon-search"></span> Preview')};return this.__alterButtons("cmdPreview",e),this.$textarea.show(),this.__setListener(),this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(t){return this.$textarea.val(t),this},findSelection:function(t){var e,n=this.getContent();if(e=n.indexOf(t),e>=0&&t.length>0){var i,r=this.getSelection();return this.setSelection(e,e+t.length),i=this.getSelection(),this.setSelection(r.start,r.end),i}return null},getSelection:function(){var t=this.$textarea[0];return("selectionStart"in t&&function(){var e=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:e,text:t.value.substr(t.selectionStart,e)}}||function(){return null})()},setSelection:function(t,e){var n=this.$textarea[0];return("selectionStart"in n&&function(){n.selectionStart=t,n.selectionEnd=e}||function(){return null})()},replaceSelection:function(t){var e=this.$textarea[0];return("selectionStart"in e&&function(){return e.value=e.value.substr(0,e.selectionStart)+t+e.value.substr(e.selectionEnd,e.value.length),e.selectionStart=e.value.length,this}||function(){return e.value+=t,jQuery(e)})()},getNextTab:function(){if(0==this.$nextTab.length)return null;var t,e=this.$nextTab.shift();return"function"==typeof e?t=e():"object"==typeof e&&e.length>0&&(t=e),t},setNextTab:function(t,e){if("string"==typeof t){var n=this;this.$nextTab.push(function(){return n.findSelection(t)})}else if("numeric"==typeof t&&"numeric"==typeof e){var i=this.getSelection();this.setSelection(t,e),this.$nextTab.push(this.getSelection()),this.setSelection(i.start,i.end)}},enableButtons:function(t){var e=function(t){t.removeAttr("disabled")};return this.__alterButtons(t,e),this},disableButtons:function(t){var e=function(t){t.attr("disabled","disabled")};return this.__alterButtons(t,e),this},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.keyup(e)},keypress:function(t){this.suppressKeyPressRepeat||this.keyup(t)},keyup:function(t){var e=!1;switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var n;if(n=this.getNextTab(),null!=n){var i=this;setTimeout(function(){i.setSelection(n.start,n.end)},500),e=!0}else{var r=this.getSelection();r.start==r.end&&r.end==this.getContent().length?e=!1:(this.setSelection(this.getContent().length,this.getContent().length),e=!0)}break;case 13:case 27:e=!1;break;default:e=!1}e&&(t.stopPropagation(),t.preventDefault())},focus:function(){var e=this.$options,n=(e.hideable,this.$editor);return n.addClass("active"),t(document).find(".md-editor").each(function(){if(t(this).attr("id")!=n.attr("id")){var e;e=t(this).find("textarea").data("markdown"),null==e&&(e=t(this).find('div[data-provider="markdown-preview"]').data("markdown")),e&&e.blur()}}),this},blur:function(){var e=this.$options,n=e.hideable,i=this.$editor,r=this.$editable;if(i.hasClass("active")||0==this.$element.parent().length){if(i.removeClass("active"),n)if(null!=r.el){var s=t("<"+r.type+"/>"),o=this.getContent(),a="object"==typeof markdown?markdown.toHTML(o):o;t(r.attrKeys).each(function(t){s.attr(r.attrKeys[t],r.attrValues[t])}),s.html(a),i.replaceWith(s)}else i.hide();e.onBlur(this)}return this}};var n=t.fn.markdown;t.fn.markdown=function(n){return this.each(function(){var i=t(this),r=i.data("markdown"),s="object"==typeof n&&n;r||i.data("markdown",r=new e(this,s))})},t.fn.markdown.defaults={autofocus:!1,hideable:!1,savable:!1,width:"inherit",height:"inherit",buttons:[[{name:"groupFont",data:[{name:"cmdBold",title:"Bold",icon:"glyphicon glyphicon-bold",callback:function(t){var e,n,i=t.getSelection(),r=t.getContent();e=0==i.length?"strong text":i.text,"**"==r.substr(i.start-2,2)&&"**"==r.substr(i.end,2)?(t.setSelection(i.start-2,i.end+2),t.replaceSelection(e),n=i.start-2):(t.replaceSelection("**"+e+"**"),n=i.start+2),t.setSelection(n,n+e.length)}},{name:"cmdItalic",title:"Italic",icon:"glyphicon glyphicon-italic",callback:function(t){var e,n,i=t.getSelection(),r=t.getContent();e=0==i.length?"emphasized text":i.text,"*"==r.substr(i.start-1,1)&&"*"==r.substr(i.end,1)?(t.setSelection(i.start-1,i.end+1),t.replaceSelection(e),n=i.start-1):(t.replaceSelection("*"+e+"*"),n=i.start+1),t.setSelection(n,n+e.length)}},{name:"cmdHeading",title:"Heading",icon:"glyphicon glyphicon-font",callback:function(t){var e,n,i,r,s=t.getSelection(),o=t.getContent();e=0==s.length?"heading text":s.text,i=4,"### "==o.substr(s.start-i,i)||(i=3,"###"==o.substr(s.start-i,i))?(t.setSelection(s.start-i,s.end),t.replaceSelection(e),n=s.start-i):(r=o.substr(s.start-1,1),r&&"\n"!=r?(t.replaceSelection("\n\n### "+e+"\n"),n=s.start+6):(t.replaceSelection("### "+e+"\n"),n=s.start+4)),t.setSelection(n,n+e.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",icon:"glyphicon glyphicon-globe",callback:function(t){{var e,n,i,r=t.getSelection();t.getContent()}e=0==r.length?"enter link description here":r.text,i=prompt("Insert Hyperlink","http://"),null!=i&&"http://"!==i&&(t.replaceSelection("["+e+"]("+i+")"),n=r.start+1,t.setSelection(n,n+e.length))}},{name:"cmdImage",title:"Image",icon:"glyphicon glyphicon-picture",callback:function(t){{var e,n,i,r=t.getSelection();t.getContent()}e=0==r.length?"enter image description here":r.text,i=prompt('Insert Image Hyperlinks (Use the "Attach a file" button to upload files)',"http://"),null!=i&&"http://"!==i&&(t.replaceSelection("!["+e+"]("+i+' "enter image title here")'),n=r.start+2,t.setNextTab("enter image title here"),t.setSelection(n,n+e.length))}}]},{name:"groupMisc",data:[{name:"cmdList",title:"List",icon:"glyphicon glyphicon-list",callback:function(e){{var n,i,r=e.getSelection();e.getContent()}if(0==r.length)n="list text here",e.replaceSelection("* "+n),i=r.start+2;else if(r.text.indexOf("\n")<0)n=r.text,e.replaceSelection("* "+n),i=r.start+2;else{var s=[];s=r.text.split("\n"),n=s[0],t.each(s,function(t,e){s[t]="* "+e}),e.replaceSelection("\n\n"+s.join("\n")),i=r.start+4}e.setSelection(i,i+n.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:!0,title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:"glyphicon glyphicon-search",callback:function(t){var e=t.$isPreview;0==e?t.showPreview():t.hidePreview()}}]}]],additionalButtons:[],onShow:function(){},onPreview:function(){},onSave:function(){},onBlur:function(){}},t.fn.markdown.Constructor=e,t.fn.markdown.noConflict=function(){return t.fn.markdown=n,this};var i=function(t){var e=t;return e.data("markdown")?(e.data("markdown").showEditor(),void 0):(e.markdown(e.data()),void 0)},r=function(e){var n,i=!1,r=t(e.currentTarget);"focusin"!=e.type&&"click"!=e.type||1!=r.length||"object"!=typeof r[0]||(n=r[0].activeElement,t(n).data("markdown")||("undefined"==typeof t(n).parent().parent().parent().attr("class")||t(n).parent().parent().parent().attr("class").indexOf("md-editor")<0?("undefined"==typeof t(n).parent().parent().attr("class")||t(n).parent().parent().attr("class").indexOf("md-editor")<0)&&(i=!0):i=!1),i&&t(document).find(".md-editor").each(function(){var e=t(n).parent();if(t(this).attr("id")!=e.attr("id")){var i;i=t(this).find("textarea").data("markdown"),null==i&&(i=t(this).find('div[data-provider="markdown-preview"]').data("markdown")),i&&i.blur()}}),e.stopPropagation())};t(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(e){i(t(this)),e.preventDefault()}).on("click",function(t){r(t)}).on("focusin",function(t){r(t)}).ready(function(){t('textarea[data-provide="markdown"]').each(function(){i(t(this))})})}(window.jQuery),function(t){window.NestedFormEvents=function(){this.addFields=t.proxy(this.addFields,this),this.removeFields=t.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(e){var n=e.currentTarget,i=t(n).data("association"),r=t("#"+t(n).data("blueprint-id")),s=r.data("blueprint"),o=(t(n).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(new RegExp("[[a-z_]+]$"),"");if(o)for(var a=o.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],l=o.match(/[0-9]+/g)||[],c=0;c<a.length;c++)l[c]&&(s=s.replace(new RegExp("(_"+a[c]+")_.+?_","g"),"$1_"+l[c]+"_"),s=s.replace(new RegExp("(\\["+a[c]+"\\])\\[.+?\\]","g"),"$1["+l[c]+"]"));var u=new RegExp("new_"+i,"g"),h=this.newId();s=t.trim(s.replace(u,h));var d=this.insertFields(s,i,n);return d.trigger({type:"nested:fieldAdded",field:d}).trigger({type:"nested:fieldAdded:"+i,field:d}),!1},newId:function(){return(new Date).getTime()},insertFields:function(e,n,i){var r=t(i).data("target");return r?t(e).appendTo(t(r)):t(e).insertBefore(i)},removeFields:function(e){var n=t(e.currentTarget),i=n.data("association"),r=n.prev("input[type=hidden]");r.val("1");var s=n.closest(".fields");return s.hide(),s.trigger({type:"nested:fieldRemoved",field:s}).trigger({type:"nested:fieldRemoved:"+i,field:s}),!1}},window.nestedFormEvents=new NestedFormEvents,t(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),function(t){t.fn.closestChild=function(e){if(e&&""!=e){var n=[];for(n.push(this);n.length>0;)for(var i=n.shift(),r=i.children(),s=0;s<r.length;++s){var o=t(r[s]);if(o.is(e))return o;n.push(o)}}return t()}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){var n=0,i=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(s){}r(e)},t.widget=function(e,n,i){var r,s,o,a,l={},c=e.split(".")[0];e=e.split(".")[1],r=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[c]=t[c]||{},s=t[c][e],o=t[c][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,s,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,s=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=s,e}}(),void 0):(l[e]=i,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix:e},l,{constructor:o,namespace:c,widgetName:e,widgetFullName:r}),s?(t.each(s._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o)},t.widget.extend=function(n){for(var r,s,o=i.call(arguments,1),a=0,l=o.length;l>a;a++)for(r in o[a])s=o[a][r],o[a].hasOwnProperty(r)&&s!==e&&(n[r]=t.isPlainObject(s)?t.isPlainObject(n[r])?t.widget.extend({},n[r],s):t.widget.extend({},s):s);return n},t.widget.bridge=function(n,r){var s=r.prototype.widgetFullName||n;t.fn[n]=function(o){var a="string"==typeof o,l=i.call(arguments,1),c=this;return o=!a&&l.length?t.widget.extend.apply(null,[o].concat(l)):o,a?this.each(function(){var i,r=t.data(this,s);return r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(i=r[o].apply(r,l),i!==r&&i!==e?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,s);e?e.option(o||{})._init():t.data(this,s,new r(o,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var r,s,o,a=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(s=a[n]=t.widget.extend({},this.options[n]),o=0;o<r.length-1;o++)s[r[o]]=s[r[o]]||{},s=s[r[o]];if(n=r.pop(),i===e)return s[n]===e?null:s[n];s[n]=i}else{if(i===e)return this.options[n]===e?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,i){var r,s=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,o){function a(){return e||s.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+s.eventNamespace,u=l[2];u?r.delegate(u,c,a):n.bind(c,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,s,o=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(r in s)r in n||(n[r]=s[r]);return this.element.trigger(n,i),!(t.isFunction(o)&&o.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,s){"string"==typeof r&&(r={effect:r});var o,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=s,r.delay&&i.delay(r.delay),o&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,s):i.queue(function(n){t(this)[e](),s&&s.call(i[0]),n()})}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(n){if(n.async){var i,r,s;return{send:function(o,a){i=t('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),s=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+s+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+s+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+s+"_method=PATCH",n.type="POST"),r=t('<iframe src="javascript:false;" name="iframe-transport-'+(e+=1)+'"></iframe>').bind("load",function(){var e,s=t.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var e;try{if(e=r.contents(),!e.length||!e[0].firstChild)throw new Error}catch(n){e=void 0}a(200,"success",{iframe:e}),t('<iframe src="javascript:false;"></iframe>').appendTo(i),i.remove()}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&t.each(n.formData,function(e,n){t('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(e=n.fileInput.clone(),n.fileInput.after(function(t){return e[t]}),n.paramName&&n.fileInput.each(function(e){t(this).prop("name",s[e]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),i.submit(),e&&e.length&&n.fileInput.each(function(n,i){var r=t(e[n]);t(i).prop("name",r.prop("name")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src","javascript".concat(":false;")),i&&i.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):t(window.jQuery)}(function(t){"use strict";t.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.propHooks.elements={get:function(e){return t.nodeName(e,"form")?t.grep(e.elements,function(e){return!t.nodeName(e,"input")||"file"!==e.type}):null}},t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:t(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,formData:function(t){return t.serializeArray()},add:function(t,e){e.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+new Date,this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"==typeof e.formData?e.formData(e.form):t.isArray(e.formData)?e.formData:e.formData?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_onProgress:function(t,e){if(t.lengthComputable){var n,i,r=+new Date;if(e._time&&e.progressInterval&&r-e._time<e.progressInterval&&t.loaded!==t.total)return;e._time=r,n=e.total||this._getTotal(e.files),i=parseInt(t.loaded/t.total*(e.chunkSize||n),10)+(e.uploadedBytes||0),this._loaded+=i-(e.loaded||e.uploadedBytes||0),e.lengthComputable=!0,e.loaded=i,e.total=n,e.bitrate=e._bitrateTimer.getBitrate(r,i,e.bitrateInterval),this._trigger("progress",t,e),this._trigger("progressall",t,{lengthComputable:!0,loaded:this._loaded,total:this._total,bitrate:this._bitrateTimer.getBitrate(r,this._loaded,e.bitrateInterval)})}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_initXHRData:function(e){var n,i=e.files[0],r=e.multipart||!t.support.xhrFileUpload,s=e.paramName[0];e.headers=e.headers||{},e.contentRange&&(e.headers["Content-Range"]=e.contentRange),r?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:s,value:e.blob}):t.each(e.files,function(t,i){n.push({name:e.paramName[t]||s,value:i})})):(e.formData instanceof FormData?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"',n.append(s,e.blob,i.name)):t.each(e.files,function(t,i){(window.Blob&&i instanceof Blob||window.File&&i instanceof File)&&n.append(e.paramName[t]||s,i,i.name)})),e.data=n):(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"',e.contentType=i.type,e.data=e.blob||i),e.blob=null},_initIframeSettings:function(e){e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t("<a></a>").prop("href",e.url).prop("host")!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t,"iframe")},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",r=(e.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var r=t.Deferred(),s=r.promise();return n=n||this.options.context||s,e===!0?r.resolveWith(n,i):e===!1&&r.rejectWith(n,i),s.abort=r.promise,this._enhancePromise(s)},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){var i,r,s=this,o=e.files[0],a=o.size,l=e.uploadedBytes=e.uploadedBytes||0,c=e.maxChunkSize||a,u=o.slice||o.webkitSlice||o.mozSlice,h=t.Deferred(),d=h.promise();return this._isXHRUpload(e)&&u&&(l||a>c)&&!e.data?n?!0:l>=a?(o.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,e.context,[null,"error",o.error])):(r=function(){var n=t.extend({},e);n.blob=u.call(o,l,l+c,o.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+a,s._initXHRData(n),s._initProgressListener(n),i=(s._trigger("chunksend",null,n)!==!1&&t.ajax(n)||s._getXHRPromise(!1,n.context)).done(function(i,o,c){l=s._getUploadedBytes(c)||l+n.chunkSize,(!n.loaded||n.loaded<n.total)&&s._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=o,n.jqXHR=c,s._trigger("chunkdone",null,n),s._trigger("chunkalways",null,n),a>l?r():h.resolveWith(n.context,[i,o,c])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,s._trigger("chunkfail",null,n),s._trigger("chunkalways",null,n),h.rejectWith(n.context,[t,e,i])})},this._enhancePromise(d),d.abort=function(){return i.abort()},r(),d):!1},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer),this._active+=1,this._loaded+=e.uploadedBytes||0,this._total+=this._getTotal(e.files)},_onDone:function(e,n,i,r){if(!this._isXHRUpload(r)||!r.loaded||r.loaded<r.total){var s=this._getTotal(r.files)||1;this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:s,total:s}),r)}r.result=e,r.textStatus=n,r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(t,e,n,i){i.jqXHR=t,i.textStatus=e,i.errorThrown=n,this._trigger("fail",null,i),i.recalculateProgress&&(this._loaded-=i.loaded||i.uploadedBytes||0,this._total-=i.total||this._getTotal(i.files))},_onAlways:function(t,e,n,i){this._active-=1,this._trigger("always",null,i),0===this._active&&(this._trigger("stop"),this._loaded=this._total=0,this._bitrateTimer=null)},_onSend:function(e,n){var i,r,s,o,a=this,l=a._getAJAXSettings(n),c=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,i=i||((r||a._trigger("send",e,l)===!1)&&a._getXHRPromise(!1,l.context,r)||a._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){a._onDone(t,e,n,l)}).fail(function(t,e,n){a._onFail(t,e,n,l)}).always(function(t,e,n){if(a._sending-=1,a._onAlways(t,e,n,l),l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var i,r=a._slots.shift();r;){if(i=r.state?"pending"===r.state():!r.isRejected()){r.resolve();break}r=a._slots.shift()}})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(s=t.Deferred(),this._slots.push(s),o=s.pipe(c)):o=this._sequence=this._sequence.pipe(c,c),o.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(s&&s.rejectWith(l.context,r),c())},this._enhancePromise(o)):c()},_onAdd:function(e,n){var i,r,s,o,a=this,l=!0,c=t.extend({},this.options,n),u=c.limitMultiFileUploads,h=this._getParamName(c);if((c.singleFileUploads||u)&&this._isXHRUpload(c))if(!c.singleFileUploads&&u)for(s=[],i=[],o=0;o<n.files.length;o+=u)s.push(n.files.slice(o,o+u)),r=h.slice(o,o+u),r.length||(r=h),i.push(r);else i=h;else s=[n.files],i=[h];return n.originalFiles=n.files,t.each(s||n.files,function(r,o){var c=t.extend({},n);return c.files=s?o:[o],c.paramName=i[r],c.submit=function(){return c.jqXHR=this.jqXHR=a._trigger("submit",e,this)!==!1&&a._onSend(e,this),this.jqXHR},l=a._trigger("add",e,c)}),l},_replaceFileInput:function(e){var n=e.clone(!0);t("<form></form>").append(n)[0].reset(),e.after(n).detach(),t.cleanData(e.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,i){return i===e[0]?n[0]:i}),e[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(e,n){var i,r=this,s=t.Deferred(),o=function(t){t&&!t.entry&&(t.entry=e),s.resolve([t])};return n=n||"",e.isFile?e._file?(e._file.relativePath=n,s.resolve(e._file)):e.file(function(t){t.relativePath=n,s.resolve(t)},o):e.isDirectory?(i=e.createReader(),i.readEntries(function(t){r._handleFileTreeEntries(t,n+e.name+"/").done(function(t){s.resolve(t)}).fail(o)},o)):s.resolve([]),s.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;
return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,r=e.prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=t.makeArray(e.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(i=e.prop("value"),!i)return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(t){i.files=t,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),n._trigger("change",e,i)!==!1&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent.clipboardData,i=n&&n.items||[],r={files:[]};return t.each(i,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&r.files.push(n)}),this._trigger("paste",e,r)===!1||this._onAdd(e,r)===!1?!1:void 0},_onDrop:function(t){var e=this,n=t.dataTransfer=t.originalEvent.dataTransfer,i={};n&&n.files&&n.files.length&&t.preventDefault(),this._getDroppedFiles(n).always(function(n){i.files=n,e._trigger("drop",t,i)!==!1&&e._onAdd(t,i)})},_onDragOver:function(e){var n=e.dataTransfer=e.originalEvent.dataTransfer;return this._trigger("dragover",e)===!1?!1:(n&&-1!==t.inArray("Files",n.types)&&(n.dropEffect="copy",e.preventDefault()),void 0)},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=-1!==t.inArray(e,this._refreshOptionsList);i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_create:function(){var e=this.options;t.extend(e,t(this.element[0].cloneNode(!1)).data()),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=this._loaded=this._total=0,this._initEventHandlers()},_destroy:function(){this._destroyEventHandlers()},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,s=t.Deferred(),o=s.promise();return o.abort=function(){return i=!0,n?n.abort():(s.reject(null,"abort","abort"),o)},this._getFileInputFiles(e.fileInput).always(function(t){i||(e.files=t,n=r._onSend(null,e).then(function(t,e,n){s.resolve(t,e,n)},function(t,e,n){s.reject(t,e,n)}))}),this._enhancePromise(o)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(t){"use strict";var e=function(t,n){var i=/[^\w\-\.:]/.test(t)?new Function(e.arg+",tmpl","var _e=tmpl.encode"+e.helper+",_s='"+t.replace(e.regexp,e.func)+"';return _s;"):e.cache[t]=e.cache[t]||e(e.load(t));return n?i(n,e):function(t){return i(t,e)}};e.cache={},e.load=function(t){return document.getElementById(t).innerHTML},e.regexp=/([\s'\\])(?![^%]*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,e.func=function(t,e,n,i,r,s){return e?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[t]||"\\"+t:n?"="===n?"'+_e("+i+")+'":"'+("+i+"||'')+'":r?"';":s?"_s+='":void 0},e.encReg=/[<>&"'\x00]/g,e.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},e.encode=function(t){return String(t||"").replace(e.encReg,function(t){return e.encMap[t]||""})},e.arg="o",e.helper=",print=function(s,e){_s+=e&&(s||'')||_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return e}):t.tmpl=e}(this),function(){var t;t=jQuery,t.fn.S3Uploader=function(e){var n,i,r,s,o,a,l,c;return this.length>1?(this.each(function(){return t(this).S3Uploader(e)}),this):(n=this,c={path:"",additional_data:null,before_add:null,remove_completed_progress_bar:!0,remove_failed_progress_bar:!1,progress_bar_target:null,click_submit_target:null,allow_multiple_files:!0},t.extend(c,e),s=[],o=[],c.click_submit_target&&c.click_submit_target.click(function(){var t,e,n;for(e=0,n=o.length;n>e;e++)t=o[e],t.submit();return!1}),l=function(){return n.fileupload({add:function(e,i){var r;return r=i.files[0],r.unique_id=Math.random().toString(36).substr(2,16),!c.before_add||c.before_add(r)?(s.push(i),t("#template-upload").length>0?(i.context=t(t.trim(tmpl("template-upload",r))),t(i.context).appendTo(c.progress_bar_target||n)):c.allow_multiple_files||(i.context=c.progress_bar_target),c.click_submit_target?c.allow_multiple_files?o.push(i):o=[i]:i.submit()):void 0},start:function(t){return n.trigger("s3_uploads_start",[t])},progress:function(t,e){var n;return e.context?(n=parseInt(e.loaded/e.total*100,10),e.context.find(".bar").css("width",n+"%")):void 0},done:function(e,r){var o,a;return a=i(n,r.files[0],r.result),o=n.data("callback-url"),o&&(a[n.data("callback-param")]=a.url,t.ajax({type:n.data("callback-method"),url:o,data:a,beforeSend:function(t,e){return n.trigger("ajax:beforeSend",[t,e])},complete:function(t,e){return n.trigger("ajax:complete",[t,e])},success:function(t,e,i){return n.trigger("ajax:success",[t,e,i])},error:function(t,e,i){return n.trigger("ajax:error",[t,e,i])}})),r.context&&c.remove_completed_progress_bar&&r.context.remove(),n.trigger("s3_upload_complete",[a]),s.splice(t.inArray(r,s),1),s.length?void 0:n.trigger("s3_uploads_complete",[a])},fail:function(t,e){var r;return r=i(n,e.files[0],e.result),r.error_thrown=e.errorThrown,e.context&&c.remove_failed_progress_bar&&e.context.remove(),n.trigger("s3_upload_failed",[r])},formData:function(e){var i,r,s,o;return i=e.serializeArray(),r="","type"in this.files[0]&&(r=this.files[0].type),i.push({name:"content-type",value:r}),s=n.data("key").replace("{timestamp}",(new Date).getTime()).replace("{unique_id}",this.files[0].unique_id).replace("{extension}",this.files[0].name.split(".").pop()),o=t.grep(i,function(t){return"key"===t.name?t:void 0}),o.length>0&&(o[0].value=c.path+s),"FormData"in window||n.find("input[name='key']").val(c.path+s),i}})},i=function(e,n,i){var s,o;return s={},i?(s.url=t(i).find("Location").text(),s.filepath=t("<a />").attr("href",s.url)[0].pathname):(o=e.attr("action"),s.filepath=e.find("input[name=key]").val().replace("/${filename}",""),s.url=o+s.filepath+"/"+encodeURIComponent(n.name)),s.filename=n.name,"size"in n&&(s.filesize=n.size),"lastModifiedDate"in n&&(s.lastModifiedDate=n.lastModifiedDate),"type"in n&&(s.filetype=n.type),"unique_id"in n&&(s.unique_id=n.unique_id),a(n)&&(s.relativePath=r(n)),c.additional_data&&(s=t.extend(s,c.additional_data)),s},a=function(t){return t.relativePath||t.webkitRelativePath},r=function(t){return t.relativePath||(t.webkitRelativePath?t.webkitRelativePath.split("/").slice(0,-1).join("/")+"/":void 0)},this.initialize=function(){return n.data("key",n.find("input[name='key']").val()),l(),this},this.path=function(t){return c.path=t},this.additional_data=function(t){return c.additional_data=t},this.initialize())}}.call(this);